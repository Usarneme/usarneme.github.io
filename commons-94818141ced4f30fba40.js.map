{"version":3,"sources":["webpack:///./node_modules/react-side-effect/lib/index.js","webpack:///./node_modules/react-pts-canvas/dist/index.es.js","webpack:///./node_modules/@babel/runtime/helpers/esm/classCallCheck.js","webpack:///./node_modules/@babel/runtime/helpers/esm/createClass.js","webpack:///./node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js","webpack:///./node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js","webpack:///./node_modules/@babel/runtime/helpers/esm/get.js","webpack:///./node_modules/@babel/runtime/helpers/esm/superPropBase.js","webpack:///./node_modules/@babel/runtime/helpers/esm/inherits.js","webpack:///./node_modules/@babel/runtime/helpers/esm/typeof.js","webpack:///./node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js","webpack:///./node_modules/@babel/runtime/helpers/esm/isNativeReflectConstruct.js","webpack:///./node_modules/@babel/runtime/helpers/esm/construct.js","webpack:///./node_modules/@babel/runtime/helpers/esm/wrapNativeSuper.js","webpack:///./node_modules/@babel/runtime/helpers/esm/isNativeFunction.js","webpack:///./node_modules/pts/dist/es2015/Util.js","webpack:///./node_modules/@babel/runtime/helpers/esm/slicedToArray.js","webpack:///./node_modules/@babel/runtime/helpers/esm/arrayWithHoles.js","webpack:///./node_modules/@babel/runtime/helpers/esm/iterableToArrayLimit.js","webpack:///./node_modules/@babel/runtime/helpers/esm/nonIterableRest.js","webpack:///./node_modules/pts/dist/es2015/LinearAlgebra.js","webpack:///./node_modules/pts/dist/es2015/Op.js","webpack:///./node_modules/pts/dist/es2015/Num.js","webpack:///./node_modules/pts/dist/es2015/Pt.js","webpack:///./node_modules/pts/dist/es2015/UI.js","webpack:///./node_modules/pts/dist/es2015/Space.js","webpack:///./node_modules/pts/dist/es2015/Form.js","webpack:///./node_modules/pts/dist/es2015/Create.js","webpack:///./node_modules/pts/dist/es2015/Color.js","webpack:///./node_modules/pts/dist/es2015/Dom.js","webpack:///./node_modules/pts/dist/es2015/Svg.js","webpack:///./node_modules/pts/dist/es2015/Physics.js","webpack:///./src/components/header.js","webpack:///./src/components/layout.js","webpack:///./node_modules/shallowequal/index.js","webpack:///./node_modules/react-helmet/lib/Helmet.js","webpack:///./node_modules/react-fast-compare/index.js","webpack:///./node_modules/react-helmet/lib/HelmetConstants.js","webpack:///./node_modules/regenerator-runtime/runtime.js","webpack:///./node_modules/@babel/runtime/regenerator/index.js","webpack:///./node_modules/react-helmet/lib/HelmetUtils.js","webpack:///./src/components/seo.js"],"names":["_interopDefault","ex","React","React__default","shallowEqual","_defineProperty","obj","key","value","Object","defineProperty","enumerable","configurable","writable","canUseDOM","window","document","createElement","module","exports","reducePropsToState","handleStateChangeOnClient","mapStateOnServer","Error","WrappedComponent","state","mountedInstances","emitChange","map","instance","props","SideEffect","_Component","subClass","superClass","apply","this","arguments","prototype","create","constructor","__proto__","peek","rewind","recordedState","undefined","_proto","shouldComponentUpdate","nextProps","componentWillMount","push","componentDidUpdate","componentWillUnmount","index","indexOf","splice","render","Component","displayName","name","getDisplayName","classCallCheck","Constructor","TypeError","createClass","defineProperties","target","i","length","descriptor","protoProps","staticProps","inherits","setPrototypeOf","possibleConstructorReturn","self","call","ReferenceError","_React$Component","PtsCanvas","_this","getPrototypeOf","canvRef","createRef","space","form","_touch","init","_update","dispose","play","playOnce","touch","bindMouse","bindTouch","time","ftime","point","pointer","bound","size","evt","type","px","py","setup","bgcolor","background","resize","retina","getForm","add","_this2","className","style","ref","c","canvasStyle","defaultProps","QuickStartCanvas","_PtsCanvas","onAnimate","onStart","onResize","onAction","_classCallCheck","_defineProperties","_createClass","_assertThisInitialized","_getPrototypeOf","o","property","receiver","Reflect","get","base","object","hasOwnProperty","desc","getOwnPropertyDescriptor","_inherits","_typeof","Symbol","iterator","_possibleConstructorReturn","_isNativeReflectConstruct","construct","sham","Proxy","Date","toString","e","Parent","args","Class","a","Function","bind","_cache","Map","fn","has","set","Wrapper","Const","xy","yz","xz","xyz","horizontal","vertical","identical","right","bottom_right","bottom","bottom_left","left","top_left","top","top_right","epsilon","max","Number","MAX_VALUE","min","MIN_VALUE","pi","Math","PI","two_pi","half_pi","quarter_pi","one_degree","rad_to_deg","deg_to_rad","gravity","newton","gaussian","Util","lv","_warnLevel","pos","isArray","Array","ArrayBuffer","isView","slice","p","message","defaultReturn","warnLevel","console","warn","range","start","floor","random","pts","stride","loopBack","matchSize","chunks","part","st","k","flattenAsGroup","arr","concat","b","op","result","len","lenB","arrays","z","callback","step","temp","url","request","XMLHttpRequest","open","onload","status","responseText","onerror","send","avgFrames","last","now","avg","shift","reduce","minRequired","it","_slicedToArray","_arr","_n","_d","_e","_s","_i","next","done","err","unsupportedIterableToArray","Vec","_len","_i2","_len2","_i3","_len3","_i4","_len4","d","sqrt","dot","magnitude","m","make","divide","abs","ceil","round","s","Mat","g","isNum","$add","transposed","elementwise","ai","alen","$multiply","transpose","_ai","_alen","bi","blen","_ai2","_alen2","defaultValue","useLongest","ps","zipSlice","zip","pt","x","y","cosA","sinA","tanX","tanY","sx","sy","at","scale2DMatrix","rotate2DMatrix","shear2DMatrix","p1","p2","intercept","yi","ang2","atan","slope","cos","sin","_createForOfIteratorHelper","allowArrayLike","minLen","_arrayLikeToArray","n","from","test","_unsupportedIterableToArray","F","f","normalCompletion","didErr","_e2","return","arr2","param","Line","anchor","angle","toAngle","xi","line","_line","iterToArray","p3","threshold","to","$subtract","$cross","equals","magnitudeSq","asProjection","proj","$project","projectionVector","perpendicularFromPt","la","lb","_la","_lb","pa","pb","y1","_y","intersectRay2D","withinBound","ray","_ray","lineOrRay","poly","sourceIsRay","_lineOrRay","_poly","intersectLineWithRay2D","intersectLine2D","lines1","lines2","_step","isRay","group","_iterator","_step2","l1","_iterator2","l2","_ip","gridPt","t","subtract","intersectGridWithRay2D","gg","rect","_rect","box","boundingBox","fromPtArray","hasIntersectRect2D","intersectLines2D","sides","num","interpolate","cropAsCircle","tdx","ls","unit","multiply","fromCenter","sideIdx","graphic","atTail","h","perpendicular","$min","$max","Rectangle","topLeft","widthOrSize","height","fromTopLeft","center","half","within","fromRect","enclose","_pts","maxValue","minValue","p0","_Rectangle$corners2","corners","rects","_rects","merged","flatten","_step3","_iterator3","_center","ratio","asRows","mid","lerp","rect1","rect2","resetBoundingBox","_rect1","_rect2","Circle","r","circumcircle","incircle","radius","circle","disc","discSqrt","t1","t2","circle1","circle2","_circle","dv","dr2","dr","ar","br","ar2","br2","clone","ang","inc","Triangle","toTriangle","fromCircle","tri","midpoints","opp","oppositeSide","altitude","bisector","incenter","area","perimeter","total","md","medial","circumcenter","Polygon","centroid","closePath","sp","split","lines","mids","gs","adjacentSides","mag","segments","det","sorted","sort","dq","bot","hull","originIndex","_step4","_near","_item","_iterator4","unitAxis","poly1","poly2","projectAxis","ln","lineAt","info","which","dist","normal","edge","vertex","minDist","MAX_SAFE_INTEGER","axis","_axisOverlap","_poly1","_poly2","plen","b1","b2","c1","c2","smallest","lp","ins","intersectPolygon2D","polys","_step5","boxes","_iterator5","unshift","Curve","steps","ts","copyStart","_index","ctrls","params","getSteps","controlPoints","catmullRomStep","cp","_calcPt","tension","cardinalStep","h2","h3","bezierStep","bsplineTensionStep","bsplineStep","Num","val","fill","sum","method","sineInOut","currA","currB","targetA","targetB","normalizeValue","Geom","boundValue","radian","minPt","maxPt","average","ptOrIndex","direction","boundPt1","boundPt2","bounds","da","db","$cross2D","_scale","scs","lenP","rotateAt2DMatrix","$take","transform2D","scale","shearAt2DMatrix","tanx","tan","tany","mat","reflectAt2DMatrix","Float64Array","table","rad","boundAngle","toDegree","Shaping","dt","pow","t4","t6","bounceOut","bounceIn","exp","A","B","C","om2a","curve","tt","_key","_createSuper","Derived","hasNativeReflectConstruct","Super","NewTarget","_Float32Array","Pt","_super","getArgs","_id","_key2","_this$clone","anchorFromPt","change","_key3","fns","_ops","_key4","toArray","_len5","_key5","_this$clone2","_len6","_key6","_this$clone3","_len7","_key7","_this$clone4","_len8","_key8","_this$clone5","_len9","_key9","_len10","_key10","cross2D","_len11","_key11","cross","_len12","_key12","_len13","_key13","atan2","boundRadian","rotate2D","shear2D","reflect2D","join","dimensions","randomize","Float32Array","_Array","Group","_super2","_len14","_key14","chunkSize","count","pts_per_segment","_len15","_key15","clamp","chunk","tc","idx","_len16","_key16","moveBy","_scale2","dim","ptFn","_len17","_key17","_this$i","_len18","_key18","forEachPt","_len19","_key19","_len20","_key20","_len21","_key21","list","li","_Group","Bound","_super3","_len22","_key22","_size","_topLeft","_bottomRight","_inited","_updateSize","_updateCenter","_updatePosFromTop","_updatePosFromCenter","w","width","_g","UIShape","UIPointerActions","up","down","move","drag","uidrag","drop","uidrop","over","out","enter","leave","contextmenu","all","UI","shape","states","id","_holds","_group","fromArray","_shape","_counter","_states","_actions","_addHandler","_removeHandler","_within","values","_trigger","newKey","keys","delete","clear","hasIntersectPoint","ui","uis","listen","_Space","MultiTouchSpace","_pressed","_dragged","_hasMouse","_hasTouch","_pointer","options","_canvas","addEventListener","removeEventListener","_bind","bindCanvas","_mouseDown","_mouseUp","_mouseOver","_mouseOut","_mouseMove","_contextMenu","unbindCanvas","_touchStart","passive","_touchMove","item","pageX","pageY","MouseEvent","players","v","outerBound","action","_k","_v","changedTouches","_mouseAction","preventDefault","Space","_time","prev","diff","end","playerCount","_animID","_pause","_refresh","_isReady","_playing","player","animate","pid","animateID","inited","requestAnimationFrame","playItems","cancelAnimationFrame","toggle","duration","stop","context","_renderFunc","_Form","VisualForm","_filled","_stroked","_font","groups","rest","stroke","linejoin","linecap","_multiple","Form","_ready","Font","face","weight","lineHeight","Create","depth","subpoints","columns","rows","orientation","$divide","offset","angleOffset","dx","dy","seed","np","initNoise","__noise_grad3","__noise_permTable","_Pt","Noise","perm","j","n00","n01","n10","n11","_fade","tx","Delaunay","_mesh","_this3","triangleOnly","indices","_superTriangle","opened","_circum","closed","tris","edges","circum","triangle","_dedupe","vs","neighborPts","cs","sortEdges","dmax","_triangle","Color","_mode","_isNorm","toMode","mode","convert","fname","toUpperCase","toNorm","ranges","mapToRange","normalize","format","_hex","alpha","hex","substr","substring","hexVal","parseInt","rgb","normalizedInput","normalizedOutput","_ref","$normalize","_ref2","l","hsl","_hsl","q","sc","_ref3","_ref4","hsb","_hsb","pick","XYZtoLAB","RGBtoXYZ","lab","XYZtoRGB","LABtoXYZ","LABtoLCH","RGBtoLAB","lch","LABtoRGB","LCHtoLAB","XYZtoLUV","luv","LUVtoXYZ","cc","_ref5","_ref6","D65","cy","nnn","_ref7","_ref8","u","refU","refV","L","_ref9","_ref10","cubeY","toRadian","_MultiTouchSpace","DOMSpace","elem","_autoResize","_bgcolor","_css","_selector","Element","querySelector","_container","parentElement","appendChild","body","setTimeout","_resizeHandler","dispatchEvent","Event","refresh","opt","autoResize","auto","styles","fromBoundingRect","getBoundingClientRect","bg","innerHTML","backgroundColor","update","_styles","removeAll","appendTo","setAttribute","data","str","_DOMSpace","HTMLSpace","querySelectorAll","scopeID","forEach","el","parentNode","removeChild","parent","autoClass","_VisualForm","HTMLForm","_style","_ctx","groupID","groupCount","currentID","currentClass","_space","element","assign","styleTo","sizeOrFont","family","group_id","nextID","updateScope","halfsize","square","txt","text","startAngle","endAngle","ctx","domID","setAttr","htmlElement","getID","class","rectStyle","arrayCheck","textContent","textStyle","SVGSpace","nodeName","toLowerCase","svgElement","createElementNS","SVGForm","arc","polygon","cx","largeArc","sweep","points","pointsString","string","x1","x2","y2","Header","chartData","innerBound","bottomRight","clusterBoundary","distributeRandom","setState","colors","mult","activeClassName","siteTitle","Layout","children","query","Helmet","rel","media","href","site","siteMetadata","title","getFullYear","objA","objB","compare","compareContext","ret","keysA","keysB","bHasOwnProperty","valueA","valueB","__esModule","_extends","source","_react2","_interopRequireDefault","_propTypes2","_reactSideEffect2","_reactFastCompare2","_HelmetUtils","_HelmetConstants","default","_objectWithoutProperties","_class","_temp","HelmetSideEffects","handleClientStateChange","HelmetExport","HelmetWrapper","mapNestedChildrenToProps","child","nestedChildren","TAG_NAMES","SCRIPT","NOSCRIPT","STYLE","cssText","flattenArrayTypeChildren","_extends2","arrayTypeChildren","newChildProps","mapObjectTypeChildren","_extends3","_extends4","newProps","TITLE","titleAttributes","BODY","bodyAttributes","HTML","htmlAttributes","mapArrayTypeChildrenToProps","newFlattenedProps","arrayChildName","_extends5","warnOnInvalidChildren","mapChildrenToProps","Children","_child$props","childProps","convertReactPropstoHtmlAttributes","LINK","META","_props","propTypes","oneOfType","arrayOf","node","defaultTitle","defer","bool","encodeSpecialCharacters","link","meta","noscript","onChangeClientState","func","script","titleTemplate","mappedState","baseTag","linkTags","metaTags","noscriptTags","scriptTags","styleTags","renderStatic","keyList","hasProp","hasElementType","equal","arrA","arrB","dateA","dateB","getTime","regexpA","RegExp","regexpB","$$typeof","error","match","number","ATTRIBUTE_NAMES","BASE","HEAD","REACT_TAG_MAP","VALID_TAG_NAMES","TAG_PROPERTIES","CHARSET","CSS_TEXT","HREF","HTTPEQUIV","INNER_HTML","ITEM_PROP","NAME","PROPERTY","REL","SRC","accesskey","charset","contenteditable","itemprop","tabindex","HELMET_PROPS","DEFAULT_TITLE","DEFER","ENCODE_SPECIAL_CHARACTERS","ON_CHANGE_CLIENT_STATE","TITLE_TEMPLATE","HTML_TAG_MAP","SELF_CLOSING_TAGS","HELMET_ATTRIBUTE","runtime","Op","hasOwn","$Symbol","iteratorSymbol","asyncIteratorSymbol","asyncIterator","toStringTagSymbol","toStringTag","define","wrap","innerFn","outerFn","tryLocsList","protoGenerator","Generator","generator","Context","_invoke","arg","doneResult","delegate","delegateResult","maybeInvokeDelegate","ContinueSentinel","sent","_sent","dispatchException","abrupt","record","tryCatch","makeInvokeMethod","GeneratorFunction","GeneratorFunctionPrototype","IteratorPrototype","getProto","NativeIteratorPrototype","Gp","defineIteratorMethods","AsyncIterator","PromiseImpl","previousPromise","callInvokeWithMethodAndArg","resolve","reject","invoke","__await","then","unwrapped","resultName","nextLoc","pushTryEntry","locs","entry","tryLoc","catchLoc","finallyLoc","afterLoc","tryEntries","resetTryEntry","completion","reset","iterable","iteratorMethod","isNaN","isGeneratorFunction","genFun","ctor","mark","awrap","async","Promise","iter","reverse","pop","skipTempReset","charAt","rootRecord","rval","exception","handle","loc","caught","hasCatch","hasFinally","finallyEntry","complete","finish","thrown","delegateYield","regeneratorRuntime","accidentalStrictMode","_objectAssign2","clock","encode","String","replace","getTitleFromPropsList","propsList","innermostTitle","getInnermostProperty","innermostTemplate","innermostDefaultTitle","getOnChangeClientState","getAttributesFromPropsList","tagType","filter","tagAttrs","current","getBaseTagFromPropsList","primaryAttributes","innermostBaseTag","tag","lowerCaseAttributeKey","getTagsFromPropsList","tagName","approvedSeenTags","approvedTags","instanceTags","instanceSeenTags","primaryAttributeKey","attributeKey","tagUnion","rafPolyfill","currentTime","cafPolyfill","clearTimeout","webkitRequestAnimationFrame","mozRequestAnimationFrame","global","webkitCancelAnimationFrame","mozCancelAnimationFrame","msg","_helmetCallback","commitTagChanges","newState","cb","updateAttributes","updateTitle","tagUpdates","updateTags","addedTags","removedTags","_tagUpdates$tagType","newTags","oldTags","flattenArray","possibleArray","attributes","elementTag","getElementsByTagName","helmetAttributeString","getAttribute","helmetAttributes","attributesToRemove","attributeKeys","attribute","indexToSave","removeAttribute","tags","headElement","head","tagNodes","indexToDelete","newElement","styleSheet","createTextNode","some","existingTag","isEqualNode","generateElementAttributesAsString","attr","convertElementAttributestoReactProps","initProps","getMethodsForTag","toComponent","_initProps","attributeString","flattenedTitle","generateTitleAsString","_mappedTag","mappedTag","mappedAttribute","content","dangerouslySetInnerHTML","__html","generateTagsAsReactComponent","attributeHtml","tagContent","isSelfClosing","generateTagsAsString","initAttributes","_ref$title","SEO","description","lang","keywords","useStaticQuery","metaDescription","author"],"mappings":"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","file":"commons-94818141ced4f30fba40.js","sourcesContent":["'use strict';\n\nfunction _interopDefault(ex) {\n  return ex && typeof ex === 'object' && 'default' in ex ? ex['default'] : ex;\n}\n\nvar React = require('react');\n\nvar React__default = _interopDefault(React);\n\nvar shallowEqual = _interopDefault(require('shallowequal'));\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nfunction _inheritsLoose(subClass, superClass) {\n  subClass.prototype = Object.create(superClass.prototype);\n  subClass.prototype.constructor = subClass;\n  subClass.__proto__ = superClass;\n}\n\nvar canUseDOM = !!(typeof window !== 'undefined' && window.document && window.document.createElement);\n\nfunction withSideEffect(reducePropsToState, handleStateChangeOnClient, mapStateOnServer) {\n  if (typeof reducePropsToState !== 'function') {\n    throw new Error('Expected reducePropsToState to be a function.');\n  }\n\n  if (typeof handleStateChangeOnClient !== 'function') {\n    throw new Error('Expected handleStateChangeOnClient to be a function.');\n  }\n\n  if (typeof mapStateOnServer !== 'undefined' && typeof mapStateOnServer !== 'function') {\n    throw new Error('Expected mapStateOnServer to either be undefined or a function.');\n  }\n\n  function getDisplayName(WrappedComponent) {\n    return WrappedComponent.displayName || WrappedComponent.name || 'Component';\n  }\n\n  return function wrap(WrappedComponent) {\n    if (typeof WrappedComponent !== 'function') {\n      throw new Error('Expected WrappedComponent to be a React component.');\n    }\n\n    var mountedInstances = [];\n    var state;\n\n    function emitChange() {\n      state = reducePropsToState(mountedInstances.map(function (instance) {\n        return instance.props;\n      }));\n\n      if (SideEffect.canUseDOM) {\n        handleStateChangeOnClient(state);\n      } else if (mapStateOnServer) {\n        state = mapStateOnServer(state);\n      }\n    }\n\n    var SideEffect = /*#__PURE__*/function (_Component) {\n      _inheritsLoose(SideEffect, _Component);\n\n      function SideEffect() {\n        return _Component.apply(this, arguments) || this;\n      } // Try to use displayName of wrapped component\n      // Expose canUseDOM so tests can monkeypatch it\n\n\n      SideEffect.peek = function peek() {\n        return state;\n      };\n\n      SideEffect.rewind = function rewind() {\n        if (SideEffect.canUseDOM) {\n          throw new Error('You may only call rewind() on the server. Call peek() to read the current state.');\n        }\n\n        var recordedState = state;\n        state = undefined;\n        mountedInstances = [];\n        return recordedState;\n      };\n\n      var _proto = SideEffect.prototype;\n\n      _proto.shouldComponentUpdate = function shouldComponentUpdate(nextProps) {\n        return !shallowEqual(nextProps, this.props);\n      };\n\n      _proto.componentWillMount = function componentWillMount() {\n        mountedInstances.push(this);\n        emitChange();\n      };\n\n      _proto.componentDidUpdate = function componentDidUpdate() {\n        emitChange();\n      };\n\n      _proto.componentWillUnmount = function componentWillUnmount() {\n        var index = mountedInstances.indexOf(this);\n        mountedInstances.splice(index, 1);\n        emitChange();\n      };\n\n      _proto.render = function render() {\n        return React__default.createElement(WrappedComponent, this.props);\n      };\n\n      return SideEffect;\n    }(React.Component);\n\n    _defineProperty(SideEffect, \"displayName\", \"SideEffect(\" + getDisplayName(WrappedComponent) + \")\");\n\n    _defineProperty(SideEffect, \"canUseDOM\", canUseDOM);\n\n    return SideEffect;\n  };\n}\n\nmodule.exports = withSideEffect;","import React from 'react';\nimport { CanvasSpace } from 'pts/dist/es5';\n\nvar classCallCheck = function classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n};\n\nvar createClass = function () {\n  function defineProperties(target, props) {\n    for (var i = 0; i < props.length; i++) {\n      var descriptor = props[i];\n      descriptor.enumerable = descriptor.enumerable || false;\n      descriptor.configurable = true;\n      if (\"value\" in descriptor) descriptor.writable = true;\n      Object.defineProperty(target, descriptor.key, descriptor);\n    }\n  }\n\n  return function (Constructor, protoProps, staticProps) {\n    if (protoProps) defineProperties(Constructor.prototype, protoProps);\n    if (staticProps) defineProperties(Constructor, staticProps);\n    return Constructor;\n  };\n}();\n\nvar inherits = function inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass);\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      enumerable: false,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;\n};\n\nvar possibleConstructorReturn = function possibleConstructorReturn(self, call) {\n  if (!self) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self;\n};\n\nvar PtsCanvas = function (_React$Component) {\n  inherits(PtsCanvas, _React$Component);\n\n  function PtsCanvas(props) {\n    classCallCheck(this, PtsCanvas);\n\n    var _this = possibleConstructorReturn(this, (PtsCanvas.__proto__ || Object.getPrototypeOf(PtsCanvas)).call(this, props));\n\n    _this.canvRef = React.createRef();\n    _this.space = null;\n    _this.form = null;\n    _this._touch = false;\n    return _this;\n  }\n\n  createClass(PtsCanvas, [{\n    key: 'componentDidMount',\n    value: function componentDidMount() {\n      this.init();\n\n      this._update();\n    }\n  }, {\n    key: 'componentDidUpdate',\n    value: function componentDidUpdate() {\n      this._update();\n    }\n  }, {\n    key: 'componentWillUnmount',\n    value: function componentWillUnmount() {\n      this.space.dispose();\n    }\n  }, {\n    key: '_update',\n    value: function _update() {\n      if (this.props.play) {\n        this.space.play();\n      } else {\n        this.space.playOnce(0);\n      }\n\n      if (this._touch !== this.props.touch) {\n        this._touch = this.props.touch;\n        this.space.bindMouse(this._touch).bindTouch(this._touch);\n      }\n    } // Required: Override this to use Pts' player `animate` callback\n    // See guide: https://ptsjs.org/guide/space-0500\n\n  }, {\n    key: 'animate',\n    value: function animate(time, ftime) {\n      this.form.point(this.space.pointer, 20, \"circle\");\n    } // Optional: Override this to use Pts' player `start` callback\n\n  }, {\n    key: 'start',\n    value: function start(bound, space) {} // Optional: Override this to use Pts' player `resize` callback\n\n  }, {\n    key: 'resize',\n    value: function resize(size, evt) {} // Optional: Override this to use Pts' player `action` callback\n\n  }, {\n    key: 'action',\n    value: function action(type, px, py, evt) {}\n  }, {\n    key: 'init',\n    value: function init() {\n      this.space = new CanvasSpace(this.canvRef).setup({\n        bgcolor: this.props.background,\n        resize: this.props.resize,\n        retina: this.props.retina\n      });\n      this.form = this.space.getForm();\n      this.space.add(this);\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      var _this2 = this;\n\n      return React.createElement('div', {\n        className: this.props.name || \"\",\n        style: this.props.style\n      }, React.createElement('canvas', {\n        className: this.props.name ? this.props.name + \"-canvas\" : \"\",\n        ref: function ref(c) {\n          return _this2.canvRef = c;\n        },\n        style: this.props.canvasStyle\n      }));\n    }\n  }]);\n  return PtsCanvas;\n}(React.Component);\n\nPtsCanvas.defaultProps = {\n  name: \"pts-react\",\n  // maps to className of the container div\n  background: \"#9ab\",\n  resize: true,\n  retina: true,\n  play: true,\n  touch: true,\n  style: {},\n  canvasStyle: {}\n};\n\nvar QuickStartCanvas = function (_PtsCanvas) {\n  inherits(QuickStartCanvas, _PtsCanvas);\n\n  function QuickStartCanvas() {\n    classCallCheck(this, QuickStartCanvas);\n    return possibleConstructorReturn(this, (QuickStartCanvas.__proto__ || Object.getPrototypeOf(QuickStartCanvas)).apply(this, arguments));\n  }\n\n  createClass(QuickStartCanvas, [{\n    key: 'animate',\n    value: function animate(time, ftime) {\n      if (this.props.onAnimate) this.props.onAnimate(this.space, this.form, time, ftime);\n    }\n  }, {\n    key: 'start',\n    value: function start(bound, space) {\n      if (this.props.onStart) this.props.onStart(bound, space);\n    }\n  }, {\n    key: 'resize',\n    value: function resize(size, evt) {\n      if (this.props.onResize) this.props.onResize(this.space, this.form, size, evt);\n    }\n  }, {\n    key: 'action',\n    value: function action(type, px, py, evt) {\n      if (this.props.onAction) this.props.onAction(this.space, this.form, type, px, py, evt);\n    }\n  }]);\n  return QuickStartCanvas;\n}(PtsCanvas);\n\nQuickStartCanvas.defaultProps = {\n  name: \"pts-react\",\n  // maps to className of the container div\n  background: \"#9ab\",\n  resize: true,\n  retina: true,\n  play: true,\n  touch: true,\n  style: {},\n  canvasStyle: {},\n  onStart: undefined,\n  onAnimate: undefined,\n  onResize: undefined,\n  onAction: undefined\n};\nexport { PtsCanvas, QuickStartCanvas };","export default function _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}","function _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nexport default function _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}","export default function _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}","export default function _getPrototypeOf(o) {\n  _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  };\n  return _getPrototypeOf(o);\n}","import superPropBase from \"@babel/runtime/helpers/esm/superPropBase\";\nexport default function _get(target, property, receiver) {\n  if (typeof Reflect !== \"undefined\" && Reflect.get) {\n    _get = Reflect.get;\n  } else {\n    _get = function _get(target, property, receiver) {\n      var base = superPropBase(target, property);\n      if (!base) return;\n      var desc = Object.getOwnPropertyDescriptor(base, property);\n\n      if (desc.get) {\n        return desc.get.call(receiver);\n      }\n\n      return desc.value;\n    };\n  }\n\n  return _get(target, property, receiver || target);\n}","import getPrototypeOf from \"@babel/runtime/helpers/esm/getPrototypeOf\";\nexport default function _superPropBase(object, property) {\n  while (!Object.prototype.hasOwnProperty.call(object, property)) {\n    object = getPrototypeOf(object);\n    if (object === null) break;\n  }\n\n  return object;\n}","import setPrototypeOf from \"@babel/runtime/helpers/esm/setPrototypeOf\";\nexport default function _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) setPrototypeOf(subClass, superClass);\n}","export default function _typeof(obj) {\n  \"@babel/helpers - typeof\";\n\n  if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n    _typeof = function _typeof(obj) {\n      return typeof obj;\n    };\n  } else {\n    _typeof = function _typeof(obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n    };\n  }\n\n  return _typeof(obj);\n}","import _typeof from \"@babel/runtime/helpers/esm/typeof\";\nimport assertThisInitialized from \"@babel/runtime/helpers/esm/assertThisInitialized\";\nexport default function _possibleConstructorReturn(self, call) {\n  if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) {\n    return call;\n  }\n\n  return assertThisInitialized(self);\n}","export default function _isNativeReflectConstruct() {\n  if (typeof Reflect === \"undefined\" || !Reflect.construct) return false;\n  if (Reflect.construct.sham) return false;\n  if (typeof Proxy === \"function\") return true;\n\n  try {\n    Date.prototype.toString.call(Reflect.construct(Date, [], function () {}));\n    return true;\n  } catch (e) {\n    return false;\n  }\n}","import setPrototypeOf from \"@babel/runtime/helpers/esm/setPrototypeOf\";\nimport isNativeReflectConstruct from \"@babel/runtime/helpers/esm/isNativeReflectConstruct\";\nexport default function _construct(Parent, args, Class) {\n  if (isNativeReflectConstruct()) {\n    _construct = Reflect.construct;\n  } else {\n    _construct = function _construct(Parent, args, Class) {\n      var a = [null];\n      a.push.apply(a, args);\n      var Constructor = Function.bind.apply(Parent, a);\n      var instance = new Constructor();\n      if (Class) setPrototypeOf(instance, Class.prototype);\n      return instance;\n    };\n  }\n\n  return _construct.apply(null, arguments);\n}","import getPrototypeOf from \"@babel/runtime/helpers/esm/getPrototypeOf\";\nimport setPrototypeOf from \"@babel/runtime/helpers/esm/setPrototypeOf\";\nimport isNativeFunction from \"@babel/runtime/helpers/esm/isNativeFunction\";\nimport construct from \"@babel/runtime/helpers/esm/construct\";\nexport default function _wrapNativeSuper(Class) {\n  var _cache = typeof Map === \"function\" ? new Map() : undefined;\n\n  _wrapNativeSuper = function _wrapNativeSuper(Class) {\n    if (Class === null || !isNativeFunction(Class)) return Class;\n\n    if (typeof Class !== \"function\") {\n      throw new TypeError(\"Super expression must either be null or a function\");\n    }\n\n    if (typeof _cache !== \"undefined\") {\n      if (_cache.has(Class)) return _cache.get(Class);\n\n      _cache.set(Class, Wrapper);\n    }\n\n    function Wrapper() {\n      return construct(Class, arguments, getPrototypeOf(this).constructor);\n    }\n\n    Wrapper.prototype = Object.create(Class.prototype, {\n      constructor: {\n        value: Wrapper,\n        enumerable: false,\n        writable: true,\n        configurable: true\n      }\n    });\n    return setPrototypeOf(Wrapper, Class);\n  };\n\n  return _wrapNativeSuper(Class);\n}","export default function _isNativeFunction(fn) {\n  return Function.toString.call(fn).indexOf(\"[native code]\") !== -1;\n}","import \"core-js/modules/es.array.reduce.js\";\nimport _toConsumableArray from \"/Users/usarneme/Projects/gatsby-portfolio/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";\nimport _classCallCheck from \"/Users/usarneme/Projects/gatsby-portfolio/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/usarneme/Projects/gatsby-portfolio/node_modules/@babel/runtime/helpers/esm/createClass\";\n\n/*! Source code licensed under Apache License 2.0. Copyright © 2017-current William Ngan and contributors. (https://github.com/williamngan/pts) */\nimport { Group } from \"./Pt\";\nexport var Const = {\n  xy: \"xy\",\n  yz: \"yz\",\n  xz: \"xz\",\n  xyz: \"xyz\",\n  horizontal: 0,\n  vertical: 1,\n  identical: 0,\n  right: 4,\n  bottom_right: 5,\n  bottom: 6,\n  bottom_left: 7,\n  left: 8,\n  top_left: 1,\n  top: 2,\n  top_right: 3,\n  epsilon: 0.0001,\n  max: Number.MAX_VALUE,\n  min: Number.MIN_VALUE,\n  pi: Math.PI,\n  two_pi: 6.283185307179586,\n  half_pi: 1.5707963267948966,\n  quarter_pi: 0.7853981633974483,\n  one_degree: 0.017453292519943295,\n  rad_to_deg: 57.29577951308232,\n  deg_to_rad: 0.017453292519943295,\n  gravity: 9.81,\n  newton: 0.10197,\n  gaussian: 0.3989422804014327\n};\nexport var Util = /*#__PURE__*/function () {\n  function Util() {\n    _classCallCheck(this, Util);\n  }\n\n  _createClass(Util, null, [{\n    key: \"warnLevel\",\n    value: function warnLevel(lv) {\n      if (lv) {\n        Util._warnLevel = lv;\n      }\n\n      return Util._warnLevel;\n    }\n  }, {\n    key: \"getArgs\",\n    value: function getArgs(args) {\n      if (args.length < 1) return [];\n      var pos = [];\n      var isArray = Array.isArray(args[0]) || ArrayBuffer.isView(args[0]);\n\n      if (typeof args[0] === 'number') {\n        pos = Array.prototype.slice.call(args);\n      } else if (typeof args[0] === 'object' && !isArray) {\n        var a = [\"x\", \"y\", \"z\", \"w\"];\n        var p = args[0];\n\n        for (var i = 0; i < a.length; i++) {\n          if (p.length && i >= p.length || !(a[i] in p)) break;\n          pos.push(p[a[i]]);\n        }\n      } else if (isArray) {\n        pos = [].slice.call(args[0]);\n      }\n\n      return pos;\n    }\n  }, {\n    key: \"warn\",\n    value: function warn() {\n      var message = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : \"error\";\n      var defaultReturn = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : undefined;\n\n      if (Util.warnLevel() == \"error\") {\n        throw new Error(message);\n      } else if (Util.warnLevel() == \"warn\") {\n        console.warn(message);\n      }\n\n      return defaultReturn;\n    }\n  }, {\n    key: \"randomInt\",\n    value: function randomInt(range) {\n      var start = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n      Util.warn(\"Util.randomInt is deprecated. Please use `Num.randomRange`\");\n      return Math.floor(Math.random() * range) + start;\n    }\n  }, {\n    key: \"split\",\n    value: function split(pts, size, stride) {\n      var loopBack = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : false;\n      var matchSize = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : true;\n      var chunks = [];\n      var part = [];\n      var st = stride || size;\n      var index = 0;\n      if (pts.length <= 0 || st <= 0) return [];\n\n      while (index < pts.length) {\n        part = [];\n\n        for (var k = 0; k < size; k++) {\n          if (loopBack) {\n            part.push(pts[(index + k) % pts.length]);\n          } else {\n            if (index + k >= pts.length) break;\n            part.push(pts[index + k]);\n          }\n        }\n\n        index += st;\n        if (!matchSize || matchSize && part.length === size) chunks.push(part);\n      }\n\n      return chunks;\n    }\n  }, {\n    key: \"flatten\",\n    value: function flatten(pts) {\n      var flattenAsGroup = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : true;\n      var arr = flattenAsGroup ? new Group() : new Array();\n      return arr.concat.apply(arr, pts);\n    }\n  }, {\n    key: \"combine\",\n    value: function combine(a, b, op) {\n      var result = [];\n\n      for (var i = 0, len = a.length; i < len; i++) {\n        for (var k = 0, lenB = b.length; k < lenB; k++) {\n          result.push(op(a[i], b[k]));\n        }\n      }\n\n      return result;\n    }\n  }, {\n    key: \"zip\",\n    value: function zip(arrays) {\n      var z = [];\n\n      for (var i = 0, len = arrays[0].length; i < len; i++) {\n        var p = [];\n\n        for (var k = 0; k < arrays.length; k++) {\n          p.push(arrays[k][i]);\n        }\n\n        z.push(p);\n      }\n\n      return z;\n    }\n  }, {\n    key: \"stepper\",\n    value: function stepper(max) {\n      var min = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n      var stride = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 1;\n      var callback = arguments.length > 3 ? arguments[3] : undefined;\n      var c = min;\n      return function () {\n        c += stride;\n\n        if (c >= max) {\n          c = min + (c - max);\n        }\n\n        if (callback) callback(c);\n        return c;\n      };\n    }\n  }, {\n    key: \"forRange\",\n    value: function forRange(fn, range) {\n      var start = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 0;\n      var step = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : 1;\n      var temp = [];\n\n      for (var i = start, len = range; i < len; i += step) {\n        temp[i] = fn(i);\n      }\n\n      return temp;\n    }\n  }, {\n    key: \"load\",\n    value: function load(url, callback) {\n      var request = new XMLHttpRequest();\n      request.open('GET', url, true);\n\n      request.onload = function () {\n        if (request.status >= 200 && request.status < 400) {\n          callback(request.responseText, true);\n        } else {\n          callback(\"Server error (\".concat(request.status, \") when loading \\\"\").concat(url, \"\\\"\"), false);\n        }\n      };\n\n      request.onerror = function () {\n        callback(\"Unknown network error\", false);\n      };\n\n      request.send();\n    }\n  }, {\n    key: \"performance\",\n    value: function performance() {\n      var avgFrames = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 10;\n      var last = Date.now();\n      var avg = [];\n      return function () {\n        var now = Date.now();\n        avg.push(now - last);\n        if (avg.length >= avgFrames) avg.shift();\n        last = now;\n        return Math.floor(avg.reduce(function (a, b) {\n          return a + b;\n        }, 0) / avg.length);\n      };\n    }\n  }, {\n    key: \"arrayCheck\",\n    value: function arrayCheck(pts) {\n      var minRequired = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 2;\n\n      if (Array.isArray(pts) && pts.length < minRequired) {\n        Util.warn(\"Requires \".concat(minRequired, \" or more Pts in this Group.\"));\n        return false;\n      }\n\n      return true;\n    }\n  }, {\n    key: \"iterToArray\",\n    value: function iterToArray(it) {\n      return !Array.isArray(it) ? _toConsumableArray(it) : it;\n    }\n  }]);\n\n  return Util;\n}();\nUtil._warnLevel = \"mute\";","import arrayWithHoles from \"@babel/runtime/helpers/esm/arrayWithHoles\";\nimport iterableToArrayLimit from \"@babel/runtime/helpers/esm/iterableToArrayLimit\";\nimport unsupportedIterableToArray from \"@babel/runtime/helpers/esm/unsupportedIterableToArray\";\nimport nonIterableRest from \"@babel/runtime/helpers/esm/nonIterableRest\";\nexport default function _slicedToArray(arr, i) {\n  return arrayWithHoles(arr) || iterableToArrayLimit(arr, i) || unsupportedIterableToArray(arr, i) || nonIterableRest();\n}","export default function _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}","export default function _iterableToArrayLimit(arr, i) {\n  if (typeof Symbol === \"undefined\" || !(Symbol.iterator in Object(arr))) return;\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n  var _e = undefined;\n\n  try {\n    for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}","export default function _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}","import \"core-js/modules/es.array.reduce.js\";\nimport _classCallCheck from \"/Users/usarneme/Projects/gatsby-portfolio/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/usarneme/Projects/gatsby-portfolio/node_modules/@babel/runtime/helpers/esm/createClass\";\n\n/*! Source code licensed under Apache License 2.0. Copyright © 2017-current William Ngan and contributors. (https://github.com/williamngan/pts) */\nimport { Pt, Group } from \"./Pt\";\nimport { Line } from \"./Op\";\nexport var Vec = /*#__PURE__*/function () {\n  function Vec() {\n    _classCallCheck(this, Vec);\n  }\n\n  _createClass(Vec, null, [{\n    key: \"add\",\n    value: function add(a, b) {\n      if (typeof b == \"number\") {\n        for (var i = 0, len = a.length; i < len; i++) {\n          a[i] += b;\n        }\n      } else {\n        for (var _i = 0, _len = a.length; _i < _len; _i++) {\n          a[_i] += b[_i] || 0;\n        }\n      }\n\n      return a;\n    }\n  }, {\n    key: \"subtract\",\n    value: function subtract(a, b) {\n      if (typeof b == \"number\") {\n        for (var i = 0, len = a.length; i < len; i++) {\n          a[i] -= b;\n        }\n      } else {\n        for (var _i2 = 0, _len2 = a.length; _i2 < _len2; _i2++) {\n          a[_i2] -= b[_i2] || 0;\n        }\n      }\n\n      return a;\n    }\n  }, {\n    key: \"multiply\",\n    value: function multiply(a, b) {\n      if (typeof b == \"number\") {\n        for (var i = 0, len = a.length; i < len; i++) {\n          a[i] *= b;\n        }\n      } else {\n        if (a.length != b.length) {\n          throw new Error(\"Cannot do element-wise multiply since the array lengths don't match: \".concat(a.toString(), \" multiply-with \").concat(b.toString()));\n        }\n\n        for (var _i3 = 0, _len3 = a.length; _i3 < _len3; _i3++) {\n          a[_i3] *= b[_i3];\n        }\n      }\n\n      return a;\n    }\n  }, {\n    key: \"divide\",\n    value: function divide(a, b) {\n      if (typeof b == \"number\") {\n        if (b === 0) throw new Error(\"Cannot divide by zero\");\n\n        for (var i = 0, len = a.length; i < len; i++) {\n          a[i] /= b;\n        }\n      } else {\n        if (a.length != b.length) {\n          throw new Error(\"Cannot do element-wise divide since the array lengths don't match. \".concat(a.toString(), \" divide-by \").concat(b.toString()));\n        }\n\n        for (var _i4 = 0, _len4 = a.length; _i4 < _len4; _i4++) {\n          a[_i4] /= b[_i4];\n        }\n      }\n\n      return a;\n    }\n  }, {\n    key: \"dot\",\n    value: function dot(a, b) {\n      if (a.length != b.length) throw new Error(\"Array lengths don't match\");\n      var d = 0;\n\n      for (var i = 0, len = a.length; i < len; i++) {\n        d += a[i] * b[i];\n      }\n\n      return d;\n    }\n  }, {\n    key: \"cross2D\",\n    value: function cross2D(a, b) {\n      return a[0] * b[1] - a[1] * b[0];\n    }\n  }, {\n    key: \"cross\",\n    value: function cross(a, b) {\n      return new Pt(a[1] * b[2] - a[2] * b[1], a[2] * b[0] - a[0] * b[2], a[0] * b[1] - a[1] * b[0]);\n    }\n  }, {\n    key: \"magnitude\",\n    value: function magnitude(a) {\n      return Math.sqrt(Vec.dot(a, a));\n    }\n  }, {\n    key: \"unit\",\n    value: function unit(a) {\n      var magnitude = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : undefined;\n      var m = magnitude === undefined ? Vec.magnitude(a) : magnitude;\n      if (m === 0) return Pt.make(a.length);\n      return Vec.divide(a, m);\n    }\n  }, {\n    key: \"abs\",\n    value: function abs(a) {\n      return Vec.map(a, Math.abs);\n    }\n  }, {\n    key: \"floor\",\n    value: function floor(a) {\n      return Vec.map(a, Math.floor);\n    }\n  }, {\n    key: \"ceil\",\n    value: function ceil(a) {\n      return Vec.map(a, Math.ceil);\n    }\n  }, {\n    key: \"round\",\n    value: function round(a) {\n      return Vec.map(a, Math.round);\n    }\n  }, {\n    key: \"max\",\n    value: function max(a) {\n      var m = Number.MIN_VALUE;\n      var index = 0;\n\n      for (var i = 0, len = a.length; i < len; i++) {\n        m = Math.max(m, a[i]);\n        if (m === a[i]) index = i;\n      }\n\n      return {\n        value: m,\n        index: index\n      };\n    }\n  }, {\n    key: \"min\",\n    value: function min(a) {\n      var m = Number.MAX_VALUE;\n      var index = 0;\n\n      for (var i = 0, len = a.length; i < len; i++) {\n        m = Math.min(m, a[i]);\n        if (m === a[i]) index = i;\n      }\n\n      return {\n        value: m,\n        index: index\n      };\n    }\n  }, {\n    key: \"sum\",\n    value: function sum(a) {\n      var s = 0;\n\n      for (var i = 0, len = a.length; i < len; i++) {\n        s += a[i];\n      }\n\n      return s;\n    }\n  }, {\n    key: \"map\",\n    value: function map(a, fn) {\n      for (var i = 0, len = a.length; i < len; i++) {\n        a[i] = fn(a[i], i, a);\n      }\n\n      return a;\n    }\n  }]);\n\n  return Vec;\n}();\nexport var Mat = /*#__PURE__*/function () {\n  function Mat() {\n    _classCallCheck(this, Mat);\n  }\n\n  _createClass(Mat, null, [{\n    key: \"add\",\n    value: function add(a, b) {\n      if (typeof b != \"number\") {\n        if (a[0].length != b[0].length) throw new Error(\"Cannot add matrix if rows' and columns' size don't match.\");\n        if (a.length != b.length) throw new Error(\"Cannot add matrix if rows' and columns' size don't match.\");\n      }\n\n      var g = new Group();\n      var isNum = typeof b == \"number\";\n\n      for (var i = 0, len = a.length; i < len; i++) {\n        g.push(a[i].$add(isNum ? b : b[i]));\n      }\n\n      return g;\n    }\n  }, {\n    key: \"multiply\",\n    value: function multiply(a, b) {\n      var transposed = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;\n      var elementwise = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : false;\n      var g = new Group();\n\n      if (typeof b != \"number\") {\n        if (elementwise) {\n          if (a.length != b.length) throw new Error(\"Cannot multiply matrix element-wise because the matrices' sizes don't match.\");\n\n          for (var ai = 0, alen = a.length; ai < alen; ai++) {\n            g.push(a[ai].$multiply(b[ai]));\n          }\n        } else {\n          if (!transposed && a[0].length != b.length) throw new Error(\"Cannot multiply matrix if rows in matrix-a don't match columns in matrix-b.\");\n          if (transposed && a[0].length != b[0].length) throw new Error(\"Cannot multiply matrix if transposed and the columns in both matrices don't match.\");\n          if (!transposed) b = Mat.transpose(b);\n\n          for (var _ai = 0, _alen = a.length; _ai < _alen; _ai++) {\n            var p = Pt.make(b.length, 0);\n\n            for (var bi = 0, blen = b.length; bi < blen; bi++) {\n              p[bi] = Vec.dot(a[_ai], b[bi]);\n            }\n\n            g.push(p);\n          }\n        }\n      } else {\n        for (var _ai2 = 0, _alen2 = a.length; _ai2 < _alen2; _ai2++) {\n          g.push(a[_ai2].$multiply(b));\n        }\n      }\n\n      return g;\n    }\n  }, {\n    key: \"zipSlice\",\n    value: function zipSlice(g, index) {\n      var defaultValue = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;\n      var z = [];\n\n      for (var i = 0, len = g.length; i < len; i++) {\n        if (g[i].length - 1 < index && defaultValue === false) throw \"Index \".concat(index, \" is out of bounds\");\n        z.push(g[i][index] || defaultValue);\n      }\n\n      return new Pt(z);\n    }\n  }, {\n    key: \"zip\",\n    value: function zip(g) {\n      var defaultValue = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n      var useLongest = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;\n      var ps = new Group();\n      var len = useLongest ? g.reduce(function (a, b) {\n        return Math.max(a, b.length);\n      }, 0) : g[0].length;\n\n      for (var i = 0; i < len; i++) {\n        ps.push(Mat.zipSlice(g, i, defaultValue));\n      }\n\n      return ps;\n    }\n  }, {\n    key: \"transpose\",\n    value: function transpose(g) {\n      var defaultValue = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n      var useLongest = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;\n      return Mat.zip(g, defaultValue, useLongest);\n    }\n  }, {\n    key: \"transform2D\",\n    value: function transform2D(pt, m) {\n      var x = pt[0] * m[0][0] + pt[1] * m[1][0] + m[2][0];\n      var y = pt[0] * m[0][1] + pt[1] * m[1][1] + m[2][1];\n      return new Pt(x, y);\n    }\n  }, {\n    key: \"scale2DMatrix\",\n    value: function scale2DMatrix(x, y) {\n      return new Group(new Pt(x, 0, 0), new Pt(0, y, 0), new Pt(0, 0, 1));\n    }\n  }, {\n    key: \"rotate2DMatrix\",\n    value: function rotate2DMatrix(cosA, sinA) {\n      return new Group(new Pt(cosA, sinA, 0), new Pt(-sinA, cosA, 0), new Pt(0, 0, 1));\n    }\n  }, {\n    key: \"shear2DMatrix\",\n    value: function shear2DMatrix(tanX, tanY) {\n      return new Group(new Pt(1, tanX, 0), new Pt(tanY, 1, 0), new Pt(0, 0, 1));\n    }\n  }, {\n    key: \"translate2DMatrix\",\n    value: function translate2DMatrix(x, y) {\n      return new Group(new Pt(1, 0, 0), new Pt(0, 1, 0), new Pt(x, y, 1));\n    }\n  }, {\n    key: \"scaleAt2DMatrix\",\n    value: function scaleAt2DMatrix(sx, sy, at) {\n      var m = Mat.scale2DMatrix(sx, sy);\n      m[2][0] = -at[0] * sx + at[0];\n      m[2][1] = -at[1] * sy + at[1];\n      return m;\n    }\n  }, {\n    key: \"rotateAt2DMatrix\",\n    value: function rotateAt2DMatrix(cosA, sinA, at) {\n      var m = Mat.rotate2DMatrix(cosA, sinA);\n      m[2][0] = at[0] * (1 - cosA) + at[1] * sinA;\n      m[2][1] = at[1] * (1 - cosA) - at[0] * sinA;\n      return m;\n    }\n  }, {\n    key: \"shearAt2DMatrix\",\n    value: function shearAt2DMatrix(tanX, tanY, at) {\n      var m = Mat.shear2DMatrix(tanX, tanY);\n      m[2][0] = -at[1] * tanY;\n      m[2][1] = -at[0] * tanX;\n      return m;\n    }\n  }, {\n    key: \"reflectAt2DMatrix\",\n    value: function reflectAt2DMatrix(p1, p2) {\n      var intercept = Line.intercept(p1, p2);\n\n      if (intercept == undefined) {\n        return [new Pt([-1, 0, 0]), new Pt([0, 1, 0]), new Pt([p1[0] + p2[0], 0, 1])];\n      } else {\n        var yi = intercept.yi;\n        var ang2 = Math.atan(intercept.slope) * 2;\n        var cosA = Math.cos(ang2);\n        var sinA = Math.sin(ang2);\n        return [new Pt([cosA, sinA, 0]), new Pt([sinA, -cosA, 0]), new Pt([-yi * sinA, yi + yi * cosA, 1])];\n      }\n    }\n  }]);\n\n  return Mat;\n}();","import \"core-js/modules/es.array.reduce.js\";\nimport _slicedToArray from \"/Users/usarneme/Projects/gatsby-portfolio/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nimport _classCallCheck from \"/Users/usarneme/Projects/gatsby-portfolio/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/usarneme/Projects/gatsby-portfolio/node_modules/@babel/runtime/helpers/esm/createClass\";\n\nfunction _createForOfIteratorHelper(o, allowArrayLike) { var it; if (typeof Symbol === \"undefined\" || o[Symbol.iterator] == null) { if (Array.isArray(o) || (it = _unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === \"number\") { if (it) o = it; var i = 0; var F = function F() {}; return { s: F, n: function n() { if (i >= o.length) return { done: true }; return { done: false, value: o[i++] }; }, e: function e(_e) { throw _e; }, f: F }; } throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); } var normalCompletion = true, didErr = false, err; return { s: function s() { it = o[Symbol.iterator](); }, n: function n() { var step = it.next(); normalCompletion = step.done; return step; }, e: function e(_e2) { didErr = true; err = _e2; }, f: function f() { try { if (!normalCompletion && it.return != null) it.return(); } finally { if (didErr) throw err; } } }; }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\n/*! Source code licensed under Apache License 2.0. Copyright © 2017-current William Ngan and contributors. (https://github.com/williamngan/pts) */\nimport { Util } from \"./Util\";\nimport { Geom, Num } from \"./Num\";\nimport { Pt, Group } from \"./Pt\";\nimport { Mat } from \"./LinearAlgebra\";\n\nvar _errorLength = function _errorLength(obj) {\n  var param = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : \"expected\";\n  return Util.warn(\"Group's length is less than \" + param, obj);\n};\n\nvar _errorOutofBound = function _errorOutofBound(obj) {\n  var param = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : \"\";\n  return Util.warn(\"Index \".concat(param, \" is out of bound in Group\"), obj);\n};\n\nexport var Line = /*#__PURE__*/function () {\n  function Line() {\n    _classCallCheck(this, Line);\n  }\n\n  _createClass(Line, null, [{\n    key: \"fromAngle\",\n    value: function fromAngle(anchor, angle, magnitude) {\n      var g = new Group(new Pt(anchor), new Pt(anchor));\n      g[1].toAngle(angle, magnitude, true);\n      return g;\n    }\n  }, {\n    key: \"slope\",\n    value: function slope(p1, p2) {\n      return p2[0] - p1[0] === 0 ? undefined : (p2[1] - p1[1]) / (p2[0] - p1[0]);\n    }\n  }, {\n    key: \"intercept\",\n    value: function intercept(p1, p2) {\n      if (p2[0] - p1[0] === 0) {\n        return undefined;\n      } else {\n        var m = (p2[1] - p1[1]) / (p2[0] - p1[0]);\n        var c = p1[1] - m * p1[0];\n        return {\n          slope: m,\n          yi: c,\n          xi: m === 0 ? undefined : -c / m\n        };\n      }\n    }\n  }, {\n    key: \"sideOfPt2D\",\n    value: function sideOfPt2D(line, pt) {\n      var _line = Util.iterToArray(line);\n\n      return (_line[1][0] - _line[0][0]) * (pt[1] - _line[0][1]) - (pt[0] - _line[0][0]) * (_line[1][1] - _line[0][1]);\n    }\n  }, {\n    key: \"collinear\",\n    value: function collinear(p1, p2, p3) {\n      var threshold = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : 0.01;\n      var a = new Pt(0, 0, 0).to(p1).$subtract(p2);\n      var b = new Pt(0, 0, 0).to(p1).$subtract(p3);\n      return a.$cross(b).divide(1000).equals(new Pt(0, 0, 0), threshold);\n    }\n  }, {\n    key: \"magnitude\",\n    value: function magnitude(line) {\n      var _line = Util.iterToArray(line);\n\n      return _line.length >= 2 ? _line[1].$subtract(_line[0]).magnitude() : 0;\n    }\n  }, {\n    key: \"magnitudeSq\",\n    value: function magnitudeSq(line) {\n      var _line = Util.iterToArray(line);\n\n      return _line.length >= 2 ? _line[1].$subtract(_line[0]).magnitudeSq() : 0;\n    }\n  }, {\n    key: \"perpendicularFromPt\",\n    value: function perpendicularFromPt(line, pt) {\n      var asProjection = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;\n\n      var _line = Util.iterToArray(line);\n\n      if (_line[0].equals(_line[1])) return undefined;\n\n      var a = _line[0].$subtract(_line[1]);\n\n      var b = _line[1].$subtract(pt);\n\n      var proj = b.$subtract(a.$project(b));\n      return asProjection ? proj : proj.$add(pt);\n    }\n  }, {\n    key: \"distanceFromPt\",\n    value: function distanceFromPt(line, pt) {\n      var _line = Util.iterToArray(line);\n\n      var projectionVector = Line.perpendicularFromPt(_line, pt, true);\n\n      if (projectionVector) {\n        return projectionVector.magnitude();\n      } else {\n        return _line[0].$subtract(pt).magnitude();\n      }\n    }\n  }, {\n    key: \"intersectRay2D\",\n    value: function intersectRay2D(la, lb) {\n      var _la = Util.iterToArray(la);\n\n      var _lb = Util.iterToArray(lb);\n\n      var a = Line.intercept(_la[0], _la[1]);\n      var b = Line.intercept(_lb[0], _lb[1]);\n      var pa = _la[0];\n      var pb = _lb[0];\n\n      if (a == undefined) {\n        if (b == undefined) return undefined;\n        var y1 = -b.slope * (pb[0] - pa[0]) + pb[1];\n        return new Pt(pa[0], y1);\n      } else {\n        if (b == undefined) {\n          var _y = -a.slope * (pa[0] - pb[0]) + pa[1];\n\n          return new Pt(pb[0], _y);\n        } else if (b.slope != a.slope) {\n          var px = (a.slope * pa[0] - b.slope * pb[0] + pb[1] - pa[1]) / (a.slope - b.slope);\n          var py = a.slope * (px - pa[0]) + pa[1];\n          return new Pt(px, py);\n        } else {\n          if (a.yi == b.yi) {\n            return new Pt(pa[0], pa[1]);\n          } else {\n            return undefined;\n          }\n        }\n      }\n    }\n  }, {\n    key: \"intersectLine2D\",\n    value: function intersectLine2D(la, lb) {\n      var _la = Util.iterToArray(la);\n\n      var _lb = Util.iterToArray(lb);\n\n      var pt = Line.intersectRay2D(_la, _lb);\n      return pt && Geom.withinBound(pt, _la[0], _la[1]) && Geom.withinBound(pt, _lb[0], _lb[1]) ? pt : undefined;\n    }\n  }, {\n    key: \"intersectLineWithRay2D\",\n    value: function intersectLineWithRay2D(line, ray) {\n      var _line = Util.iterToArray(line);\n\n      var _ray = Util.iterToArray(ray);\n\n      var pt = Line.intersectRay2D(_line, _ray);\n      return pt && Geom.withinBound(pt, _line[0], _line[1]) ? pt : undefined;\n    }\n  }, {\n    key: \"intersectPolygon2D\",\n    value: function intersectPolygon2D(lineOrRay, poly) {\n      var sourceIsRay = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;\n\n      var _lineOrRay = Util.iterToArray(lineOrRay);\n\n      var _poly = Util.iterToArray(poly);\n\n      var fn = sourceIsRay ? Line.intersectLineWithRay2D : Line.intersectLine2D;\n      var pts = new Group();\n\n      for (var i = 0, len = _poly.length; i < len; i++) {\n        var next = i === len - 1 ? 0 : i + 1;\n        var d = fn([_poly[i], _poly[next]], _lineOrRay);\n        if (d) pts.push(d);\n      }\n\n      return pts.length > 0 ? pts : undefined;\n    }\n  }, {\n    key: \"intersectLines2D\",\n    value: function intersectLines2D(lines1, lines2) {\n      var isRay = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;\n      var group = new Group();\n      var fn = isRay ? Line.intersectLineWithRay2D : Line.intersectLine2D;\n\n      var _iterator = _createForOfIteratorHelper(lines1),\n          _step;\n\n      try {\n        for (_iterator.s(); !(_step = _iterator.n()).done;) {\n          var l1 = _step.value;\n\n          var _iterator2 = _createForOfIteratorHelper(lines2),\n              _step2;\n\n          try {\n            for (_iterator2.s(); !(_step2 = _iterator2.n()).done;) {\n              var l2 = _step2.value;\n\n              var _ip = fn(l1, l2);\n\n              if (_ip) group.push(_ip);\n            }\n          } catch (err) {\n            _iterator2.e(err);\n          } finally {\n            _iterator2.f();\n          }\n        }\n      } catch (err) {\n        _iterator.e(err);\n      } finally {\n        _iterator.f();\n      }\n\n      return group;\n    }\n  }, {\n    key: \"intersectGridWithRay2D\",\n    value: function intersectGridWithRay2D(ray, gridPt) {\n      var _ray = Util.iterToArray(ray);\n\n      var t = Line.intercept(new Pt(_ray[0]).subtract(gridPt), new Pt(_ray[1]).subtract(gridPt));\n      var g = new Group();\n      if (t && t.xi) g.push(new Pt(gridPt[0] + t.xi, gridPt[1]));\n      if (t && t.yi) g.push(new Pt(gridPt[0], gridPt[1] + t.yi));\n      return g;\n    }\n  }, {\n    key: \"intersectGridWithLine2D\",\n    value: function intersectGridWithLine2D(line, gridPt) {\n      var _line = Util.iterToArray(line);\n\n      var g = Line.intersectGridWithRay2D(_line, gridPt);\n      var gg = new Group();\n\n      for (var i = 0, len = g.length; i < len; i++) {\n        if (Geom.withinBound(g[i], _line[0], _line[1])) gg.push(g[i]);\n      }\n\n      return gg;\n    }\n  }, {\n    key: \"intersectRect2D\",\n    value: function intersectRect2D(line, rect) {\n      var _line = Util.iterToArray(line);\n\n      var _rect = Util.iterToArray(rect);\n\n      var box = Geom.boundingBox(Group.fromPtArray(_line));\n      if (!Rectangle.hasIntersectRect2D(box, _rect)) return new Group();\n      return Line.intersectLines2D([_line], Rectangle.sides(_rect));\n    }\n  }, {\n    key: \"subpoints\",\n    value: function subpoints(line, num) {\n      var _line = Util.iterToArray(line);\n\n      var pts = new Group();\n\n      for (var i = 1; i <= num; i++) {\n        pts.push(Geom.interpolate(_line[0], _line[1], i / (num + 1)));\n      }\n\n      return pts;\n    }\n  }, {\n    key: \"crop\",\n    value: function crop(line, size) {\n      var index = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 0;\n      var cropAsCircle = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : true;\n\n      var _line = Util.iterToArray(line);\n\n      var tdx = index === 0 ? 1 : 0;\n\n      var ls = _line[tdx].$subtract(_line[index]);\n\n      if (ls[0] === 0 || size[0] === 0) return _line[index];\n\n      if (cropAsCircle) {\n        var d = ls.unit().multiply(size[1]);\n        return _line[index].$add(d);\n      } else {\n        var rect = Rectangle.fromCenter(_line[index], size);\n        var sides = Rectangle.sides(rect);\n        var sideIdx = 0;\n\n        if (Math.abs(ls[1] / ls[0]) > Math.abs(size[1] / size[0])) {\n          sideIdx = ls[1] < 0 ? 0 : 2;\n        } else {\n          sideIdx = ls[0] < 0 ? 3 : 1;\n        }\n\n        return Line.intersectRay2D(sides[sideIdx], _line);\n      }\n    }\n  }, {\n    key: \"marker\",\n    value: function marker(line, size) {\n      var graphic = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : \"arrow\" || \"line\";\n      var atTail = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : true;\n\n      var _line = Util.iterToArray(line);\n\n      var h = atTail ? 0 : 1;\n      var t = atTail ? 1 : 0;\n\n      var unit = _line[h].$subtract(_line[t]);\n\n      if (unit.magnitudeSq() === 0) return new Group();\n      unit.unit();\n      var ps = Geom.perpendicular(unit).multiply(size[0]).add(_line[t]);\n\n      if (graphic == \"arrow\") {\n        ps.add(unit.$multiply(size[1]));\n        return new Group(_line[t], ps[0], ps[1]);\n      } else {\n        return new Group(ps[0], ps[1]);\n      }\n    }\n  }, {\n    key: \"toRect\",\n    value: function toRect(line) {\n      var _line = Util.iterToArray(line);\n\n      return new Group(_line[0].$min(_line[1]), _line[0].$max(_line[1]));\n    }\n  }]);\n\n  return Line;\n}();\nexport var Rectangle = /*#__PURE__*/function () {\n  function Rectangle() {\n    _classCallCheck(this, Rectangle);\n  }\n\n  _createClass(Rectangle, null, [{\n    key: \"from\",\n    value: function from(topLeft, widthOrSize, height) {\n      return Rectangle.fromTopLeft(topLeft, widthOrSize, height);\n    }\n  }, {\n    key: \"fromTopLeft\",\n    value: function fromTopLeft(topLeft, widthOrSize, height) {\n      var size = typeof widthOrSize == \"number\" ? [widthOrSize, height || widthOrSize] : widthOrSize;\n      return new Group(new Pt(topLeft), new Pt(topLeft).add(size));\n    }\n  }, {\n    key: \"fromCenter\",\n    value: function fromCenter(center, widthOrSize, height) {\n      var half = typeof widthOrSize == \"number\" ? [widthOrSize / 2, (height || widthOrSize) / 2] : new Pt(widthOrSize).divide(2);\n      return new Group(new Pt(center).subtract(half), new Pt(center).add(half));\n    }\n  }, {\n    key: \"toCircle\",\n    value: function toCircle(pts) {\n      var within = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : true;\n      return Circle.fromRect(pts, within);\n    }\n  }, {\n    key: \"toSquare\",\n    value: function toSquare(pts) {\n      var enclose = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n\n      var _pts = Util.iterToArray(pts);\n\n      var s = Rectangle.size(_pts);\n      var m = enclose ? s.maxValue().value : s.minValue().value;\n      return Rectangle.fromCenter(Rectangle.center(_pts), m, m);\n    }\n  }, {\n    key: \"size\",\n    value: function size(pts) {\n      var p = Util.iterToArray(pts);\n      return p[0].$max(p[1]).subtract(p[0].$min(p[1]));\n    }\n  }, {\n    key: \"center\",\n    value: function center(pts) {\n      var p = Util.iterToArray(pts);\n      var min = p[0].$min(p[1]);\n      var max = p[0].$max(p[1]);\n      return min.add(max.$subtract(min).divide(2));\n    }\n  }, {\n    key: \"corners\",\n    value: function corners(rect) {\n      var _rect = Util.iterToArray(rect);\n\n      var p0 = _rect[0].$min(_rect[1]);\n\n      var p2 = _rect[0].$max(_rect[1]);\n\n      return new Group(p0, new Pt(p2.x, p0.y), p2, new Pt(p0.x, p2.y));\n    }\n  }, {\n    key: \"sides\",\n    value: function sides(rect) {\n      var _Rectangle$corners = Rectangle.corners(rect),\n          _Rectangle$corners2 = _slicedToArray(_Rectangle$corners, 4),\n          p0 = _Rectangle$corners2[0],\n          p1 = _Rectangle$corners2[1],\n          p2 = _Rectangle$corners2[2],\n          p3 = _Rectangle$corners2[3];\n\n      return [new Group(p0, p1), new Group(p1, p2), new Group(p2, p3), new Group(p3, p0)];\n    }\n  }, {\n    key: \"boundingBox\",\n    value: function boundingBox(rects) {\n      var _rects = Util.iterToArray(rects);\n\n      var merged = Util.flatten(_rects, false);\n      var min = Pt.make(2, Number.MAX_VALUE);\n      var max = Pt.make(2, Number.MIN_VALUE);\n\n      for (var i = 0, len = merged.length; i < len; i++) {\n        var k = 0;\n\n        var _iterator3 = _createForOfIteratorHelper(merged[i]),\n            _step3;\n\n        try {\n          for (_iterator3.s(); !(_step3 = _iterator3.n()).done;) {\n            var m = _step3.value;\n            min[k] = Math.min(min[k], m[k]);\n            max[k] = Math.max(max[k], m[k]);\n            if (++k >= 2) break;\n          }\n        } catch (err) {\n          _iterator3.e(err);\n        } finally {\n          _iterator3.f();\n        }\n      }\n\n      return new Group(min, max);\n    }\n  }, {\n    key: \"polygon\",\n    value: function polygon(rect) {\n      return Rectangle.corners(rect);\n    }\n  }, {\n    key: \"quadrants\",\n    value: function quadrants(rect, center) {\n      var _rect = Util.iterToArray(rect);\n\n      var corners = Rectangle.corners(_rect);\n\n      var _center = center != undefined ? new Pt(center) : Rectangle.center(_rect);\n\n      return corners.map(function (c) {\n        return new Group(c, _center).boundingBox();\n      });\n    }\n  }, {\n    key: \"halves\",\n    value: function halves(rect) {\n      var ratio = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0.5;\n      var asRows = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;\n\n      var _rect = Util.iterToArray(rect);\n\n      var min = _rect[0].$min(_rect[1]);\n\n      var max = _rect[0].$max(_rect[1]);\n\n      var mid = asRows ? Num.lerp(min[1], max[1], ratio) : Num.lerp(min[0], max[0], ratio);\n      return asRows ? [new Group(min, new Pt(max[0], mid)), new Group(new Pt(min[0], mid), max)] : [new Group(min, new Pt(mid, max[1])), new Group(new Pt(mid, min[1]), max)];\n    }\n  }, {\n    key: \"withinBound\",\n    value: function withinBound(rect, pt) {\n      var _rect = Util.iterToArray(rect);\n\n      return Geom.withinBound(pt, _rect[0], _rect[1]);\n    }\n  }, {\n    key: \"hasIntersectRect2D\",\n    value: function hasIntersectRect2D(rect1, rect2) {\n      var resetBoundingBox = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;\n\n      var _rect1 = Util.iterToArray(rect1);\n\n      var _rect2 = Util.iterToArray(rect2);\n\n      if (resetBoundingBox) {\n        _rect1 = Geom.boundingBox(_rect1);\n        _rect2 = Geom.boundingBox(_rect2);\n      }\n\n      if (_rect1[0][0] > _rect2[1][0] || _rect2[0][0] > _rect1[1][0]) return false;\n      if (_rect1[0][1] > _rect2[1][1] || _rect2[0][1] > _rect1[1][1]) return false;\n      return true;\n    }\n  }, {\n    key: \"intersectRect2D\",\n    value: function intersectRect2D(rect1, rect2) {\n      var _rect1 = Util.iterToArray(rect1);\n\n      var _rect2 = Util.iterToArray(rect2);\n\n      if (!Rectangle.hasIntersectRect2D(_rect1, _rect2)) return new Group();\n      return Line.intersectLines2D(Rectangle.sides(_rect1), Rectangle.sides(_rect2));\n    }\n  }]);\n\n  return Rectangle;\n}();\nexport var Circle = /*#__PURE__*/function () {\n  function Circle() {\n    _classCallCheck(this, Circle);\n  }\n\n  _createClass(Circle, null, [{\n    key: \"fromRect\",\n    value: function fromRect(pts) {\n      var enclose = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n\n      var _pts = Util.iterToArray(pts);\n\n      var r = 0;\n      var min = r = Rectangle.size(_pts).minValue().value / 2;\n\n      if (enclose) {\n        var max = Rectangle.size(_pts).maxValue().value / 2;\n        r = Math.sqrt(min * min + max * max);\n      } else {\n        r = min;\n      }\n\n      return new Group(Rectangle.center(_pts), new Pt(r, r));\n    }\n  }, {\n    key: \"fromTriangle\",\n    value: function fromTriangle(pts) {\n      var enclose = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n\n      if (enclose) {\n        return Triangle.circumcircle(pts);\n      } else {\n        return Triangle.incircle(pts);\n      }\n    }\n  }, {\n    key: \"fromCenter\",\n    value: function fromCenter(pt, radius) {\n      return new Group(new Pt(pt), new Pt(radius, radius));\n    }\n  }, {\n    key: \"withinBound\",\n    value: function withinBound(pts, pt) {\n      var threshold = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 0;\n\n      var _pts = Util.iterToArray(pts);\n\n      var d = _pts[0].$subtract(pt);\n\n      return d.dot(d) + threshold < _pts[1].x * _pts[1].x;\n    }\n  }, {\n    key: \"intersectRay2D\",\n    value: function intersectRay2D(circle, ray) {\n      var _pts = Util.iterToArray(circle);\n\n      var _ray = Util.iterToArray(ray);\n\n      var d = _ray[0].$subtract(_ray[1]);\n\n      var f = _pts[0].$subtract(_ray[0]);\n\n      var a = d.dot(d);\n      var b = f.dot(d);\n\n      var c = f.dot(f) - _pts[1].x * _pts[1].x;\n\n      var p = b / a;\n      var q = c / a;\n      var disc = p * p - q;\n\n      if (disc < 0) {\n        return new Group();\n      } else {\n        var discSqrt = Math.sqrt(disc);\n        var t1 = -p + discSqrt;\n\n        var p1 = _ray[0].$subtract(d.$multiply(t1));\n\n        if (disc === 0) return new Group(p1);\n        var t2 = -p - discSqrt;\n\n        var p2 = _ray[0].$subtract(d.$multiply(t2));\n\n        return new Group(p1, p2);\n      }\n    }\n  }, {\n    key: \"intersectLine2D\",\n    value: function intersectLine2D(circle, line) {\n      var _pts = Util.iterToArray(circle);\n\n      var _line = Util.iterToArray(line);\n\n      var ps = Circle.intersectRay2D(_pts, _line);\n      var g = new Group();\n\n      if (ps.length > 0) {\n        for (var i = 0, len = ps.length; i < len; i++) {\n          if (Rectangle.withinBound(_line, ps[i])) g.push(ps[i]);\n        }\n      }\n\n      return g;\n    }\n  }, {\n    key: \"intersectCircle2D\",\n    value: function intersectCircle2D(circle1, circle2) {\n      var _pts = Util.iterToArray(circle1);\n\n      var _circle = Util.iterToArray(circle2);\n\n      var dv = _circle[0].$subtract(_pts[0]);\n\n      var dr2 = dv.magnitudeSq();\n      var dr = Math.sqrt(dr2);\n      var ar = _pts[1].x;\n      var br = _circle[1].x;\n      var ar2 = ar * ar;\n      var br2 = br * br;\n\n      if (dr > ar + br) {\n        return new Group();\n      } else if (dr < Math.abs(ar - br)) {\n        return new Group(_pts[0].clone());\n      } else {\n        var a = (ar2 - br2 + dr2) / (2 * dr);\n        var h = Math.sqrt(ar2 - a * a);\n        var p = dv.$multiply(a / dr).add(_pts[0]);\n        return new Group(new Pt(p.x + h * dv.y / dr, p.y - h * dv.x / dr), new Pt(p.x - h * dv.y / dr, p.y + h * dv.x / dr));\n      }\n    }\n  }, {\n    key: \"intersectRect2D\",\n    value: function intersectRect2D(circle, rect) {\n      var _pts = Util.iterToArray(circle);\n\n      var _rect = Util.iterToArray(rect);\n\n      var sides = Rectangle.sides(_rect);\n      var g = [];\n\n      for (var i = 0, len = sides.length; i < len; i++) {\n        var ps = Circle.intersectLine2D(_pts, sides[i]);\n        if (ps.length > 0) g.push(ps);\n      }\n\n      return Util.flatten(g);\n    }\n  }, {\n    key: \"toRect\",\n    value: function toRect(circle) {\n      var within = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n\n      var _pts = Util.iterToArray(circle);\n\n      var r = _pts[1][0];\n\n      if (within) {\n        var half = Math.sqrt(r * r) / 2;\n        return new Group(_pts[0].$subtract(half), _pts[0].$add(half));\n      } else {\n        return new Group(_pts[0].$subtract(r), _pts[0].$add(r));\n      }\n    }\n  }, {\n    key: \"toTriangle\",\n    value: function toTriangle(circle) {\n      var within = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : true;\n\n      var _pts = Util.iterToArray(circle);\n\n      if (within) {\n        var ang = -Math.PI / 2;\n        var inc = Math.PI * 2 / 3;\n        var g = new Group();\n\n        for (var i = 0; i < 3; i++) {\n          g.push(_pts[0].clone().toAngle(ang, _pts[1][0], true));\n          ang += inc;\n        }\n\n        return g;\n      } else {\n        return Triangle.fromCenter(_pts[0], _pts[1][0]);\n      }\n    }\n  }]);\n\n  return Circle;\n}();\nexport var Triangle = /*#__PURE__*/function () {\n  function Triangle() {\n    _classCallCheck(this, Triangle);\n  }\n\n  _createClass(Triangle, null, [{\n    key: \"fromRect\",\n    value: function fromRect(rect) {\n      var _rect = Util.iterToArray(rect);\n\n      var top = _rect[0].$add(_rect[1]).divide(2);\n\n      top.y = _rect[0][1];\n\n      var left = _rect[1].clone();\n\n      left.x = _rect[0][0];\n      return new Group(top, _rect[1].clone(), left);\n    }\n  }, {\n    key: \"fromCircle\",\n    value: function fromCircle(circle) {\n      return Circle.toTriangle(circle, true);\n    }\n  }, {\n    key: \"fromCenter\",\n    value: function fromCenter(pt, size) {\n      return Triangle.fromCircle(Circle.fromCenter(pt, size));\n    }\n  }, {\n    key: \"medial\",\n    value: function medial(tri) {\n      var _pts = Util.iterToArray(tri);\n\n      if (_pts.length < 3) return _errorLength(new Group(), 3);\n      return Polygon.midpoints(_pts, true);\n    }\n  }, {\n    key: \"oppositeSide\",\n    value: function oppositeSide(tri, index) {\n      var _pts = Util.iterToArray(tri);\n\n      if (_pts.length < 3) return _errorLength(new Group(), 3);\n\n      if (index === 0) {\n        return Group.fromPtArray([_pts[1], _pts[2]]);\n      } else if (index === 1) {\n        return Group.fromPtArray([_pts[0], _pts[2]]);\n      } else {\n        return Group.fromPtArray([_pts[0], _pts[1]]);\n      }\n    }\n  }, {\n    key: \"altitude\",\n    value: function altitude(tri, index) {\n      var _pts = Util.iterToArray(tri);\n\n      var opp = Triangle.oppositeSide(_pts, index);\n\n      if (opp.length > 1) {\n        return new Group(_pts[index], Line.perpendicularFromPt(opp, _pts[index]));\n      } else {\n        return new Group();\n      }\n    }\n  }, {\n    key: \"orthocenter\",\n    value: function orthocenter(tri) {\n      var _pts = Util.iterToArray(tri);\n\n      if (_pts.length < 3) return _errorLength(undefined, 3);\n      var a = Triangle.altitude(_pts, 0);\n      var b = Triangle.altitude(_pts, 1);\n      return Line.intersectRay2D(a, b);\n    }\n  }, {\n    key: \"incenter\",\n    value: function incenter(tri) {\n      var _pts = Util.iterToArray(tri);\n\n      if (_pts.length < 3) return _errorLength(undefined, 3);\n      var a = Polygon.bisector(_pts, 0).add(_pts[0]);\n      var b = Polygon.bisector(_pts, 1).add(_pts[1]);\n      return Line.intersectRay2D(new Group(_pts[0], a), new Group(_pts[1], b));\n    }\n  }, {\n    key: \"incircle\",\n    value: function incircle(tri, center) {\n      var _pts = Util.iterToArray(tri);\n\n      var c = center ? center : Triangle.incenter(_pts);\n      var area = Polygon.area(_pts);\n      var perim = Polygon.perimeter(_pts, true);\n      var r = 2 * area / perim.total;\n      return Circle.fromCenter(c, r);\n    }\n  }, {\n    key: \"circumcenter\",\n    value: function circumcenter(tri) {\n      var _pts = Util.iterToArray(tri);\n\n      var md = Triangle.medial(_pts);\n      var a = [md[0], Geom.perpendicular(_pts[0].$subtract(md[0])).p1.$add(md[0])];\n      var b = [md[1], Geom.perpendicular(_pts[1].$subtract(md[1])).p1.$add(md[1])];\n      return Line.intersectRay2D(a, b);\n    }\n  }, {\n    key: \"circumcircle\",\n    value: function circumcircle(tri, center) {\n      var _pts = Util.iterToArray(tri);\n\n      var c = center ? center : Triangle.circumcenter(_pts);\n\n      var r = _pts[0].$subtract(c).magnitude();\n\n      return Circle.fromCenter(c, r);\n    }\n  }]);\n\n  return Triangle;\n}();\nexport var Polygon = /*#__PURE__*/function () {\n  function Polygon() {\n    _classCallCheck(this, Polygon);\n  }\n\n  _createClass(Polygon, null, [{\n    key: \"centroid\",\n    value: function centroid(pts) {\n      return Geom.centroid(pts);\n    }\n  }, {\n    key: \"rectangle\",\n    value: function rectangle(center, widthOrSize, height) {\n      return Rectangle.corners(Rectangle.fromCenter(center, widthOrSize, height));\n    }\n  }, {\n    key: \"fromCenter\",\n    value: function fromCenter(center, radius, sides) {\n      var g = new Group();\n\n      for (var i = 0; i < sides; i++) {\n        var ang = Math.PI * 2 * i / sides;\n        g.push(new Pt(Math.cos(ang) * radius, Math.sin(ang) * radius).add(center));\n      }\n\n      return g;\n    }\n  }, {\n    key: \"lineAt\",\n    value: function lineAt(pts, index) {\n      var _pts = Util.iterToArray(pts);\n\n      if (index < 0 || index >= _pts.length) throw new Error(\"index out of the Polygon's range\");\n      return new Group(_pts[index], index === _pts.length - 1 ? _pts[0] : _pts[index + 1]);\n    }\n  }, {\n    key: \"lines\",\n    value: function lines(poly) {\n      var closePath = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : true;\n\n      var _pts = Util.iterToArray(poly);\n\n      if (_pts.length < 2) return _errorLength(new Group(), 2);\n      var sp = Util.split(_pts, 2, 1);\n      if (closePath) sp.push(new Group(_pts[_pts.length - 1], _pts[0]));\n      return sp.map(function (g) {\n        return g;\n      });\n    }\n  }, {\n    key: \"midpoints\",\n    value: function midpoints(poly) {\n      var closePath = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n      var t = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 0.5;\n      var sides = Polygon.lines(poly, closePath);\n      var mids = sides.map(function (s) {\n        return Geom.interpolate(s[0], s[1], t);\n      });\n      return mids;\n    }\n  }, {\n    key: \"adjacentSides\",\n    value: function adjacentSides(poly, index) {\n      var closePath = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;\n\n      var _pts = Util.iterToArray(poly);\n\n      if (_pts.length < 2) return _errorLength(new Group(), 2);\n      if (index < 0 || index >= _pts.length) return _errorOutofBound(new Group(), index);\n      var gs = [];\n      var left = index - 1;\n      if (closePath && left < 0) left = _pts.length - 1;\n      if (left >= 0) gs.push(new Group(_pts[index], _pts[left]));\n      var right = index + 1;\n      if (closePath && right > _pts.length - 1) right = 0;\n      if (right <= _pts.length - 1) gs.push(new Group(_pts[index], _pts[right]));\n      return gs;\n    }\n  }, {\n    key: \"bisector\",\n    value: function bisector(poly, index) {\n      var sides = Polygon.adjacentSides(poly, index, true);\n\n      if (sides.length >= 2) {\n        var a = sides[0][1].$subtract(sides[0][0]).unit();\n        var b = sides[1][1].$subtract(sides[1][0]).unit();\n        return a.add(b).divide(2);\n      } else {\n        return undefined;\n      }\n    }\n  }, {\n    key: \"perimeter\",\n    value: function perimeter(poly) {\n      var closePath = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n      var lines = Polygon.lines(poly, closePath);\n      var mag = 0;\n      var p = Pt.make(lines.length, 0);\n\n      for (var i = 0, len = lines.length; i < len; i++) {\n        var m = Line.magnitude(lines[i]);\n        mag += m;\n        p[i] = m;\n      }\n\n      return {\n        total: mag,\n        segments: p\n      };\n    }\n  }, {\n    key: \"area\",\n    value: function area(pts) {\n      var _pts = Util.iterToArray(pts);\n\n      if (_pts.length < 3) return _errorLength(new Group(), 3);\n\n      var det = function det(a, b) {\n        return a[0] * b[1] - a[1] * b[0];\n      };\n\n      var area = 0;\n\n      for (var i = 0, len = _pts.length; i < len; i++) {\n        if (i < _pts.length - 1) {\n          area += det(_pts[i], _pts[i + 1]);\n        } else {\n          area += det(_pts[i], _pts[0]);\n        }\n      }\n\n      return Math.abs(area / 2);\n    }\n  }, {\n    key: \"convexHull\",\n    value: function convexHull(pts) {\n      var sorted = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n\n      var _pts = Util.iterToArray(pts);\n\n      if (_pts.length < 3) return _errorLength(new Group(), 3);\n\n      if (!sorted) {\n        _pts = _pts.slice();\n\n        _pts.sort(function (a, b) {\n          return a[0] - b[0];\n        });\n      }\n\n      var left = function left(a, b, c) {\n        return (b[0] - a[0]) * (c[1] - a[1]) - (c[0] - a[0]) * (b[1] - a[1]) > 0;\n      };\n\n      var dq = [];\n      var bot = _pts.length - 2;\n      var top = bot + 3;\n      dq[bot] = _pts[2];\n      dq[top] = _pts[2];\n\n      if (left(_pts[0], _pts[1], _pts[2])) {\n        dq[bot + 1] = _pts[0];\n        dq[bot + 2] = _pts[1];\n      } else {\n        dq[bot + 1] = _pts[1];\n        dq[bot + 2] = _pts[0];\n      }\n\n      for (var i = 3, len = _pts.length; i < len; i++) {\n        var pt = _pts[i];\n\n        if (left(dq[bot], dq[bot + 1], pt) && left(dq[top - 1], dq[top], pt)) {\n          continue;\n        }\n\n        while (!left(dq[bot], dq[bot + 1], pt)) {\n          bot += 1;\n        }\n\n        bot -= 1;\n        dq[bot] = pt;\n\n        while (!left(dq[top - 1], dq[top], pt)) {\n          top -= 1;\n        }\n\n        top += 1;\n        dq[top] = pt;\n      }\n\n      var hull = new Group();\n\n      for (var h = 0; h < top - bot; h++) {\n        hull.push(dq[bot + h]);\n      }\n\n      return hull;\n    }\n  }, {\n    key: \"network\",\n    value: function network(poly) {\n      var originIndex = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n\n      var _pts = Util.iterToArray(poly);\n\n      var g = [];\n\n      for (var i = 0, len = _pts.length; i < len; i++) {\n        if (i != originIndex) g.push(new Group(_pts[originIndex], _pts[i]));\n      }\n\n      return g;\n    }\n  }, {\n    key: \"nearestPt\",\n    value: function nearestPt(poly, pt) {\n      var _near = Number.MAX_VALUE;\n\n      var _item = -1;\n\n      var i = 0;\n\n      var _iterator4 = _createForOfIteratorHelper(poly),\n          _step4;\n\n      try {\n        for (_iterator4.s(); !(_step4 = _iterator4.n()).done;) {\n          var p = _step4.value;\n          var d = p.$subtract(pt).magnitudeSq();\n\n          if (d < _near) {\n            _near = d;\n            _item = i;\n          }\n\n          i++;\n        }\n      } catch (err) {\n        _iterator4.e(err);\n      } finally {\n        _iterator4.f();\n      }\n\n      return _item;\n    }\n  }, {\n    key: \"projectAxis\",\n    value: function projectAxis(poly, unitAxis) {\n      var _poly = Util.iterToArray(poly);\n\n      var dot = unitAxis.dot(_poly[0]);\n      var d = new Pt(dot, dot);\n\n      for (var n = 1, len = _poly.length; n < len; n++) {\n        dot = unitAxis.dot(_poly[n]);\n        d = new Pt(Math.min(dot, d[0]), Math.max(dot, d[1]));\n      }\n\n      return d;\n    }\n  }, {\n    key: \"_axisOverlap\",\n    value: function _axisOverlap(poly1, poly2, unitAxis) {\n      var pa = Polygon.projectAxis(poly1, unitAxis);\n      var pb = Polygon.projectAxis(poly2, unitAxis);\n      return pa[0] < pb[0] ? pb[0] - pa[1] : pa[0] - pb[1];\n    }\n  }, {\n    key: \"hasIntersectPoint\",\n    value: function hasIntersectPoint(poly, pt) {\n      var _poly = Util.iterToArray(poly);\n\n      var c = false;\n\n      for (var i = 0, len = _poly.length; i < len; i++) {\n        var ln = Polygon.lineAt(_poly, i);\n\n        if (ln[0][1] > pt[1] != ln[1][1] > pt[1] && pt[0] < (ln[1][0] - ln[0][0]) * (pt[1] - ln[0][1]) / (ln[1][1] - ln[0][1]) + ln[0][0]) {\n          c = !c;\n        }\n      }\n\n      return c;\n    }\n  }, {\n    key: \"hasIntersectCircle\",\n    value: function hasIntersectCircle(poly, circle) {\n      var _poly = Util.iterToArray(poly);\n\n      var _circle = Util.iterToArray(circle);\n\n      var info = {\n        which: -1,\n        dist: 0,\n        normal: null,\n        edge: null,\n        vertex: null\n      };\n      var c = _circle[0];\n      var r = _circle[1][0];\n      var minDist = Number.MAX_SAFE_INTEGER;\n\n      for (var i = 0, len = _poly.length; i < len; i++) {\n        var edge = Polygon.lineAt(_poly, i);\n        var axis = new Pt(edge[0].y - edge[1].y, edge[1].x - edge[0].x).unit();\n        var poly2 = new Group(c.$add(axis.$multiply(r)), c.$subtract(axis.$multiply(r)));\n\n        var dist = Polygon._axisOverlap(_poly, poly2, axis);\n\n        if (dist > 0) {\n          return null;\n        } else if (Math.abs(dist) < minDist) {\n          var check = Rectangle.withinBound(edge, Line.perpendicularFromPt(edge, c)) || Circle.intersectLine2D(circle, edge).length > 0;\n\n          if (check) {\n            info.edge = edge;\n            info.normal = axis;\n            minDist = Math.abs(dist);\n            info.which = i;\n          }\n        }\n      }\n\n      if (!info.edge) return null;\n      var dir = c.$subtract(Polygon.centroid(_poly)).dot(info.normal);\n      if (dir < 0) info.normal.multiply(-1);\n      info.dist = minDist;\n      info.vertex = c;\n      return info;\n    }\n  }, {\n    key: \"hasIntersectPolygon\",\n    value: function hasIntersectPolygon(poly1, poly2) {\n      var _poly1 = Util.iterToArray(poly1);\n\n      var _poly2 = Util.iterToArray(poly2);\n\n      var info = {\n        which: -1,\n        dist: 0,\n        normal: new Pt(),\n        edge: new Group(),\n        vertex: new Pt()\n      };\n      var minDist = Number.MAX_SAFE_INTEGER;\n\n      for (var i = 0, plen = _poly1.length + _poly2.length; i < plen; i++) {\n        var edge = i < _poly1.length ? Polygon.lineAt(_poly1, i) : Polygon.lineAt(_poly2, i - _poly1.length);\n        var axis = new Pt(edge[0].y - edge[1].y, edge[1].x - edge[0].x).unit();\n\n        var dist = Polygon._axisOverlap(_poly1, _poly2, axis);\n\n        if (dist > 0) {\n          return null;\n        } else if (Math.abs(dist) < minDist) {\n          info.edge = edge;\n          info.normal = axis;\n          minDist = Math.abs(dist);\n          info.which = i < _poly1.length ? 0 : 1;\n        }\n      }\n\n      info.dist = minDist;\n      var b1 = info.which === 0 ? _poly2 : _poly1;\n      var b2 = info.which === 0 ? _poly1 : _poly2;\n      var c1 = Polygon.centroid(b1);\n      var c2 = Polygon.centroid(b2);\n      var dir = c1.$subtract(c2).dot(info.normal);\n      if (dir < 0) info.normal.multiply(-1);\n      var smallest = Number.MAX_SAFE_INTEGER;\n\n      for (var _i = 0, len = b1.length; _i < len; _i++) {\n        var d = info.normal.dot(b1[_i].$subtract(c2));\n\n        if (d < smallest) {\n          smallest = d;\n          info.vertex = b1[_i];\n        }\n      }\n\n      return info;\n    }\n  }, {\n    key: \"intersectPolygon2D\",\n    value: function intersectPolygon2D(poly1, poly2) {\n      var _poly1 = Util.iterToArray(poly1);\n\n      var _poly2 = Util.iterToArray(poly2);\n\n      var lp = Polygon.lines(_poly1);\n      var g = [];\n\n      for (var i = 0, len = lp.length; i < len; i++) {\n        var ins = Line.intersectPolygon2D(lp[i], _poly2, false);\n        if (ins) g.push(ins);\n      }\n\n      return Util.flatten(g, true);\n    }\n  }, {\n    key: \"toRects\",\n    value: function toRects(polys) {\n      var boxes = [];\n\n      var _iterator5 = _createForOfIteratorHelper(polys),\n          _step5;\n\n      try {\n        for (_iterator5.s(); !(_step5 = _iterator5.n()).done;) {\n          var g = _step5.value;\n          boxes.push(Geom.boundingBox(g));\n        }\n      } catch (err) {\n        _iterator5.e(err);\n      } finally {\n        _iterator5.f();\n      }\n\n      var merged = Util.flatten(boxes, false);\n      boxes.unshift(Geom.boundingBox(merged));\n      return boxes;\n    }\n  }]);\n\n  return Polygon;\n}();\nexport var Curve = /*#__PURE__*/function () {\n  function Curve() {\n    _classCallCheck(this, Curve);\n  }\n\n  _createClass(Curve, null, [{\n    key: \"getSteps\",\n    value: function getSteps(steps) {\n      var ts = new Group();\n\n      for (var i = 0; i <= steps; i++) {\n        var t = i / steps;\n        ts.push(new Pt(t * t * t, t * t, t, 1));\n      }\n\n      return ts;\n    }\n  }, {\n    key: \"controlPoints\",\n    value: function controlPoints(pts) {\n      var index = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n      var copyStart = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;\n\n      var _pts = Util.iterToArray(pts);\n\n      if (index > _pts.length - 1) return new Group();\n\n      var _index = function _index(i) {\n        return i < _pts.length - 1 ? i : _pts.length - 1;\n      };\n\n      var p0 = _pts[index];\n      index = copyStart ? index : index + 1;\n      return new Group(p0, _pts[_index(index++)], _pts[_index(index++)], _pts[_index(index++)]);\n    }\n  }, {\n    key: \"_calcPt\",\n    value: function _calcPt(ctrls, params) {\n      var x = ctrls.reduce(function (a, c, i) {\n        return a + c.x * params[i];\n      }, 0);\n      var y = ctrls.reduce(function (a, c, i) {\n        return a + c.y * params[i];\n      }, 0);\n\n      if (ctrls[0].length > 2) {\n        var z = ctrls.reduce(function (a, c, i) {\n          return a + c.z * params[i];\n        }, 0);\n        return new Pt(x, y, z);\n      }\n\n      return new Pt(x, y);\n    }\n  }, {\n    key: \"catmullRom\",\n    value: function catmullRom(pts) {\n      var steps = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 10;\n\n      var _pts = Util.iterToArray(pts);\n\n      if (_pts.length < 2) return new Group();\n      var ps = new Group();\n      var ts = Curve.getSteps(steps);\n      var c = Curve.controlPoints(_pts, 0, true);\n\n      for (var i = 0; i <= steps; i++) {\n        ps.push(Curve.catmullRomStep(ts[i], c));\n      }\n\n      var k = 0;\n\n      while (k < _pts.length - 2) {\n        var cp = Curve.controlPoints(_pts, k);\n\n        if (cp.length > 0) {\n          for (var _i2 = 0; _i2 <= steps; _i2++) {\n            ps.push(Curve.catmullRomStep(ts[_i2], cp));\n          }\n\n          k++;\n        }\n      }\n\n      return ps;\n    }\n  }, {\n    key: \"catmullRomStep\",\n    value: function catmullRomStep(step, ctrls) {\n      var m = new Group(new Pt(-0.5, 1, -0.5, 0), new Pt(1.5, -2.5, 0, 1), new Pt(-1.5, 2, 0.5, 0), new Pt(0.5, -0.5, 0, 0));\n      return Curve._calcPt(ctrls, Mat.multiply([step], m, true)[0]);\n    }\n  }, {\n    key: \"cardinal\",\n    value: function cardinal(pts) {\n      var steps = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 10;\n      var tension = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 0.5;\n\n      var _pts = Util.iterToArray(pts);\n\n      if (_pts.length < 2) return new Group();\n      var ps = new Group();\n      var ts = Curve.getSteps(steps);\n      var c = Curve.controlPoints(_pts, 0, true);\n\n      for (var i = 0; i <= steps; i++) {\n        ps.push(Curve.cardinalStep(ts[i], c, tension));\n      }\n\n      var k = 0;\n\n      while (k < _pts.length - 2) {\n        var cp = Curve.controlPoints(_pts, k);\n\n        if (cp.length > 0) {\n          for (var _i3 = 0; _i3 <= steps; _i3++) {\n            ps.push(Curve.cardinalStep(ts[_i3], cp, tension));\n          }\n\n          k++;\n        }\n      }\n\n      return ps;\n    }\n  }, {\n    key: \"cardinalStep\",\n    value: function cardinalStep(step, ctrls) {\n      var tension = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 0.5;\n      var m = new Group(new Pt(-1, 2, -1, 0), new Pt(-1, 1, 0, 0), new Pt(1, -2, 1, 0), new Pt(1, -1, 0, 0));\n      var h = Mat.multiply([step], m, true)[0].multiply(tension);\n      var h2 = 2 * step[0] - 3 * step[1] + 1;\n      var h3 = -2 * step[0] + 3 * step[1];\n\n      var pt = Curve._calcPt(ctrls, h);\n\n      pt.x += h2 * ctrls[1].x + h3 * ctrls[2].x;\n      pt.y += h2 * ctrls[1].y + h3 * ctrls[2].y;\n      if (pt.length > 2) pt.z += h2 * ctrls[1].z + h3 * ctrls[2].z;\n      return pt;\n    }\n  }, {\n    key: \"bezier\",\n    value: function bezier(pts) {\n      var steps = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 10;\n\n      var _pts = Util.iterToArray(pts);\n\n      if (_pts.length < 4) return new Group();\n      var ps = new Group();\n      var ts = Curve.getSteps(steps);\n      var k = 0;\n\n      while (k < _pts.length - 3) {\n        var c = Curve.controlPoints(_pts, k);\n\n        if (c.length > 0) {\n          for (var i = 0; i <= steps; i++) {\n            ps.push(Curve.bezierStep(ts[i], c));\n          }\n\n          k += 3;\n        }\n      }\n\n      return ps;\n    }\n  }, {\n    key: \"bezierStep\",\n    value: function bezierStep(step, ctrls) {\n      var m = new Group(new Pt(-1, 3, -3, 1), new Pt(3, -6, 3, 0), new Pt(-3, 3, 0, 0), new Pt(1, 0, 0, 0));\n      return Curve._calcPt(ctrls, Mat.multiply([step], m, true)[0]);\n    }\n  }, {\n    key: \"bspline\",\n    value: function bspline(pts) {\n      var steps = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 10;\n      var tension = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 1;\n\n      var _pts = Util.iterToArray(pts);\n\n      if (_pts.length < 2) return new Group();\n      var ps = new Group();\n      var ts = Curve.getSteps(steps);\n      var k = 0;\n\n      while (k < _pts.length - 3) {\n        var c = Curve.controlPoints(_pts, k);\n\n        if (c.length > 0) {\n          if (tension !== 1) {\n            for (var i = 0; i <= steps; i++) {\n              ps.push(Curve.bsplineTensionStep(ts[i], c, tension));\n            }\n          } else {\n            for (var _i4 = 0; _i4 <= steps; _i4++) {\n              ps.push(Curve.bsplineStep(ts[_i4], c));\n            }\n          }\n\n          k++;\n        }\n      }\n\n      return ps;\n    }\n  }, {\n    key: \"bsplineStep\",\n    value: function bsplineStep(step, ctrls) {\n      var m = new Group(new Pt(-0.16666666666666666, 0.5, -0.5, 0.16666666666666666), new Pt(0.5, -1, 0, 0.6666666666666666), new Pt(-0.5, 0.5, 0.5, 0.16666666666666666), new Pt(0.16666666666666666, 0, 0, 0));\n      return Curve._calcPt(ctrls, Mat.multiply([step], m, true)[0]);\n    }\n  }, {\n    key: \"bsplineTensionStep\",\n    value: function bsplineTensionStep(step, ctrls) {\n      var tension = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 1;\n      var m = new Group(new Pt(-0.16666666666666666, 0.5, -0.5, 0.16666666666666666), new Pt(-1.5, 2, 0, -0.3333333333333333), new Pt(1.5, -2.5, 0.5, 0.16666666666666666), new Pt(0.16666666666666666, 0, 0, 0));\n      var h = Mat.multiply([step], m, true)[0].multiply(tension);\n      var h2 = 2 * step[0] - 3 * step[1] + 1;\n      var h3 = -2 * step[0] + 3 * step[1];\n\n      var pt = Curve._calcPt(ctrls, h);\n\n      pt.x += h2 * ctrls[1].x + h3 * ctrls[2].x;\n      pt.y += h2 * ctrls[1].y + h3 * ctrls[2].y;\n      if (pt.length > 2) pt.z += h2 * ctrls[1].z + h3 * ctrls[2].z;\n      return pt;\n    }\n  }]);\n\n  return Curve;\n}();","import _classCallCheck from \"/Users/usarneme/Projects/gatsby-portfolio/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/usarneme/Projects/gatsby-portfolio/node_modules/@babel/runtime/helpers/esm/createClass\";\n\nfunction _createForOfIteratorHelper(o, allowArrayLike) { var it; if (typeof Symbol === \"undefined\" || o[Symbol.iterator] == null) { if (Array.isArray(o) || (it = _unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === \"number\") { if (it) o = it; var i = 0; var F = function F() {}; return { s: F, n: function n() { if (i >= o.length) return { done: true }; return { done: false, value: o[i++] }; }, e: function e(_e) { throw _e; }, f: F }; } throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); } var normalCompletion = true, didErr = false, err; return { s: function s() { it = o[Symbol.iterator](); }, n: function n() { var step = it.next(); normalCompletion = step.done; return step; }, e: function e(_e2) { didErr = true; err = _e2; }, f: function f() { try { if (!normalCompletion && it.return != null) it.return(); } finally { if (didErr) throw err; } } }; }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\n/*! Source code licensed under Apache License 2.0. Copyright © 2017-current William Ngan and contributors. (https://github.com/williamngan/pts) */\nimport { Const, Util } from \"./Util\";\nimport { Curve } from \"./Op\";\nimport { Pt, Group } from \"./Pt\";\nimport { Vec, Mat } from \"./LinearAlgebra\";\nexport var Num = /*#__PURE__*/function () {\n  function Num() {\n    _classCallCheck(this, Num);\n  }\n\n  _createClass(Num, null, [{\n    key: \"equals\",\n    value: function equals(a, b) {\n      var threshold = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 0.00001;\n      return Math.abs(a - b) < threshold;\n    }\n  }, {\n    key: \"lerp\",\n    value: function lerp(a, b, t) {\n      return (1 - t) * a + t * b;\n    }\n  }, {\n    key: \"clamp\",\n    value: function clamp(val, min, max) {\n      return Math.max(min, Math.min(max, val));\n    }\n  }, {\n    key: \"boundValue\",\n    value: function boundValue(val, min, max) {\n      var len = Math.abs(max - min);\n      var a = val % len;\n      if (a > max) a -= len;else if (a < min) a += len;\n      return a;\n    }\n  }, {\n    key: \"within\",\n    value: function within(p, a, b) {\n      return p >= Math.min(a, b) && p <= Math.max(a, b);\n    }\n  }, {\n    key: \"randomRange\",\n    value: function randomRange(a) {\n      var b = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n      var r = a > b ? a - b : b - a;\n      return a + Math.random() * r;\n    }\n  }, {\n    key: \"randomPt\",\n    value: function randomPt(a, b) {\n      var p = new Pt(a.length);\n      var range = b ? Vec.subtract(b, a) : a;\n      var start = b ? a : new Pt(a.length).fill(0);\n\n      for (var i = 0, len = p.length; i < len; i++) {\n        p[i] = Math.random() * range[i] + start[i];\n      }\n\n      return p;\n    }\n  }, {\n    key: \"normalizeValue\",\n    value: function normalizeValue(n, a, b) {\n      var min = Math.min(a, b);\n      var max = Math.max(a, b);\n      return (n - min) / (max - min);\n    }\n  }, {\n    key: \"sum\",\n    value: function sum(pts) {\n      var _pts = Util.iterToArray(pts);\n\n      var c = new Pt(_pts[0]);\n\n      for (var i = 1, len = _pts.length; i < len; i++) {\n        Vec.add(c, _pts[i]);\n      }\n\n      return c;\n    }\n  }, {\n    key: \"average\",\n    value: function average(pts) {\n      var _pts = Util.iterToArray(pts);\n\n      return Num.sum(_pts).divide(_pts.length);\n    }\n  }, {\n    key: \"cycle\",\n    value: function cycle(t) {\n      var method = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : Shaping.sineInOut;\n      return method(t > 0.5 ? 2 - t * 2 : t * 2);\n    }\n  }, {\n    key: \"mapToRange\",\n    value: function mapToRange(n, currA, currB, targetA, targetB) {\n      if (currA == currB) throw new Error(\"[currMin, currMax] must define a range that is not zero\");\n      var min = Math.min(targetA, targetB);\n      var max = Math.max(targetA, targetB);\n      return Num.normalizeValue(n, currA, currB) * (max - min) + min;\n    }\n  }]);\n\n  return Num;\n}();\nexport var Geom = /*#__PURE__*/function () {\n  function Geom() {\n    _classCallCheck(this, Geom);\n  }\n\n  _createClass(Geom, null, [{\n    key: \"boundAngle\",\n    value: function boundAngle(angle) {\n      return Num.boundValue(angle, 0, 360);\n    }\n  }, {\n    key: \"boundRadian\",\n    value: function boundRadian(radian) {\n      return Num.boundValue(radian, 0, Const.two_pi);\n    }\n  }, {\n    key: \"toRadian\",\n    value: function toRadian(angle) {\n      return angle * Const.deg_to_rad;\n    }\n  }, {\n    key: \"toDegree\",\n    value: function toDegree(radian) {\n      return radian * Const.rad_to_deg;\n    }\n  }, {\n    key: \"boundingBox\",\n    value: function boundingBox(pts) {\n      var minPt, maxPt;\n\n      var _iterator = _createForOfIteratorHelper(pts),\n          _step;\n\n      try {\n        for (_iterator.s(); !(_step = _iterator.n()).done;) {\n          var p = _step.value;\n\n          if (minPt == undefined) {\n            minPt = p.clone();\n            maxPt = p.clone();\n          } else {\n            minPt = minPt.$min(p);\n            maxPt = maxPt.$max(p);\n          }\n        }\n      } catch (err) {\n        _iterator.e(err);\n      } finally {\n        _iterator.f();\n      }\n\n      return new Group(minPt, maxPt);\n    }\n  }, {\n    key: \"centroid\",\n    value: function centroid(pts) {\n      return Num.average(pts);\n    }\n  }, {\n    key: \"anchor\",\n    value: function anchor(pts) {\n      var ptOrIndex = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n      var direction = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : \"to\";\n      var method = direction == \"to\" ? \"subtract\" : \"add\";\n      var i = 0;\n\n      var _iterator2 = _createForOfIteratorHelper(pts),\n          _step2;\n\n      try {\n        for (_iterator2.s(); !(_step2 = _iterator2.n()).done;) {\n          var p = _step2.value;\n\n          if (typeof ptOrIndex == \"number\") {\n            if (ptOrIndex !== i) p[method](pts[ptOrIndex]);\n          } else {\n            p[method](ptOrIndex);\n          }\n\n          i++;\n        }\n      } catch (err) {\n        _iterator2.e(err);\n      } finally {\n        _iterator2.f();\n      }\n    }\n  }, {\n    key: \"interpolate\",\n    value: function interpolate(a, b) {\n      var t = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 0.5;\n      var len = Math.min(a.length, b.length);\n      var d = Pt.make(len);\n\n      for (var i = 0; i < len; i++) {\n        d[i] = a[i] * (1 - t) + b[i] * t;\n      }\n\n      return d;\n    }\n  }, {\n    key: \"perpendicular\",\n    value: function perpendicular(pt) {\n      var axis = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : Const.xy;\n      var y = axis[1];\n      var x = axis[0];\n      var p = new Pt(pt);\n      var pa = new Pt(p);\n      pa[x] = -p[y];\n      pa[y] = p[x];\n      var pb = new Pt(p);\n      pb[x] = p[y];\n      pb[y] = -p[x];\n      return new Group(pa, pb);\n    }\n  }, {\n    key: \"isPerpendicular\",\n    value: function isPerpendicular(p1, p2) {\n      return new Pt(p1).dot(p2) === 0;\n    }\n  }, {\n    key: \"withinBound\",\n    value: function withinBound(pt, boundPt1, boundPt2) {\n      for (var i = 0, len = Math.min(pt.length, boundPt1.length, boundPt2.length); i < len; i++) {\n        if (!Num.within(pt[i], boundPt1[i], boundPt2[i])) return false;\n      }\n\n      return true;\n    }\n  }, {\n    key: \"sortEdges\",\n    value: function sortEdges(pts) {\n      var _pts = Util.iterToArray(pts);\n\n      var bounds = Geom.boundingBox(_pts);\n      var center = bounds[1].add(bounds[0]).divide(2);\n\n      var fn = function fn(a, b) {\n        if (a.length < 2 || b.length < 2) throw new Error(\"Pt dimension cannot be less than 2\");\n        var da = a.$subtract(center);\n        var db = b.$subtract(center);\n        if (da[0] >= 0 && db[0] < 0) return 1;\n        if (da[0] < 0 && db[0] >= 0) return -1;\n\n        if (da[0] == 0 && db[0] == 0) {\n          if (da[1] >= 0 || db[1] >= 0) return da[1] > db[1] ? 1 : -1;\n          return db[1] > da[1] ? 1 : -1;\n        }\n\n        var det = da.$cross2D(db);\n        if (det < 0) return 1;\n        if (det > 0) return -1;\n        return da[0] * da[0] + da[1] * da[1] > db[0] * db[0] + db[1] * db[1] ? 1 : -1;\n      };\n\n      return _pts.sort(fn);\n    }\n  }, {\n    key: \"scale\",\n    value: function scale(ps, _scale, anchor) {\n      var pts = Util.iterToArray(ps[0] !== undefined && typeof ps[0] == 'number' ? [ps] : ps);\n      var scs = typeof _scale == \"number\" ? Pt.make(pts[0].length, _scale) : _scale;\n      if (!anchor) anchor = Pt.make(pts[0].length, 0);\n\n      for (var i = 0, len = pts.length; i < len; i++) {\n        var p = pts[i];\n\n        for (var k = 0, lenP = p.length; k < lenP; k++) {\n          p[k] = anchor && anchor[k] ? anchor[k] + (p[k] - anchor[k]) * scs[k] : p[k] * scs[k];\n        }\n      }\n\n      return Geom;\n    }\n  }, {\n    key: \"rotate2D\",\n    value: function rotate2D(ps, angle, anchor, axis) {\n      var pts = Util.iterToArray(ps[0] !== undefined && typeof ps[0] == 'number' ? [ps] : ps);\n      var fn = anchor ? Mat.rotateAt2DMatrix : Mat.rotate2DMatrix;\n      if (!anchor) anchor = Pt.make(pts[0].length, 0);\n      var cos = Math.cos(angle);\n      var sin = Math.sin(angle);\n\n      for (var i = 0, len = pts.length; i < len; i++) {\n        var p = axis ? pts[i].$take(axis) : pts[i];\n        p.to(Mat.transform2D(p, fn(cos, sin, anchor)));\n\n        if (axis) {\n          for (var k = 0; k < axis.length; k++) {\n            pts[i][axis[k]] = p[k];\n          }\n        }\n      }\n\n      return Geom;\n    }\n  }, {\n    key: \"shear2D\",\n    value: function shear2D(ps, scale, anchor, axis) {\n      var pts = Util.iterToArray(ps[0] !== undefined && typeof ps[0] == 'number' ? [ps] : ps);\n      var s = typeof scale == \"number\" ? [scale, scale] : scale;\n      if (!anchor) anchor = Pt.make(pts[0].length, 0);\n      var fn = anchor ? Mat.shearAt2DMatrix : Mat.shear2DMatrix;\n      var tanx = Math.tan(s[0]);\n      var tany = Math.tan(s[1]);\n\n      for (var i = 0, len = pts.length; i < len; i++) {\n        var p = axis ? pts[i].$take(axis) : pts[i];\n        p.to(Mat.transform2D(p, fn(tanx, tany, anchor)));\n\n        if (axis) {\n          for (var k = 0; k < axis.length; k++) {\n            pts[i][axis[k]] = p[k];\n          }\n        }\n      }\n\n      return Geom;\n    }\n  }, {\n    key: \"reflect2D\",\n    value: function reflect2D(ps, line, axis) {\n      var pts = Util.iterToArray(ps[0] !== undefined && typeof ps[0] == 'number' ? [ps] : ps);\n\n      var _line = Util.iterToArray(line);\n\n      var mat = Mat.reflectAt2DMatrix(_line[0], _line[1]);\n\n      for (var i = 0, len = pts.length; i < len; i++) {\n        var p = axis ? pts[i].$take(axis) : pts[i];\n        p.to(Mat.transform2D(p, mat));\n\n        if (axis) {\n          for (var k = 0; k < axis.length; k++) {\n            pts[i][axis[k]] = p[k];\n          }\n        }\n      }\n\n      return Geom;\n    }\n  }, {\n    key: \"cosTable\",\n    value: function cosTable() {\n      var cos = new Float64Array(360);\n\n      for (var i = 0; i < 360; i++) {\n        cos[i] = Math.cos(i * Math.PI / 180);\n      }\n\n      var find = function find(rad) {\n        return cos[Math.floor(Geom.boundAngle(Geom.toDegree(rad)))];\n      };\n\n      return {\n        table: cos,\n        cos: find\n      };\n    }\n  }, {\n    key: \"sinTable\",\n    value: function sinTable() {\n      var sin = new Float64Array(360);\n\n      for (var i = 0; i < 360; i++) {\n        sin[i] = Math.sin(i * Math.PI / 180);\n      }\n\n      var find = function find(rad) {\n        return sin[Math.floor(Geom.boundAngle(Geom.toDegree(rad)))];\n      };\n\n      return {\n        table: sin,\n        sin: find\n      };\n    }\n  }]);\n\n  return Geom;\n}();\nexport var Shaping = /*#__PURE__*/function () {\n  function Shaping() {\n    _classCallCheck(this, Shaping);\n  }\n\n  _createClass(Shaping, null, [{\n    key: \"linear\",\n    value: function linear(t) {\n      var c = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 1;\n      return c * t;\n    }\n  }, {\n    key: \"quadraticIn\",\n    value: function quadraticIn(t) {\n      var c = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 1;\n      return c * t * t;\n    }\n  }, {\n    key: \"quadraticOut\",\n    value: function quadraticOut(t) {\n      var c = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 1;\n      return -c * t * (t - 2);\n    }\n  }, {\n    key: \"quadraticInOut\",\n    value: function quadraticInOut(t) {\n      var c = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 1;\n      var dt = t * 2;\n      return t < 0.5 ? c / 2 * t * t * 4 : -c / 2 * ((dt - 1) * (dt - 3) - 1);\n    }\n  }, {\n    key: \"cubicIn\",\n    value: function cubicIn(t) {\n      var c = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 1;\n      return c * t * t * t;\n    }\n  }, {\n    key: \"cubicOut\",\n    value: function cubicOut(t) {\n      var c = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 1;\n      var dt = t - 1;\n      return c * (dt * dt * dt + 1);\n    }\n  }, {\n    key: \"cubicInOut\",\n    value: function cubicInOut(t) {\n      var c = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 1;\n      var dt = t * 2;\n      return t < 0.5 ? c / 2 * dt * dt * dt : c / 2 * ((dt - 2) * (dt - 2) * (dt - 2) + 2);\n    }\n  }, {\n    key: \"exponentialIn\",\n    value: function exponentialIn(t) {\n      var c = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 1;\n      var p = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 0.25;\n      return c * Math.pow(t, 1 / p);\n    }\n  }, {\n    key: \"exponentialOut\",\n    value: function exponentialOut(t) {\n      var c = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 1;\n      var p = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 0.25;\n      return c * Math.pow(t, p);\n    }\n  }, {\n    key: \"sineIn\",\n    value: function sineIn(t) {\n      var c = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 1;\n      return -c * Math.cos(t * Const.half_pi) + c;\n    }\n  }, {\n    key: \"sineOut\",\n    value: function sineOut(t) {\n      var c = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 1;\n      return c * Math.sin(t * Const.half_pi);\n    }\n  }, {\n    key: \"sineInOut\",\n    value: function sineInOut(t) {\n      var c = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 1;\n      return -c / 2 * (Math.cos(Math.PI * t) - 1);\n    }\n  }, {\n    key: \"cosineApprox\",\n    value: function cosineApprox(t) {\n      var c = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 1;\n      var t2 = t * t;\n      var t4 = t2 * t2;\n      var t6 = t4 * t2;\n      return c * (4 * t6 / 9 - 17 * t4 / 9 + 22 * t2 / 9);\n    }\n  }, {\n    key: \"circularIn\",\n    value: function circularIn(t) {\n      var c = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 1;\n      return -c * (Math.sqrt(1 - t * t) - 1);\n    }\n  }, {\n    key: \"circularOut\",\n    value: function circularOut(t) {\n      var c = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 1;\n      var dt = t - 1;\n      return c * Math.sqrt(1 - dt * dt);\n    }\n  }, {\n    key: \"circularInOut\",\n    value: function circularInOut(t) {\n      var c = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 1;\n      var dt = t * 2;\n      return t < 0.5 ? -c / 2 * (Math.sqrt(1 - dt * dt) - 1) : c / 2 * (Math.sqrt(1 - (dt - 2) * (dt - 2)) + 1);\n    }\n  }, {\n    key: \"elasticIn\",\n    value: function elasticIn(t) {\n      var c = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 1;\n      var p = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 0.7;\n      var dt = t - 1;\n      var s = p / Const.two_pi * 1.5707963267948966;\n      return c * (-Math.pow(2, 10 * dt) * Math.sin((dt - s) * Const.two_pi / p));\n    }\n  }, {\n    key: \"elasticOut\",\n    value: function elasticOut(t) {\n      var c = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 1;\n      var p = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 0.7;\n      var s = p / Const.two_pi * 1.5707963267948966;\n      return c * (Math.pow(2, -10 * t) * Math.sin((t - s) * Const.two_pi / p)) + c;\n    }\n  }, {\n    key: \"elasticInOut\",\n    value: function elasticInOut(t) {\n      var c = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 1;\n      var p = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 0.6;\n      var dt = t * 2;\n      var s = p / Const.two_pi * 1.5707963267948966;\n\n      if (t < 0.5) {\n        dt -= 1;\n        return c * (-0.5 * (Math.pow(2, 10 * dt) * Math.sin((dt - s) * Const.two_pi / p)));\n      } else {\n        dt -= 1;\n        return c * (0.5 * (Math.pow(2, -10 * dt) * Math.sin((dt - s) * Const.two_pi / p))) + c;\n      }\n    }\n  }, {\n    key: \"bounceIn\",\n    value: function bounceIn(t) {\n      var c = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 1;\n      return c - Shaping.bounceOut(1 - t, c);\n    }\n  }, {\n    key: \"bounceOut\",\n    value: function bounceOut(t) {\n      var c = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 1;\n\n      if (t < 1 / 2.75) {\n        return c * (7.5625 * t * t);\n      } else if (t < 2 / 2.75) {\n        t -= 1.5 / 2.75;\n        return c * (7.5625 * t * t + 0.75);\n      } else if (t < 2.5 / 2.75) {\n        t -= 2.25 / 2.75;\n        return c * (7.5625 * t * t + 0.9375);\n      } else {\n        t -= 2.625 / 2.75;\n        return c * (7.5625 * t * t + 0.984375);\n      }\n    }\n  }, {\n    key: \"bounceInOut\",\n    value: function bounceInOut(t) {\n      var c = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 1;\n      return t < 0.5 ? Shaping.bounceIn(t * 2, c) / 2 : Shaping.bounceOut(t * 2 - 1, c) / 2 + c / 2;\n    }\n  }, {\n    key: \"sigmoid\",\n    value: function sigmoid(t) {\n      var c = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 1;\n      var p = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 10;\n      var d = p * (t - 0.5);\n      return c / (1 + Math.exp(-d));\n    }\n  }, {\n    key: \"logSigmoid\",\n    value: function logSigmoid(t) {\n      var c = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 1;\n      var p = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 0.7;\n      p = Math.max(Const.epsilon, Math.min(1 - Const.epsilon, p));\n      p = 1 / (1 - p);\n      var A = 1 / (1 + Math.exp((t - 0.5) * p * -2));\n      var B = 1 / (1 + Math.exp(p));\n      var C = 1 / (1 + Math.exp(-p));\n      return c * (A - B) / (C - B);\n    }\n  }, {\n    key: \"seat\",\n    value: function seat(t) {\n      var c = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 1;\n      var p = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 0.5;\n\n      if (t < 0.5) {\n        return c * Math.pow(2 * t, 1 - p) / 2;\n      } else {\n        return c * (1 - Math.pow(2 * (1 - t), 1 - p) / 2);\n      }\n    }\n  }, {\n    key: \"quadraticBezier\",\n    value: function quadraticBezier(t) {\n      var c = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 1;\n      var p = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : [0.05, 0.95];\n      var a = typeof p != \"number\" ? p[0] : p;\n      var b = typeof p != \"number\" ? p[1] : 0.5;\n      var om2a = 1 - 2 * a;\n\n      if (om2a === 0) {\n        om2a = Const.epsilon;\n      }\n\n      var d = (Math.sqrt(a * a + om2a * t) - a) / om2a;\n      return c * ((1 - 2 * b) * (d * d) + 2 * b * d);\n    }\n  }, {\n    key: \"cubicBezier\",\n    value: function cubicBezier(t) {\n      var c = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 1;\n      var p1 = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : [0.1, 0.7];\n      var p2 = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : [0.9, 0.2];\n      var curve = new Group(new Pt(0, 0), new Pt(p1), new Pt(p2), new Pt(1, 1));\n      return c * Curve.bezierStep(new Pt(t * t * t, t * t, t, 1), Curve.controlPoints(curve)).y;\n    }\n  }, {\n    key: \"quadraticTarget\",\n    value: function quadraticTarget(t) {\n      var c = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 1;\n      var p1 = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : [0.2, 0.35];\n      var a = Math.min(1 - Const.epsilon, Math.max(Const.epsilon, p1[0]));\n      var b = Math.min(1, Math.max(0, p1[1]));\n      var A = (1 - b) / (1 - a) - b / a;\n      var B = (A * (a * a) - b) / a;\n      var y = A * (t * t) - B * t;\n      return c * Math.min(1, Math.max(0, y));\n    }\n  }, {\n    key: \"cliff\",\n    value: function cliff(t) {\n      var c = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 1;\n      var p = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 0.5;\n      return t > p ? c : 0;\n    }\n  }, {\n    key: \"step\",\n    value: function step(fn, steps, t, c) {\n      var s = 1 / steps;\n      var tt = Math.floor(t / s) * s;\n\n      for (var _len = arguments.length, args = new Array(_len > 4 ? _len - 4 : 0), _key = 4; _key < _len; _key++) {\n        args[_key - 4] = arguments[_key];\n      }\n\n      return fn.apply(void 0, [tt, c].concat(args));\n    }\n  }]);\n\n  return Shaping;\n}();\nexport var Range = /*#__PURE__*/function () {\n  function Range(g) {\n    _classCallCheck(this, Range);\n\n    this._dims = 0;\n    this._source = Group.fromPtArray(g);\n    this.calc();\n  }\n\n  _createClass(Range, [{\n    key: \"max\",\n    get: function get() {\n      return this._max.clone();\n    }\n  }, {\n    key: \"min\",\n    get: function get() {\n      return this._min.clone();\n    }\n  }, {\n    key: \"magnitude\",\n    get: function get() {\n      return this._mag.clone();\n    }\n  }, {\n    key: \"calc\",\n    value: function calc() {\n      if (!this._source) return;\n      var dims = this._source[0].length;\n      this._dims = dims;\n      var max = new Pt(dims);\n      var min = new Pt(dims);\n      var mag = new Pt(dims);\n\n      for (var i = 0; i < dims; i++) {\n        max[i] = Const.min;\n        min[i] = Const.max;\n        mag[i] = 0;\n\n        var s = this._source.zipSlice(i);\n\n        for (var k = 0, len = s.length; k < len; k++) {\n          max[i] = Math.max(max[i], s[k]);\n          min[i] = Math.min(min[i], s[k]);\n          mag[i] = max[i] - min[i];\n        }\n      }\n\n      this._max = max;\n      this._min = min;\n      this._mag = mag;\n      return this;\n    }\n  }, {\n    key: \"mapTo\",\n    value: function mapTo(min, max, exclude) {\n      var target = new Group();\n\n      for (var i = 0, len = this._source.length; i < len; i++) {\n        var g = this._source[i];\n        var n = new Pt(this._dims);\n\n        for (var k = 0; k < this._dims; k++) {\n          n[k] = exclude && exclude[k] ? g[k] : Num.mapToRange(g[k], this._min[k], this._max[k], min, max);\n        }\n\n        target.push(n);\n      }\n\n      return target;\n    }\n  }, {\n    key: \"append\",\n    value: function append(pts) {\n      var update = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : true;\n\n      var _pts = Util.iterToArray(pts);\n\n      if (_pts[0].length !== this._dims) throw new Error(\"Dimensions don't match. \".concat(this._dims, \" dimensions in Range and \").concat(_pts[0].length, \" provided in parameter. \"));\n      this._source = this._source.concat(_pts);\n      if (update) this.calc();\n      return this;\n    }\n  }, {\n    key: \"ticks\",\n    value: function ticks(count) {\n      var g = new Group();\n\n      for (var i = 0; i <= count; i++) {\n        var p = new Pt(this._dims);\n\n        for (var k = 0, len = this._max.length; k < len; k++) {\n          p[k] = Num.lerp(this._min[k], this._max[k], i / count);\n        }\n\n        g.push(p);\n      }\n\n      return g;\n    }\n  }]);\n\n  return Range;\n}();","import \"core-js/modules/es.array.reduce.js\";\nimport _toConsumableArray from \"/Users/usarneme/Projects/gatsby-portfolio/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";\nimport _classCallCheck from \"/Users/usarneme/Projects/gatsby-portfolio/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/usarneme/Projects/gatsby-portfolio/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _inherits from \"/Users/usarneme/Projects/gatsby-portfolio/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _possibleConstructorReturn from \"/Users/usarneme/Projects/gatsby-portfolio/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/usarneme/Projects/gatsby-portfolio/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _wrapNativeSuper from \"/Users/usarneme/Projects/gatsby-portfolio/node_modules/@babel/runtime/helpers/esm/wrapNativeSuper\";\n\nfunction _createForOfIteratorHelper(o, allowArrayLike) { var it; if (typeof Symbol === \"undefined\" || o[Symbol.iterator] == null) { if (Array.isArray(o) || (it = _unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === \"number\") { if (it) o = it; var i = 0; var F = function F() {}; return { s: F, n: function n() { if (i >= o.length) return { done: true }; return { done: false, value: o[i++] }; }, e: function e(_e) { throw _e; }, f: F }; } throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); } var normalCompletion = true, didErr = false, err; return { s: function s() { it = o[Symbol.iterator](); }, n: function n() { var step = it.next(); normalCompletion = step.done; return step; }, e: function e(_e2) { didErr = true; err = _e2; }, f: function f() { try { if (!normalCompletion && it.return != null) it.return(); } finally { if (didErr) throw err; } } }; }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\n/*! Source code licensed under Apache License 2.0. Copyright © 2017-current William Ngan and contributors. (https://github.com/williamngan/pts) */\nimport { Util, Const } from \"./Util\";\nimport { Geom, Num } from \"./Num\";\nimport { Vec, Mat } from \"./LinearAlgebra\";\nexport var Pt = /*#__PURE__*/function (_Float32Array) {\n  _inherits(Pt, _Float32Array);\n\n  var _super = _createSuper(Pt);\n\n  function Pt() {\n    var _this;\n\n    _classCallCheck(this, Pt);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    if (args.length === 1 && typeof args[0] == \"number\") {\n      _this = _super.call(this, args[0]);\n    } else {\n      _this = _super.call(this, args.length > 0 ? Util.getArgs(args) : [0, 0]);\n    }\n\n    return _possibleConstructorReturn(_this);\n  }\n\n  _createClass(Pt, [{\n    key: \"id\",\n    get: function get() {\n      return this._id;\n    },\n    set: function set(s) {\n      this._id = s;\n    }\n  }, {\n    key: \"x\",\n    get: function get() {\n      return this[0];\n    },\n    set: function set(n) {\n      this[0] = n;\n    }\n  }, {\n    key: \"y\",\n    get: function get() {\n      return this[1];\n    },\n    set: function set(n) {\n      this[1] = n;\n    }\n  }, {\n    key: \"z\",\n    get: function get() {\n      return this[2];\n    },\n    set: function set(n) {\n      this[2] = n;\n    }\n  }, {\n    key: \"w\",\n    get: function get() {\n      return this[3];\n    },\n    set: function set(n) {\n      this[3] = n;\n    }\n  }, {\n    key: \"clone\",\n    value: function clone() {\n      return new Pt(this);\n    }\n  }, {\n    key: \"equals\",\n    value: function equals(p) {\n      var threshold = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0.000001;\n\n      for (var i = 0, len = this.length; i < len; i++) {\n        if (Math.abs(this[i] - p[i]) > threshold) return false;\n      }\n\n      return true;\n    }\n  }, {\n    key: \"to\",\n    value: function to() {\n      for (var _len2 = arguments.length, args = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n        args[_key2] = arguments[_key2];\n      }\n\n      var p = Util.getArgs(args);\n\n      for (var i = 0, len = Math.min(this.length, p.length); i < len; i++) {\n        this[i] = p[i];\n      }\n\n      return this;\n    }\n  }, {\n    key: \"$to\",\n    value: function $to() {\n      var _this$clone;\n\n      return (_this$clone = this.clone()).to.apply(_this$clone, arguments);\n    }\n  }, {\n    key: \"toAngle\",\n    value: function toAngle(radian, magnitude) {\n      var anchorFromPt = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;\n      var m = magnitude != undefined ? magnitude : this.magnitude();\n      var change = [Math.cos(radian) * m, Math.sin(radian) * m];\n      return anchorFromPt ? this.add(change) : this.to(change);\n    }\n  }, {\n    key: \"op\",\n    value: function op(fn) {\n      var self = this;\n      return function () {\n        for (var _len3 = arguments.length, params = new Array(_len3), _key3 = 0; _key3 < _len3; _key3++) {\n          params[_key3] = arguments[_key3];\n        }\n\n        return fn.apply(void 0, [self].concat(params));\n      };\n    }\n  }, {\n    key: \"ops\",\n    value: function ops(fns) {\n      var _ops = [];\n\n      for (var i = 0, len = fns.length; i < len; i++) {\n        _ops.push(this.op(fns[i]));\n      }\n\n      return _ops;\n    }\n  }, {\n    key: \"$take\",\n    value: function $take(axis) {\n      var p = [];\n\n      for (var i = 0, len = axis.length; i < len; i++) {\n        p.push(this[axis[i]] || 0);\n      }\n\n      return new Pt(p);\n    }\n  }, {\n    key: \"$concat\",\n    value: function $concat() {\n      for (var _len4 = arguments.length, args = new Array(_len4), _key4 = 0; _key4 < _len4; _key4++) {\n        args[_key4] = arguments[_key4];\n      }\n\n      return new Pt(this.toArray().concat(Util.getArgs(args)));\n    }\n  }, {\n    key: \"add\",\n    value: function add() {\n      for (var _len5 = arguments.length, args = new Array(_len5), _key5 = 0; _key5 < _len5; _key5++) {\n        args[_key5] = arguments[_key5];\n      }\n\n      args.length === 1 && typeof args[0] == \"number\" ? Vec.add(this, args[0]) : Vec.add(this, Util.getArgs(args));\n      return this;\n    }\n  }, {\n    key: \"$add\",\n    value: function $add() {\n      var _this$clone2;\n\n      return (_this$clone2 = this.clone()).add.apply(_this$clone2, arguments);\n    }\n  }, {\n    key: \"subtract\",\n    value: function subtract() {\n      for (var _len6 = arguments.length, args = new Array(_len6), _key6 = 0; _key6 < _len6; _key6++) {\n        args[_key6] = arguments[_key6];\n      }\n\n      args.length === 1 && typeof args[0] == \"number\" ? Vec.subtract(this, args[0]) : Vec.subtract(this, Util.getArgs(args));\n      return this;\n    }\n  }, {\n    key: \"$subtract\",\n    value: function $subtract() {\n      var _this$clone3;\n\n      return (_this$clone3 = this.clone()).subtract.apply(_this$clone3, arguments);\n    }\n  }, {\n    key: \"multiply\",\n    value: function multiply() {\n      for (var _len7 = arguments.length, args = new Array(_len7), _key7 = 0; _key7 < _len7; _key7++) {\n        args[_key7] = arguments[_key7];\n      }\n\n      args.length === 1 && typeof args[0] == \"number\" ? Vec.multiply(this, args[0]) : Vec.multiply(this, Util.getArgs(args));\n      return this;\n    }\n  }, {\n    key: \"$multiply\",\n    value: function $multiply() {\n      var _this$clone4;\n\n      return (_this$clone4 = this.clone()).multiply.apply(_this$clone4, arguments);\n    }\n  }, {\n    key: \"divide\",\n    value: function divide() {\n      for (var _len8 = arguments.length, args = new Array(_len8), _key8 = 0; _key8 < _len8; _key8++) {\n        args[_key8] = arguments[_key8];\n      }\n\n      args.length === 1 && typeof args[0] == \"number\" ? Vec.divide(this, args[0]) : Vec.divide(this, Util.getArgs(args));\n      return this;\n    }\n  }, {\n    key: \"$divide\",\n    value: function $divide() {\n      var _this$clone5;\n\n      return (_this$clone5 = this.clone()).divide.apply(_this$clone5, arguments);\n    }\n  }, {\n    key: \"magnitudeSq\",\n    value: function magnitudeSq() {\n      return Vec.dot(this, this);\n    }\n  }, {\n    key: \"magnitude\",\n    value: function magnitude() {\n      return Vec.magnitude(this);\n    }\n  }, {\n    key: \"unit\",\n    value: function unit() {\n      var magnitude = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : undefined;\n      Vec.unit(this, magnitude);\n      return this;\n    }\n  }, {\n    key: \"$unit\",\n    value: function $unit() {\n      var magnitude = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : undefined;\n      return this.clone().unit(magnitude);\n    }\n  }, {\n    key: \"dot\",\n    value: function dot() {\n      for (var _len9 = arguments.length, args = new Array(_len9), _key9 = 0; _key9 < _len9; _key9++) {\n        args[_key9] = arguments[_key9];\n      }\n\n      return Vec.dot(this, Util.getArgs(args));\n    }\n  }, {\n    key: \"$cross2D\",\n    value: function $cross2D() {\n      for (var _len10 = arguments.length, args = new Array(_len10), _key10 = 0; _key10 < _len10; _key10++) {\n        args[_key10] = arguments[_key10];\n      }\n\n      return Vec.cross2D(this, Util.getArgs(args));\n    }\n  }, {\n    key: \"$cross\",\n    value: function $cross() {\n      for (var _len11 = arguments.length, args = new Array(_len11), _key11 = 0; _key11 < _len11; _key11++) {\n        args[_key11] = arguments[_key11];\n      }\n\n      return Vec.cross(this, Util.getArgs(args));\n    }\n  }, {\n    key: \"$project\",\n    value: function $project() {\n      return this.$multiply(this.dot.apply(this, arguments) / this.magnitudeSq());\n    }\n  }, {\n    key: \"projectScalar\",\n    value: function projectScalar() {\n      return this.dot.apply(this, arguments) / this.magnitude();\n    }\n  }, {\n    key: \"abs\",\n    value: function abs() {\n      Vec.abs(this);\n      return this;\n    }\n  }, {\n    key: \"$abs\",\n    value: function $abs() {\n      return this.clone().abs();\n    }\n  }, {\n    key: \"floor\",\n    value: function floor() {\n      Vec.floor(this);\n      return this;\n    }\n  }, {\n    key: \"$floor\",\n    value: function $floor() {\n      return this.clone().floor();\n    }\n  }, {\n    key: \"ceil\",\n    value: function ceil() {\n      Vec.ceil(this);\n      return this;\n    }\n  }, {\n    key: \"$ceil\",\n    value: function $ceil() {\n      return this.clone().ceil();\n    }\n  }, {\n    key: \"round\",\n    value: function round() {\n      Vec.round(this);\n      return this;\n    }\n  }, {\n    key: \"$round\",\n    value: function $round() {\n      return this.clone().round();\n    }\n  }, {\n    key: \"minValue\",\n    value: function minValue() {\n      return Vec.min(this);\n    }\n  }, {\n    key: \"maxValue\",\n    value: function maxValue() {\n      return Vec.max(this);\n    }\n  }, {\n    key: \"$min\",\n    value: function $min() {\n      for (var _len12 = arguments.length, args = new Array(_len12), _key12 = 0; _key12 < _len12; _key12++) {\n        args[_key12] = arguments[_key12];\n      }\n\n      var p = Util.getArgs(args);\n      var m = this.clone();\n\n      for (var i = 0, len = Math.min(this.length, p.length); i < len; i++) {\n        m[i] = Math.min(this[i], p[i]);\n      }\n\n      return m;\n    }\n  }, {\n    key: \"$max\",\n    value: function $max() {\n      for (var _len13 = arguments.length, args = new Array(_len13), _key13 = 0; _key13 < _len13; _key13++) {\n        args[_key13] = arguments[_key13];\n      }\n\n      var p = Util.getArgs(args);\n      var m = this.clone();\n\n      for (var i = 0, len = Math.min(this.length, p.length); i < len; i++) {\n        m[i] = Math.max(this[i], p[i]);\n      }\n\n      return m;\n    }\n  }, {\n    key: \"angle\",\n    value: function angle() {\n      var axis = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : Const.xy;\n      return Math.atan2(this[axis[1]], this[axis[0]]);\n    }\n  }, {\n    key: \"angleBetween\",\n    value: function angleBetween(p) {\n      var axis = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : Const.xy;\n      return Geom.boundRadian(this.angle(axis)) - Geom.boundRadian(p.angle(axis));\n    }\n  }, {\n    key: \"scale\",\n    value: function scale(_scale, anchor) {\n      Geom.scale(this, _scale, anchor || Pt.make(this.length, 0));\n      return this;\n    }\n  }, {\n    key: \"rotate2D\",\n    value: function rotate2D(angle, anchor, axis) {\n      Geom.rotate2D(this, angle, anchor || Pt.make(this.length, 0), axis);\n      return this;\n    }\n  }, {\n    key: \"shear2D\",\n    value: function shear2D(scale, anchor, axis) {\n      Geom.shear2D(this, scale, anchor || Pt.make(this.length, 0), axis);\n      return this;\n    }\n  }, {\n    key: \"reflect2D\",\n    value: function reflect2D(line, axis) {\n      Geom.reflect2D(this, line, axis);\n      return this;\n    }\n  }, {\n    key: \"toString\",\n    value: function toString() {\n      return \"Pt(\".concat(this.join(\", \"), \")\");\n    }\n  }, {\n    key: \"toArray\",\n    value: function toArray() {\n      return [].slice.call(this);\n    }\n  }, {\n    key: \"toGroup\",\n    value: function toGroup() {\n      return new Group(Pt.make(this.length), this.clone());\n    }\n  }, {\n    key: \"toBound\",\n    value: function toBound() {\n      return new Bound(Pt.make(this.length), this.clone());\n    }\n  }], [{\n    key: \"make\",\n    value: function make(dimensions) {\n      var defaultValue = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n      var randomize = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;\n      var p = new Float32Array(dimensions);\n      if (defaultValue) p.fill(defaultValue);\n\n      if (randomize) {\n        for (var i = 0, len = p.length; i < len; i++) {\n          p[i] = p[i] * Math.random();\n        }\n      }\n\n      return new Pt(p);\n    }\n  }]);\n\n  return Pt;\n}( /*#__PURE__*/_wrapNativeSuper(Float32Array));\nexport var Group = /*#__PURE__*/function (_Array) {\n  _inherits(Group, _Array);\n\n  var _super2 = _createSuper(Group);\n\n  function Group() {\n    _classCallCheck(this, Group);\n\n    for (var _len14 = arguments.length, args = new Array(_len14), _key14 = 0; _key14 < _len14; _key14++) {\n      args[_key14] = arguments[_key14];\n    }\n\n    return _super2.call.apply(_super2, [this].concat(args));\n  }\n\n  _createClass(Group, [{\n    key: \"id\",\n    get: function get() {\n      return this._id;\n    },\n    set: function set(s) {\n      this._id = s;\n    }\n  }, {\n    key: \"p1\",\n    get: function get() {\n      return this[0];\n    }\n  }, {\n    key: \"p2\",\n    get: function get() {\n      return this[1];\n    }\n  }, {\n    key: \"p3\",\n    get: function get() {\n      return this[2];\n    }\n  }, {\n    key: \"p4\",\n    get: function get() {\n      return this[3];\n    }\n  }, {\n    key: \"q1\",\n    get: function get() {\n      return this[this.length - 1];\n    }\n  }, {\n    key: \"q2\",\n    get: function get() {\n      return this[this.length - 2];\n    }\n  }, {\n    key: \"q3\",\n    get: function get() {\n      return this[this.length - 3];\n    }\n  }, {\n    key: \"q4\",\n    get: function get() {\n      return this[this.length - 4];\n    }\n  }, {\n    key: \"clone\",\n    value: function clone() {\n      var group = new Group();\n\n      for (var i = 0, len = this.length; i < len; i++) {\n        group.push(this[i].clone());\n      }\n\n      return group;\n    }\n  }, {\n    key: \"split\",\n    value: function split(chunkSize, stride) {\n      var loopBack = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;\n      var sp = Util.split(this, chunkSize, stride, loopBack);\n      return sp;\n    }\n  }, {\n    key: \"insert\",\n    value: function insert(pts) {\n      var index = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n      Group.prototype.splice.apply(this, [index, 0].concat(_toConsumableArray(pts)));\n      return this;\n    }\n  }, {\n    key: \"remove\",\n    value: function remove() {\n      var index = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;\n      var count = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 1;\n      var param = index < 0 ? [index * -1 - 1, count] : [index, count];\n      return Group.prototype.splice.apply(this, param);\n    }\n  }, {\n    key: \"segments\",\n    value: function segments() {\n      var pts_per_segment = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 2;\n      var stride = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 1;\n      var loopBack = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;\n      return this.split(pts_per_segment, stride, loopBack);\n    }\n  }, {\n    key: \"lines\",\n    value: function lines() {\n      return this.segments(2, 1);\n    }\n  }, {\n    key: \"centroid\",\n    value: function centroid() {\n      return Geom.centroid(this);\n    }\n  }, {\n    key: \"boundingBox\",\n    value: function boundingBox() {\n      return Geom.boundingBox(this);\n    }\n  }, {\n    key: \"anchorTo\",\n    value: function anchorTo() {\n      var ptOrIndex = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;\n      Geom.anchor(this, ptOrIndex, \"to\");\n    }\n  }, {\n    key: \"anchorFrom\",\n    value: function anchorFrom() {\n      var ptOrIndex = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;\n      Geom.anchor(this, ptOrIndex, \"from\");\n    }\n  }, {\n    key: \"op\",\n    value: function op(fn) {\n      var self = this;\n      return function () {\n        for (var _len15 = arguments.length, params = new Array(_len15), _key15 = 0; _key15 < _len15; _key15++) {\n          params[_key15] = arguments[_key15];\n        }\n\n        return fn.apply(void 0, [self].concat(params));\n      };\n    }\n  }, {\n    key: \"ops\",\n    value: function ops(fns) {\n      var _ops = [];\n\n      for (var i = 0, len = fns.length; i < len; i++) {\n        _ops.push(this.op(fns[i]));\n      }\n\n      return _ops;\n    }\n  }, {\n    key: \"interpolate\",\n    value: function interpolate(t) {\n      t = Num.clamp(t, 0, 1);\n      var chunk = this.length - 1;\n      var tc = 1 / (this.length - 1);\n      var idx = Math.floor(t / tc);\n      return Geom.interpolate(this[idx], this[Math.min(this.length - 1, idx + 1)], (t - idx * tc) * chunk);\n    }\n  }, {\n    key: \"moveBy\",\n    value: function moveBy() {\n      return this.add.apply(this, arguments);\n    }\n  }, {\n    key: \"moveTo\",\n    value: function moveTo() {\n      for (var _len16 = arguments.length, args = new Array(_len16), _key16 = 0; _key16 < _len16; _key16++) {\n        args[_key16] = arguments[_key16];\n      }\n\n      var d = new Pt(Util.getArgs(args)).subtract(this[0]);\n      this.moveBy(d);\n      return this;\n    }\n  }, {\n    key: \"scale\",\n    value: function scale(_scale2, anchor) {\n      for (var i = 0, len = this.length; i < len; i++) {\n        Geom.scale(this[i], _scale2, anchor || this[0]);\n      }\n\n      return this;\n    }\n  }, {\n    key: \"rotate2D\",\n    value: function rotate2D(angle, anchor, axis) {\n      for (var i = 0, len = this.length; i < len; i++) {\n        Geom.rotate2D(this[i], angle, anchor || this[0], axis);\n      }\n\n      return this;\n    }\n  }, {\n    key: \"shear2D\",\n    value: function shear2D(scale, anchor, axis) {\n      for (var i = 0, len = this.length; i < len; i++) {\n        Geom.shear2D(this[i], scale, anchor || this[0], axis);\n      }\n\n      return this;\n    }\n  }, {\n    key: \"reflect2D\",\n    value: function reflect2D(line, axis) {\n      for (var i = 0, len = this.length; i < len; i++) {\n        Geom.reflect2D(this[i], line, axis);\n      }\n\n      return this;\n    }\n  }, {\n    key: \"sortByDimension\",\n    value: function sortByDimension(dim) {\n      var desc = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n      return this.sort(function (a, b) {\n        return desc ? b[dim] - a[dim] : a[dim] - b[dim];\n      });\n    }\n  }, {\n    key: \"forEachPt\",\n    value: function forEachPt(ptFn) {\n      if (!this[0][ptFn]) {\n        Util.warn(\"\".concat(ptFn, \" is not a function of Pt\"));\n        return this;\n      }\n\n      for (var _len17 = arguments.length, args = new Array(_len17 > 1 ? _len17 - 1 : 0), _key17 = 1; _key17 < _len17; _key17++) {\n        args[_key17 - 1] = arguments[_key17];\n      }\n\n      for (var i = 0, len = this.length; i < len; i++) {\n        var _this$i;\n\n        this[i] = (_this$i = this[i])[ptFn].apply(_this$i, args);\n      }\n\n      return this;\n    }\n  }, {\n    key: \"add\",\n    value: function add() {\n      for (var _len18 = arguments.length, args = new Array(_len18), _key18 = 0; _key18 < _len18; _key18++) {\n        args[_key18] = arguments[_key18];\n      }\n\n      return this.forEachPt.apply(this, [\"add\"].concat(args));\n    }\n  }, {\n    key: \"subtract\",\n    value: function subtract() {\n      for (var _len19 = arguments.length, args = new Array(_len19), _key19 = 0; _key19 < _len19; _key19++) {\n        args[_key19] = arguments[_key19];\n      }\n\n      return this.forEachPt.apply(this, [\"subtract\"].concat(args));\n    }\n  }, {\n    key: \"multiply\",\n    value: function multiply() {\n      for (var _len20 = arguments.length, args = new Array(_len20), _key20 = 0; _key20 < _len20; _key20++) {\n        args[_key20] = arguments[_key20];\n      }\n\n      return this.forEachPt.apply(this, [\"multiply\"].concat(args));\n    }\n  }, {\n    key: \"divide\",\n    value: function divide() {\n      for (var _len21 = arguments.length, args = new Array(_len21), _key21 = 0; _key21 < _len21; _key21++) {\n        args[_key21] = arguments[_key21];\n      }\n\n      return this.forEachPt.apply(this, [\"divide\"].concat(args));\n    }\n  }, {\n    key: \"$matrixAdd\",\n    value: function $matrixAdd(g) {\n      return Mat.add(this, g);\n    }\n  }, {\n    key: \"$matrixMultiply\",\n    value: function $matrixMultiply(g) {\n      var transposed = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n      var elementwise = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;\n      return Mat.multiply(this, g, transposed, elementwise);\n    }\n  }, {\n    key: \"zipSlice\",\n    value: function zipSlice(index) {\n      var defaultValue = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n      return Mat.zipSlice(this, index, defaultValue);\n    }\n  }, {\n    key: \"$zip\",\n    value: function $zip() {\n      var defaultValue = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : undefined;\n      var useLongest = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n      return Mat.zip(this, defaultValue, useLongest);\n    }\n  }, {\n    key: \"toString\",\n    value: function toString() {\n      return \"Group[ \" + this.reduce(function (p, c) {\n        return p + c.toString() + \" \";\n      }, \"\") + \" ]\";\n    }\n  }], [{\n    key: \"fromArray\",\n    value: function fromArray(list) {\n      var g = new Group();\n\n      var _iterator = _createForOfIteratorHelper(list),\n          _step;\n\n      try {\n        for (_iterator.s(); !(_step = _iterator.n()).done;) {\n          var li = _step.value;\n          var p = li instanceof Pt ? li : new Pt(li);\n          g.push(p);\n        }\n      } catch (err) {\n        _iterator.e(err);\n      } finally {\n        _iterator.f();\n      }\n\n      return g;\n    }\n  }, {\n    key: \"fromPtArray\",\n    value: function fromPtArray(list) {\n      return Group.from(list);\n    }\n  }]);\n\n  return Group;\n}( /*#__PURE__*/_wrapNativeSuper(Array));\nexport var Bound = /*#__PURE__*/function (_Group) {\n  _inherits(Bound, _Group);\n\n  var _super3 = _createSuper(Bound);\n\n  function Bound() {\n    var _this2;\n\n    _classCallCheck(this, Bound);\n\n    for (var _len22 = arguments.length, args = new Array(_len22), _key22 = 0; _key22 < _len22; _key22++) {\n      args[_key22] = arguments[_key22];\n    }\n\n    _this2 = _super3.call.apply(_super3, [this].concat(args));\n    _this2._center = new Pt();\n    _this2._size = new Pt();\n    _this2._topLeft = new Pt();\n    _this2._bottomRight = new Pt();\n    _this2._inited = false;\n\n    _this2.init();\n\n    return _this2;\n  }\n\n  _createClass(Bound, [{\n    key: \"init\",\n    value: function init() {\n      if (this.p1) {\n        this._size = this.p1.clone();\n        this._inited = true;\n      }\n\n      if (this.p1 && this.p2) {\n        var a = this.p1;\n        var b = this.p2;\n        this.topLeft = a.$min(b);\n        this._bottomRight = a.$max(b);\n\n        this._updateSize();\n\n        this._inited = true;\n      }\n    }\n  }, {\n    key: \"clone\",\n    value: function clone() {\n      return new Bound(this._topLeft.clone(), this._bottomRight.clone());\n    }\n  }, {\n    key: \"_updateSize\",\n    value: function _updateSize() {\n      this._size = this._bottomRight.$subtract(this._topLeft).abs();\n\n      this._updateCenter();\n    }\n  }, {\n    key: \"_updateCenter\",\n    value: function _updateCenter() {\n      this._center = this._size.$multiply(0.5).add(this._topLeft);\n    }\n  }, {\n    key: \"_updatePosFromTop\",\n    value: function _updatePosFromTop() {\n      this._bottomRight = this._topLeft.$add(this._size);\n\n      this._updateCenter();\n    }\n  }, {\n    key: \"_updatePosFromBottom\",\n    value: function _updatePosFromBottom() {\n      this._topLeft = this._bottomRight.$subtract(this._size);\n\n      this._updateCenter();\n    }\n  }, {\n    key: \"_updatePosFromCenter\",\n    value: function _updatePosFromCenter() {\n      var half = this._size.$multiply(0.5);\n\n      this._topLeft = this._center.$subtract(half);\n      this._bottomRight = this._center.$add(half);\n    }\n  }, {\n    key: \"size\",\n    get: function get() {\n      return new Pt(this._size);\n    },\n    set: function set(p) {\n      this._size = new Pt(p);\n\n      this._updatePosFromTop();\n    }\n  }, {\n    key: \"center\",\n    get: function get() {\n      return new Pt(this._center);\n    },\n    set: function set(p) {\n      this._center = new Pt(p);\n\n      this._updatePosFromCenter();\n    }\n  }, {\n    key: \"topLeft\",\n    get: function get() {\n      return new Pt(this._topLeft);\n    },\n    set: function set(p) {\n      this._topLeft = new Pt(p);\n      this[0] = this._topLeft;\n\n      this._updateSize();\n    }\n  }, {\n    key: \"bottomRight\",\n    get: function get() {\n      return new Pt(this._bottomRight);\n    },\n    set: function set(p) {\n      this._bottomRight = new Pt(p);\n      this[1] = this._bottomRight;\n\n      this._updateSize();\n    }\n  }, {\n    key: \"width\",\n    get: function get() {\n      return this._size.length > 0 ? this._size.x : 0;\n    },\n    set: function set(w) {\n      this._size.x = w;\n\n      this._updatePosFromTop();\n    }\n  }, {\n    key: \"height\",\n    get: function get() {\n      return this._size.length > 1 ? this._size.y : 0;\n    },\n    set: function set(h) {\n      this._size.y = h;\n\n      this._updatePosFromTop();\n    }\n  }, {\n    key: \"depth\",\n    get: function get() {\n      return this._size.length > 2 ? this._size.z : 0;\n    },\n    set: function set(d) {\n      this._size.z = d;\n\n      this._updatePosFromTop();\n    }\n  }, {\n    key: \"x\",\n    get: function get() {\n      return this.topLeft.x;\n    }\n  }, {\n    key: \"y\",\n    get: function get() {\n      return this.topLeft.y;\n    }\n  }, {\n    key: \"z\",\n    get: function get() {\n      return this.topLeft.z;\n    }\n  }, {\n    key: \"inited\",\n    get: function get() {\n      return this._inited;\n    }\n  }, {\n    key: \"update\",\n    value: function update() {\n      this._topLeft = this[0];\n      this._bottomRight = this[1];\n\n      this._updateSize();\n\n      return this;\n    }\n  }], [{\n    key: \"fromBoundingRect\",\n    value: function fromBoundingRect(rect) {\n      var b = new Bound(new Pt(rect.left || 0, rect.top || 0), new Pt(rect.right || 0, rect.bottom || 0));\n      if (rect.width && rect.height) b.size = new Pt(rect.width, rect.height);\n      return b;\n    }\n  }, {\n    key: \"fromGroup\",\n    value: function fromGroup(g) {\n      var _g = Util.iterToArray(g);\n\n      if (_g.length < 2) throw new Error(\"Cannot create a Bound from a group that has less than 2 Pt\");\n      return new Bound(_g[0], _g[_g.length - 1]);\n    }\n  }]);\n\n  return Bound;\n}(Group);","import _assertThisInitialized from \"/Users/usarneme/Projects/gatsby-portfolio/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";\nimport _inherits from \"/Users/usarneme/Projects/gatsby-portfolio/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _possibleConstructorReturn from \"/Users/usarneme/Projects/gatsby-portfolio/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/usarneme/Projects/gatsby-portfolio/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _toConsumableArray from \"/Users/usarneme/Projects/gatsby-portfolio/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";\nimport _classCallCheck from \"/Users/usarneme/Projects/gatsby-portfolio/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/usarneme/Projects/gatsby-portfolio/node_modules/@babel/runtime/helpers/esm/createClass\";\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\n/*! Source code licensed under Apache License 2.0. Copyright © 2017-current William Ngan and contributors. (https://github.com/williamngan/pts) */\nimport { Pt, Group } from \"./Pt\";\nimport { Rectangle, Circle, Polygon } from \"./Op\";\nexport var UIShape = {\n  rectangle: \"rectangle\",\n  circle: \"circle\",\n  polygon: \"polygon\",\n  polyline: \"polyline\",\n  line: \"line\"\n};\nexport var UIPointerActions = {\n  up: \"up\",\n  down: \"down\",\n  move: \"move\",\n  drag: \"drag\",\n  uidrag: \"uidrag\",\n  drop: \"drop\",\n  uidrop: \"uidrop\",\n  over: \"over\",\n  out: \"out\",\n  enter: \"enter\",\n  leave: \"leave\",\n  contextmenu: \"contextmenu\",\n  all: \"all\"\n};\nexport var UI = /*#__PURE__*/function () {\n  function UI(group, shape) {\n    var states = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n    var id = arguments.length > 3 ? arguments[3] : undefined;\n\n    _classCallCheck(this, UI);\n\n    this._holds = new Map();\n    this._group = Group.fromArray(group);\n    this._shape = shape;\n    this._id = id === undefined ? \"ui_\".concat(UI._counter++) : id;\n    this._states = states;\n    this._actions = {};\n  }\n\n  _createClass(UI, [{\n    key: \"id\",\n    get: function get() {\n      return this._id;\n    },\n    set: function set(d) {\n      this._id = d;\n    }\n  }, {\n    key: \"group\",\n    get: function get() {\n      return this._group;\n    },\n    set: function set(d) {\n      this._group = d;\n    }\n  }, {\n    key: \"shape\",\n    get: function get() {\n      return this._shape;\n    },\n    set: function set(d) {\n      this._shape = d;\n    }\n  }, {\n    key: \"state\",\n    value: function state(key, value) {\n      if (!key) return null;\n\n      if (value !== undefined) {\n        this._states[key] = value;\n        return this;\n      }\n\n      return this._states[key];\n    }\n  }, {\n    key: \"on\",\n    value: function on(type, fn) {\n      if (!this._actions[type]) this._actions[type] = [];\n      return UI._addHandler(this._actions[type], fn);\n    }\n  }, {\n    key: \"off\",\n    value: function off(type, which) {\n      if (!this._actions[type]) return false;\n\n      if (which === undefined) {\n        delete this._actions[type];\n        return true;\n      } else {\n        return UI._removeHandler(this._actions[type], which);\n      }\n    }\n  }, {\n    key: \"listen\",\n    value: function listen(type, p, evt) {\n      if (this._actions[type] !== undefined) {\n        if (this._within(p) || Array.from(this._holds.values()).indexOf(type) >= 0) {\n          UI._trigger(this._actions[type], this, p, type, evt);\n\n          return true;\n        } else if (this._actions['all']) {\n          UI._trigger(this._actions['all'], this, p, type, evt);\n\n          return true;\n        }\n      }\n\n      return false;\n    }\n  }, {\n    key: \"hold\",\n    value: function hold(type) {\n      var newKey = Math.max.apply(Math, [0].concat(_toConsumableArray(Array.from(this._holds.keys())))) + 1;\n\n      this._holds.set(newKey, type);\n\n      return newKey;\n    }\n  }, {\n    key: \"unhold\",\n    value: function unhold(key) {\n      if (key !== undefined) {\n        this._holds.delete(key);\n      } else {\n        this._holds.clear();\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render(fn) {\n      fn(this._group, this._states);\n    }\n  }, {\n    key: \"toString\",\n    value: function toString() {\n      return \"UI \".concat(this.group.toString);\n    }\n  }, {\n    key: \"_within\",\n    value: function _within(p) {\n      var fn = null;\n\n      if (this._shape === UIShape.rectangle) {\n        fn = Rectangle.withinBound;\n      } else if (this._shape === UIShape.circle) {\n        fn = Circle.withinBound;\n      } else if (this._shape === UIShape.polygon) {\n        fn = Polygon.hasIntersectPoint;\n      } else {\n        return false;\n      }\n\n      return fn(this._group, p);\n    }\n  }], [{\n    key: \"fromRectangle\",\n    value: function fromRectangle(group, states, id) {\n      return new this(group, UIShape.rectangle, states, id);\n    }\n  }, {\n    key: \"fromCircle\",\n    value: function fromCircle(group, states, id) {\n      return new this(group, UIShape.circle, states, id);\n    }\n  }, {\n    key: \"fromPolygon\",\n    value: function fromPolygon(group, states, id) {\n      return new this(group, UIShape.polygon, states, id);\n    }\n  }, {\n    key: \"fromUI\",\n    value: function fromUI(ui, states, id) {\n      return new this(ui.group, ui.shape, states || ui._states, id);\n    }\n  }, {\n    key: \"track\",\n    value: function track(uis, type, p, evt) {\n      for (var i = 0, len = uis.length; i < len; i++) {\n        uis[i].listen(type, p, evt);\n      }\n    }\n  }, {\n    key: \"_trigger\",\n    value: function _trigger(fns, target, pt, type, evt) {\n      if (fns) {\n        for (var i = 0, len = fns.length; i < len; i++) {\n          if (fns[i]) fns[i](target, pt, type, evt);\n        }\n      }\n    }\n  }, {\n    key: \"_addHandler\",\n    value: function _addHandler(fns, fn) {\n      if (fn) {\n        fns.push(fn);\n        return fns.length - 1;\n      } else {\n        return -1;\n      }\n    }\n  }, {\n    key: \"_removeHandler\",\n    value: function _removeHandler(fns, index) {\n      if (index >= 0 && index < fns.length) {\n        var temp = fns.length;\n        fns.splice(index, 1);\n        return temp > fns.length;\n      } else {\n        return false;\n      }\n    }\n  }]);\n\n  return UI;\n}();\nUI._counter = 0;\nexport var UIButton = /*#__PURE__*/function (_UI) {\n  _inherits(UIButton, _UI);\n\n  var _super = _createSuper(UIButton);\n\n  function UIButton(group, shape) {\n    var _this;\n\n    var states = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n    var id = arguments.length > 3 ? arguments[3] : undefined;\n\n    _classCallCheck(this, UIButton);\n\n    _this = _super.call(this, group, shape, states, id);\n    _this._hoverID = -1;\n    if (states.hover === undefined) _this._states['hover'] = false;\n    if (states.clicks === undefined) _this._states['clicks'] = 0;\n    var UA = UIPointerActions;\n\n    _this.on(UA.up, function (target, pt, type, evt) {\n      _this.state('clicks', _this._states.clicks + 1);\n    });\n\n    _this.on(UA.move, function (target, pt, type, evt) {\n      var hover = _this._within(pt);\n\n      if (hover && !_this._states.hover) {\n        _this.state('hover', true);\n\n        UI._trigger(_this._actions[UA.enter], _assertThisInitialized(_this), pt, UA.enter, evt);\n\n        var _capID = _this.hold(UA.move);\n\n        _this._hoverID = _this.on(UA.move, function (t, p) {\n          if (!_this._within(p) && !_this.state('dragging')) {\n            _this.state('hover', false);\n\n            UI._trigger(_this._actions[UA.leave], _assertThisInitialized(_this), pt, UA.leave, evt);\n\n            _this.off(UA.move, _this._hoverID);\n\n            _this.unhold(_capID);\n          }\n        });\n      }\n    });\n\n    return _this;\n  }\n\n  _createClass(UIButton, [{\n    key: \"onClick\",\n    value: function onClick(fn) {\n      return this.on(UIPointerActions.up, fn);\n    }\n  }, {\n    key: \"offClick\",\n    value: function offClick(id) {\n      return this.off(UIPointerActions.up, id);\n    }\n  }, {\n    key: \"onContextMenu\",\n    value: function onContextMenu(fn) {\n      return this.on(UIPointerActions.contextmenu, fn);\n    }\n  }, {\n    key: \"offContextMenu\",\n    value: function offContextMenu(id) {\n      return this.off(UIPointerActions.contextmenu, id);\n    }\n  }, {\n    key: \"onHover\",\n    value: function onHover(enter, leave) {\n      var ids = [undefined, undefined];\n      if (enter) ids[0] = this.on(UIPointerActions.enter, enter);\n      if (leave) ids[1] = this.on(UIPointerActions.leave, leave);\n      return ids;\n    }\n  }, {\n    key: \"offHover\",\n    value: function offHover(enterID, leaveID) {\n      var s = [false, false];\n      if (enterID === undefined || enterID >= 0) s[0] = this.off(UIPointerActions.enter, enterID);\n      if (leaveID === undefined || leaveID >= 0) s[1] = this.off(UIPointerActions.leave, leaveID);\n      return s;\n    }\n  }]);\n\n  return UIButton;\n}(UI);\nexport var UIDragger = /*#__PURE__*/function (_UIButton) {\n  _inherits(UIDragger, _UIButton);\n\n  var _super2 = _createSuper(UIDragger);\n\n  function UIDragger(group, shape) {\n    var _this2;\n\n    var states = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n    var id = arguments.length > 3 ? arguments[3] : undefined;\n\n    _classCallCheck(this, UIDragger);\n\n    _this2 = _super2.call(this, group, shape, states, id);\n    _this2._draggingID = -1;\n    _this2._moveHoldID = -1;\n    _this2._dropHoldID = -1;\n    _this2._upHoldID = -1;\n    if (states.dragging === undefined) _this2._states['dragging'] = false;\n    if (states.moved === undefined) _this2._states['moved'] = false;\n    if (states.offset === undefined) _this2._states['offset'] = new Pt();\n    var UA = UIPointerActions;\n\n    _this2.on(UA.down, function (target, pt, type, evt) {\n      if (_this2._moveHoldID === -1) {\n        _this2.state('dragging', true);\n\n        _this2.state('offset', new Pt(pt).subtract(target.group[0]));\n\n        _this2._moveHoldID = _this2.hold(UA.move);\n      }\n\n      if (_this2._dropHoldID === -1) {\n        _this2._dropHoldID = _this2.hold(UA.drop);\n      }\n\n      if (_this2._upHoldID === -1) {\n        _this2._upHoldID = _this2.hold(UA.up);\n      }\n\n      if (_this2._draggingID === -1) {\n        _this2._draggingID = _this2.on(UA.move, function (t, p) {\n          if (_this2.state('dragging')) {\n            UI._trigger(_this2._actions[UA.uidrag], t, p, UA.uidrag, evt);\n\n            _this2.state('moved', true);\n          }\n        });\n      }\n    });\n\n    var endDrag = function endDrag(target, pt, type, evt) {\n      _this2.state('dragging', false);\n\n      _this2.off(UA.move, _this2._draggingID);\n\n      _this2._draggingID = -1;\n\n      _this2.unhold(_this2._moveHoldID);\n\n      _this2._moveHoldID = -1;\n\n      _this2.unhold(_this2._dropHoldID);\n\n      _this2._dropHoldID = -1;\n\n      _this2.unhold(_this2._upHoldID);\n\n      _this2._upHoldID = -1;\n\n      if (_this2.state('moved')) {\n        UI._trigger(_this2._actions[UA.uidrop], target, pt, UA.uidrop, evt);\n\n        _this2.state('moved', false);\n      }\n    };\n\n    _this2.on(UA.drop, endDrag);\n\n    _this2.on(UA.up, endDrag);\n\n    _this2.on(UA.out, endDrag);\n\n    return _this2;\n  }\n\n  _createClass(UIDragger, [{\n    key: \"onDrag\",\n    value: function onDrag(fn) {\n      return this.on(UIPointerActions.uidrag, fn);\n    }\n  }, {\n    key: \"offDrag\",\n    value: function offDrag(id) {\n      return this.off(UIPointerActions.uidrag, id);\n    }\n  }, {\n    key: \"onDrop\",\n    value: function onDrop(fn) {\n      return this.on(UIPointerActions.uidrop, fn);\n    }\n  }, {\n    key: \"offDrop\",\n    value: function offDrop(id) {\n      return this.off(UIPointerActions.uidrop, id);\n    }\n  }]);\n\n  return UIDragger;\n}(UIButton);","import _inherits from \"/Users/usarneme/Projects/gatsby-portfolio/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _possibleConstructorReturn from \"/Users/usarneme/Projects/gatsby-portfolio/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/usarneme/Projects/gatsby-portfolio/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _classCallCheck from \"/Users/usarneme/Projects/gatsby-portfolio/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/usarneme/Projects/gatsby-portfolio/node_modules/@babel/runtime/helpers/esm/createClass\";\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\n/*! Source code licensed under Apache License 2.0. Copyright © 2017-current William Ngan and contributors. (https://github.com/williamngan/pts) */\nimport { Pt, Bound } from \"./Pt\";\nimport { UIPointerActions as UIA } from \"./UI\";\nexport var Space = /*#__PURE__*/function () {\n  function Space() {\n    _classCallCheck(this, Space);\n\n    this.id = \"space\";\n    this.bound = new Bound();\n    this._time = {\n      prev: 0,\n      diff: 0,\n      end: -1\n    };\n    this.players = {};\n    this.playerCount = 0;\n    this._animID = -1;\n    this._pause = false;\n    this._refresh = undefined;\n    this._pointer = new Pt();\n    this._isReady = false;\n    this._playing = false;\n  }\n\n  _createClass(Space, [{\n    key: \"refresh\",\n    value: function refresh(b) {\n      this._refresh = b;\n      return this;\n    }\n  }, {\n    key: \"add\",\n    value: function add(p) {\n      var player = typeof p == \"function\" ? {\n        animate: p\n      } : p;\n      var k = this.playerCount++;\n      var pid = this.id + k;\n      this.players[pid] = player;\n      player.animateID = pid;\n      if (player.resize && this.bound.inited) player.resize(this.bound);\n      if (this._refresh === undefined) this._refresh = true;\n      return this;\n    }\n  }, {\n    key: \"remove\",\n    value: function remove(player) {\n      delete this.players[player.animateID];\n      return this;\n    }\n  }, {\n    key: \"removeAll\",\n    value: function removeAll() {\n      this.players = {};\n      return this;\n    }\n  }, {\n    key: \"play\",\n    value: function play() {\n      var time = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;\n\n      if (time === 0 && this._animID !== -1) {\n        return;\n      }\n\n      this._animID = requestAnimationFrame(this.play.bind(this));\n      if (this._pause) return this;\n      this._time.diff = time - this._time.prev;\n      this._time.prev = time;\n\n      try {\n        this.playItems(time);\n      } catch (err) {\n        cancelAnimationFrame(this._animID);\n        this._animID = -1;\n        this._playing = false;\n        throw err;\n      }\n\n      return this;\n    }\n  }, {\n    key: \"replay\",\n    value: function replay() {\n      this._time.end = -1;\n      this.play();\n    }\n  }, {\n    key: \"playItems\",\n    value: function playItems(time) {\n      this._playing = true;\n      if (this._refresh) this.clear();\n\n      if (this._isReady) {\n        for (var k in this.players) {\n          if (this.players[k].animate) this.players[k].animate(time, this._time.diff, this);\n        }\n      }\n\n      if (this._time.end >= 0 && time > this._time.end) {\n        cancelAnimationFrame(this._animID);\n        this._animID = -1;\n        this._playing = false;\n      }\n    }\n  }, {\n    key: \"pause\",\n    value: function pause() {\n      var toggle = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;\n      this._pause = toggle ? !this._pause : true;\n      return this;\n    }\n  }, {\n    key: \"resume\",\n    value: function resume() {\n      this._pause = false;\n      return this;\n    }\n  }, {\n    key: \"stop\",\n    value: function stop() {\n      var t = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;\n      this._time.end = t;\n      return this;\n    }\n  }, {\n    key: \"playOnce\",\n    value: function playOnce() {\n      var duration = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 5000;\n      this.play();\n      this.stop(duration);\n      return this;\n    }\n  }, {\n    key: \"render\",\n    value: function render(context) {\n      if (this._renderFunc) this._renderFunc(context, this);\n      return this;\n    }\n  }, {\n    key: \"customRendering\",\n    get: function get() {\n      return this._renderFunc;\n    },\n    set: function set(f) {\n      this._renderFunc = f;\n    }\n  }, {\n    key: \"isPlaying\",\n    get: function get() {\n      return this._playing;\n    }\n  }, {\n    key: \"outerBound\",\n    get: function get() {\n      return this.bound.clone();\n    }\n  }, {\n    key: \"innerBound\",\n    get: function get() {\n      return new Bound(Pt.make(this.size.length, 0), this.size.clone());\n    }\n  }, {\n    key: \"size\",\n    get: function get() {\n      return this.bound.size.clone();\n    }\n  }, {\n    key: \"center\",\n    get: function get() {\n      return this.size.divide(2);\n    }\n  }, {\n    key: \"width\",\n    get: function get() {\n      return this.bound.width;\n    }\n  }, {\n    key: \"height\",\n    get: function get() {\n      return this.bound.height;\n    }\n  }]);\n\n  return Space;\n}();\nexport var MultiTouchSpace = /*#__PURE__*/function (_Space) {\n  _inherits(MultiTouchSpace, _Space);\n\n  var _super = _createSuper(MultiTouchSpace);\n\n  function MultiTouchSpace() {\n    var _this;\n\n    _classCallCheck(this, MultiTouchSpace);\n\n    _this = _super.apply(this, arguments);\n    _this._pressed = false;\n    _this._dragged = false;\n    _this._hasMouse = false;\n    _this._hasTouch = false;\n    return _this;\n  }\n\n  _createClass(MultiTouchSpace, [{\n    key: \"pointer\",\n    get: function get() {\n      var p = this._pointer.clone();\n\n      p.id = this._pointer.id;\n      return p;\n    }\n  }, {\n    key: \"bindCanvas\",\n    value: function bindCanvas(evt, callback) {\n      var options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n\n      this._canvas.addEventListener(evt, callback, options);\n    }\n  }, {\n    key: \"unbindCanvas\",\n    value: function unbindCanvas(evt, callback) {\n      this._canvas.removeEventListener(evt, callback);\n    }\n  }, {\n    key: \"bindMouse\",\n    value: function bindMouse() {\n      var _bind = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : true;\n\n      if (_bind) {\n        this.bindCanvas(\"mousedown\", this._mouseDown.bind(this));\n        this.bindCanvas(\"mouseup\", this._mouseUp.bind(this));\n        this.bindCanvas(\"mouseover\", this._mouseOver.bind(this));\n        this.bindCanvas(\"mouseout\", this._mouseOut.bind(this));\n        this.bindCanvas(\"mousemove\", this._mouseMove.bind(this));\n        this.bindCanvas(\"contextmenu\", this._contextMenu.bind(this));\n        this._hasMouse = true;\n      } else {\n        this.unbindCanvas(\"mousedown\", this._mouseDown.bind(this));\n        this.unbindCanvas(\"mouseup\", this._mouseUp.bind(this));\n        this.unbindCanvas(\"mouseover\", this._mouseOver.bind(this));\n        this.unbindCanvas(\"mouseout\", this._mouseOut.bind(this));\n        this.unbindCanvas(\"mousemove\", this._mouseMove.bind(this));\n        this.unbindCanvas(\"contextmenu\", this._contextMenu.bind(this));\n        this._hasMouse = false;\n      }\n\n      return this;\n    }\n  }, {\n    key: \"bindTouch\",\n    value: function bindTouch() {\n      var _bind = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : true;\n\n      if (_bind) {\n        this.bindCanvas(\"touchstart\", this._touchStart.bind(this), {\n          passive: true\n        });\n        this.bindCanvas(\"touchend\", this._mouseUp.bind(this));\n        this.bindCanvas(\"touchmove\", this._touchMove.bind(this), {\n          passive: true\n        });\n        this.bindCanvas(\"touchcancel\", this._mouseOut.bind(this));\n        this._hasTouch = true;\n      } else {\n        this.unbindCanvas(\"touchstart\", this._touchStart.bind(this));\n        this.unbindCanvas(\"touchend\", this._mouseUp.bind(this));\n        this.unbindCanvas(\"touchmove\", this._touchMove.bind(this));\n        this.unbindCanvas(\"touchcancel\", this._mouseOut.bind(this));\n        this._hasTouch = false;\n      }\n\n      return this;\n    }\n  }, {\n    key: \"touchesToPoints\",\n    value: function touchesToPoints(evt) {\n      var which = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : \"touches\";\n      if (!evt || !evt[which]) return [];\n      var ts = [];\n\n      for (var i = 0; i < evt[which].length; i++) {\n        var t = evt[which].item(i);\n        ts.push(new Pt(t.pageX - this.bound.topLeft.x, t.pageY - this.bound.topLeft.y));\n      }\n\n      return ts;\n    }\n  }, {\n    key: \"_mouseAction\",\n    value: function _mouseAction(type, evt) {\n      var px = 0,\n          py = 0;\n\n      if (evt instanceof MouseEvent) {\n        for (var k in this.players) {\n          if (this.players.hasOwnProperty(k)) {\n            var v = this.players[k];\n            px = evt.pageX - this.outerBound.x;\n            py = evt.pageY - this.outerBound.y;\n            if (v.action) v.action(type, px, py, evt);\n          }\n        }\n      } else {\n        for (var _k in this.players) {\n          if (this.players.hasOwnProperty(_k)) {\n            var _v = this.players[_k];\n            var c = evt.changedTouches && evt.changedTouches.length > 0;\n            var touch = evt.changedTouches.item(0);\n            px = c ? touch.pageX - this.outerBound.x : 0;\n            py = c ? touch.pageY - this.outerBound.y : 0;\n            if (_v.action) _v.action(type, px, py, evt);\n          }\n        }\n      }\n\n      if (type) {\n        this._pointer.to(px, py);\n\n        this._pointer.id = type;\n      }\n    }\n  }, {\n    key: \"_mouseDown\",\n    value: function _mouseDown(evt) {\n      this._mouseAction(UIA.down, evt);\n\n      this._pressed = true;\n      return false;\n    }\n  }, {\n    key: \"_mouseUp\",\n    value: function _mouseUp(evt) {\n      if (this._dragged) {\n        this._mouseAction(UIA.drop, evt);\n      } else {\n        this._mouseAction(UIA.up, evt);\n      }\n\n      this._pressed = false;\n      this._dragged = false;\n      return false;\n    }\n  }, {\n    key: \"_mouseMove\",\n    value: function _mouseMove(evt) {\n      this._mouseAction(UIA.move, evt);\n\n      if (this._pressed) {\n        this._dragged = true;\n\n        this._mouseAction(UIA.drag, evt);\n      }\n\n      return false;\n    }\n  }, {\n    key: \"_mouseOver\",\n    value: function _mouseOver(evt) {\n      this._mouseAction(UIA.over, evt);\n\n      return false;\n    }\n  }, {\n    key: \"_mouseOut\",\n    value: function _mouseOut(evt) {\n      this._mouseAction(UIA.out, evt);\n\n      if (this._dragged) this._mouseAction(UIA.drop, evt);\n      this._dragged = false;\n      return false;\n    }\n  }, {\n    key: \"_contextMenu\",\n    value: function _contextMenu(evt) {\n      this._mouseAction(UIA.contextmenu, evt);\n\n      return false;\n    }\n  }, {\n    key: \"_touchMove\",\n    value: function _touchMove(evt) {\n      this._mouseMove(evt);\n\n      evt.preventDefault();\n      return false;\n    }\n  }, {\n    key: \"_touchStart\",\n    value: function _touchStart(evt) {\n      this._mouseDown(evt);\n\n      evt.preventDefault();\n      return false;\n    }\n  }]);\n\n  return MultiTouchSpace;\n}(Space);","import _inherits from \"/Users/usarneme/Projects/gatsby-portfolio/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _possibleConstructorReturn from \"/Users/usarneme/Projects/gatsby-portfolio/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/usarneme/Projects/gatsby-portfolio/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _classCallCheck from \"/Users/usarneme/Projects/gatsby-portfolio/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/usarneme/Projects/gatsby-portfolio/node_modules/@babel/runtime/helpers/esm/createClass\";\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\n/*! Source code licensed under Apache License 2.0. Copyright © 2017-current William Ngan and contributors. (https://github.com/williamngan/pts) */\nexport var Form = /*#__PURE__*/function () {\n  function Form() {\n    _classCallCheck(this, Form);\n\n    this._ready = false;\n  }\n\n  _createClass(Form, [{\n    key: \"ready\",\n    get: function get() {\n      return this._ready;\n    }\n  }]);\n\n  return Form;\n}();\nexport var VisualForm = /*#__PURE__*/function (_Form) {\n  _inherits(VisualForm, _Form);\n\n  var _super = _createSuper(VisualForm);\n\n  function VisualForm() {\n    var _this;\n\n    _classCallCheck(this, VisualForm);\n\n    _this = _super.apply(this, arguments);\n    _this._filled = true;\n    _this._stroked = true;\n    _this._font = new Font(14, \"sans-serif\");\n    return _this;\n  }\n\n  _createClass(VisualForm, [{\n    key: \"filled\",\n    get: function get() {\n      return this._filled;\n    },\n    set: function set(b) {\n      this._filled = b;\n    }\n  }, {\n    key: \"stroked\",\n    get: function get() {\n      return this._stroked;\n    },\n    set: function set(b) {\n      this._stroked = b;\n    }\n  }, {\n    key: \"currentFont\",\n    get: function get() {\n      return this._font;\n    }\n  }, {\n    key: \"_multiple\",\n    value: function _multiple(groups, shape) {\n      if (!groups) return this;\n\n      for (var _len = arguments.length, rest = new Array(_len > 2 ? _len - 2 : 0), _key = 2; _key < _len; _key++) {\n        rest[_key - 2] = arguments[_key];\n      }\n\n      for (var i = 0, len = groups.length; i < len; i++) {\n        this[shape].apply(this, [groups[i]].concat(rest));\n      }\n\n      return this;\n    }\n  }, {\n    key: \"alpha\",\n    value: function alpha(a) {\n      return this;\n    }\n  }, {\n    key: \"fill\",\n    value: function fill(c) {\n      return this;\n    }\n  }, {\n    key: \"fillOnly\",\n    value: function fillOnly(c) {\n      this.stroke(false);\n      return this.fill(c);\n    }\n  }, {\n    key: \"stroke\",\n    value: function stroke(c, width, linejoin, linecap) {\n      return this;\n    }\n  }, {\n    key: \"strokeOnly\",\n    value: function strokeOnly(c, width, linejoin, linecap) {\n      this.fill(false);\n      return this.stroke(c, width, linejoin, linecap);\n    }\n  }, {\n    key: \"points\",\n    value: function points(pts, radius, shape) {\n      if (!pts) return;\n\n      for (var i = 0, len = pts.length; i < len; i++) {\n        this.point(pts[i], radius, shape);\n      }\n\n      return this;\n    }\n  }, {\n    key: \"circles\",\n    value: function circles(groups) {\n      return this._multiple(groups, \"circle\");\n    }\n  }, {\n    key: \"squares\",\n    value: function squares(groups) {\n      return this._multiple(groups, \"square\");\n    }\n  }, {\n    key: \"lines\",\n    value: function lines(groups) {\n      return this._multiple(groups, \"line\");\n    }\n  }, {\n    key: \"polygons\",\n    value: function polygons(groups) {\n      return this._multiple(groups, \"polygon\");\n    }\n  }, {\n    key: \"rects\",\n    value: function rects(groups) {\n      return this._multiple(groups, \"rect\");\n    }\n  }]);\n\n  return VisualForm;\n}(Form);\nexport var Font = /*#__PURE__*/function () {\n  function Font() {\n    var size = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 12;\n    var face = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : \"sans-serif\";\n    var weight = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : \"\";\n    var style = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : \"\";\n    var lineHeight = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : 1.5;\n\n    _classCallCheck(this, Font);\n\n    this.size = size;\n    this.face = face;\n    this.style = style;\n    this.weight = weight;\n    this.lineHeight = lineHeight;\n  }\n\n  _createClass(Font, [{\n    key: \"value\",\n    get: function get() {\n      return \"\".concat(this.style, \" \").concat(this.weight, \" \").concat(this.size, \"px/\").concat(this.lineHeight, \" \").concat(this.face);\n    }\n  }, {\n    key: \"toString\",\n    value: function toString() {\n      return this.value;\n    }\n  }]);\n\n  return Font;\n}();","import _construct from \"/Users/usarneme/Projects/gatsby-portfolio/node_modules/@babel/runtime/helpers/esm/construct\";\nimport _inherits from \"/Users/usarneme/Projects/gatsby-portfolio/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _possibleConstructorReturn from \"/Users/usarneme/Projects/gatsby-portfolio/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/usarneme/Projects/gatsby-portfolio/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _classCallCheck from \"/Users/usarneme/Projects/gatsby-portfolio/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/usarneme/Projects/gatsby-portfolio/node_modules/@babel/runtime/helpers/esm/createClass\";\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nfunction _createForOfIteratorHelper(o, allowArrayLike) { var it; if (typeof Symbol === \"undefined\" || o[Symbol.iterator] == null) { if (Array.isArray(o) || (it = _unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === \"number\") { if (it) o = it; var i = 0; var F = function F() {}; return { s: F, n: function n() { if (i >= o.length) return { done: true }; return { done: false, value: o[i++] }; }, e: function e(_e) { throw _e; }, f: F }; } throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); } var normalCompletion = true, didErr = false, err; return { s: function s() { it = o[Symbol.iterator](); }, n: function n() { var step = it.next(); normalCompletion = step.done; return step; }, e: function e(_e2) { didErr = true; err = _e2; }, f: function f() { try { if (!normalCompletion && it.return != null) it.return(); } finally { if (didErr) throw err; } } }; }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\n/*! Source code licensed under Apache License 2.0. Copyright © 2017-current William Ngan and contributors. (https://github.com/williamngan/pts) */\nimport { Pt, Group } from \"./Pt\";\nimport { Line, Triangle } from \"./Op\";\nimport { Const, Util } from \"./Util\";\nimport { Num, Geom } from \"./Num\";\nimport { Vec } from \"./LinearAlgebra\";\nexport var Create = /*#__PURE__*/function () {\n  function Create() {\n    _classCallCheck(this, Create);\n  }\n\n  _createClass(Create, null, [{\n    key: \"distributeRandom\",\n    value: function distributeRandom(bound, count) {\n      var dimensions = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 2;\n      var pts = new Group();\n\n      for (var i = 0; i < count; i++) {\n        var p = [bound.x + Math.random() * bound.width];\n        if (dimensions > 1) p.push(bound.y + Math.random() * bound.height);\n        if (dimensions > 2) p.push(bound.z + Math.random() * bound.depth);\n        pts.push(new Pt(p));\n      }\n\n      return pts;\n    }\n  }, {\n    key: \"distributeLinear\",\n    value: function distributeLinear(line, count) {\n      var _line = Util.iterToArray(line);\n\n      var ln = Line.subpoints(_line, count - 2);\n      ln.unshift(_line[0]);\n      ln.push(_line[_line.length - 1]);\n      return ln;\n    }\n  }, {\n    key: \"gridPts\",\n    value: function gridPts(bound, columns, rows) {\n      var orientation = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : [0.5, 0.5];\n      if (columns === 0 || rows === 0) throw new Error(\"grid columns and rows cannot be 0\");\n      var unit = bound.size.$subtract(1).$divide(columns, rows);\n      var offset = unit.$multiply(orientation);\n      var g = new Group();\n\n      for (var r = 0; r < rows; r++) {\n        for (var c = 0; c < columns; c++) {\n          g.push(bound.topLeft.$add(unit.$multiply(c, r)).add(offset));\n        }\n      }\n\n      return g;\n    }\n  }, {\n    key: \"gridCells\",\n    value: function gridCells(bound, columns, rows) {\n      if (columns === 0 || rows === 0) throw new Error(\"grid columns and rows cannot be 0\");\n      var unit = bound.size.$subtract(1).divide(columns, rows);\n      var g = [];\n\n      for (var r = 0; r < rows; r++) {\n        for (var c = 0; c < columns; c++) {\n          g.push(new Group(bound.topLeft.$add(unit.$multiply(c, r)), bound.topLeft.$add(unit.$multiply(c, r).add(unit))));\n        }\n      }\n\n      return g;\n    }\n  }, {\n    key: \"radialPts\",\n    value: function radialPts(center, radius, count) {\n      var angleOffset = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : -Const.half_pi;\n      var g = new Group();\n      var a = Const.two_pi / count;\n\n      for (var i = 0; i < count; i++) {\n        g.push(new Pt(center).toAngle(a * i + angleOffset, radius, true));\n      }\n\n      return g;\n    }\n  }, {\n    key: \"noisePts\",\n    value: function noisePts(pts) {\n      var dx = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0.01;\n      var dy = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 0.01;\n      var rows = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : 0;\n      var columns = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : 0;\n      var seed = Math.random();\n      var g = new Group();\n      var i = 0;\n\n      var _iterator = _createForOfIteratorHelper(pts),\n          _step;\n\n      try {\n        for (_iterator.s(); !(_step = _iterator.n()).done;) {\n          var p = _step.value;\n          var np = new Noise(p);\n          var r = rows && rows > 0 ? Math.floor(i / rows) : i;\n          var c = columns && columns > 0 ? i % columns : i;\n          np.initNoise(dx * c, dy * r);\n          np.seed(seed);\n          g.push(np);\n          i++;\n        }\n      } catch (err) {\n        _iterator.e(err);\n      } finally {\n        _iterator.f();\n      }\n\n      return g;\n    }\n  }, {\n    key: \"delaunay\",\n    value: function delaunay(pts) {\n      return Delaunay.from(pts);\n    }\n  }]);\n\n  return Create;\n}();\nvar __noise_grad3 = [[1, 1, 0], [-1, 1, 0], [1, -1, 0], [-1, -1, 0], [1, 0, 1], [-1, 0, 1], [1, 0, -1], [-1, 0, -1], [0, 1, 1], [0, -1, 1], [0, 1, -1], [0, -1, -1]];\nvar __noise_permTable = [151, 160, 137, 91, 90, 15, 131, 13, 201, 95, 96, 53, 194, 233, 7, 225, 140, 36, 103, 30, 69, 142, 8, 99, 37, 240, 21, 10, 23, 190, 6, 148, 247, 120, 234, 75, 0, 26, 197, 62, 94, 252, 219, 203, 117, 35, 11, 32, 57, 177, 33, 88, 237, 149, 56, 87, 174, 20, 125, 136, 171, 168, 68, 175, 74, 165, 71, 134, 139, 48, 27, 166, 77, 146, 158, 231, 83, 111, 229, 122, 60, 211, 133, 230, 220, 105, 92, 41, 55, 46, 245, 40, 244, 102, 143, 54, 65, 25, 63, 161, 1, 216, 80, 73, 209, 76, 132, 187, 208, 89, 18, 169, 200, 196, 135, 130, 116, 188, 159, 86, 164, 100, 109, 198, 173, 186, 3, 64, 52, 217, 226, 250, 124, 123, 5, 202, 38, 147, 118, 126, 255, 82, 85, 212, 207, 206, 59, 227, 47, 16, 58, 17, 182, 189, 28, 42, 223, 183, 170, 213, 119, 248, 152, 2, 44, 154, 163, 70, 221, 153, 101, 155, 167, 43, 172, 9, 129, 22, 39, 253, 9, 98, 108, 110, 79, 113, 224, 232, 178, 185, 112, 104, 218, 246, 97, 228, 251, 34, 242, 193, 238, 210, 144, 12, 191, 179, 162, 241, 81, 51, 145, 235, 249, 14, 239, 107, 49, 192, 214, 31, 181, 199, 106, 157, 184, 84, 204, 176, 115, 121, 50, 45, 127, 4, 150, 254, 138, 236, 205, 93, 222, 114, 67, 29, 24, 72, 243, 141, 128, 195, 78, 66, 215, 61, 156, 180];\nexport var Noise = /*#__PURE__*/function (_Pt) {\n  _inherits(Noise, _Pt);\n\n  var _super = _createSuper(Noise);\n\n  function Noise() {\n    var _this;\n\n    _classCallCheck(this, Noise);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _super.call.apply(_super, [this].concat(args));\n    _this.perm = [];\n    _this._n = new Pt(0.01, 0.01);\n    _this.perm = __noise_permTable.concat(__noise_permTable);\n    return _this;\n  }\n\n  _createClass(Noise, [{\n    key: \"initNoise\",\n    value: function initNoise() {\n      for (var _len2 = arguments.length, args = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n        args[_key2] = arguments[_key2];\n      }\n\n      this._n = _construct(Pt, args);\n      return this;\n    }\n  }, {\n    key: \"step\",\n    value: function step() {\n      var x = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;\n      var y = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n\n      this._n.add(x, y);\n\n      return this;\n    }\n  }, {\n    key: \"seed\",\n    value: function seed(s) {\n      if (s > 0 && s < 1) s *= 65536;\n      s = Math.floor(s);\n      if (s < 256) s |= s << 8;\n\n      for (var i = 0; i < 255; i++) {\n        var v = i & 1 ? __noise_permTable[i] ^ s & 255 : __noise_permTable[i] ^ s >> 8 & 255;\n        this.perm[i] = this.perm[i + 256] = v;\n      }\n\n      return this;\n    }\n  }, {\n    key: \"noise2D\",\n    value: function noise2D() {\n      var i = Math.max(0, Math.floor(this._n[0])) % 255;\n      var j = Math.max(0, Math.floor(this._n[1])) % 255;\n      var x = this._n[0] % 255 - i;\n      var y = this._n[1] % 255 - j;\n      var n00 = Vec.dot(__noise_grad3[(i + this.perm[j]) % 12], [x, y, 0]);\n      var n01 = Vec.dot(__noise_grad3[(i + this.perm[j + 1]) % 12], [x, y - 1, 0]);\n      var n10 = Vec.dot(__noise_grad3[(i + 1 + this.perm[j]) % 12], [x - 1, y, 0]);\n      var n11 = Vec.dot(__noise_grad3[(i + 1 + this.perm[j + 1]) % 12], [x - 1, y - 1, 0]);\n\n      var _fade = function _fade(f) {\n        return f * f * f * (f * (f * 6 - 15) + 10);\n      };\n\n      var tx = _fade(x);\n\n      return Num.lerp(Num.lerp(n00, n10, tx), Num.lerp(n01, n11, tx), _fade(y));\n    }\n  }]);\n\n  return Noise;\n}(Pt);\nexport var Delaunay = /*#__PURE__*/function (_Group) {\n  _inherits(Delaunay, _Group);\n\n  var _super2 = _createSuper(Delaunay);\n\n  function Delaunay() {\n    var _this2;\n\n    _classCallCheck(this, Delaunay);\n\n    _this2 = _super2.apply(this, arguments);\n    _this2._mesh = [];\n    return _this2;\n  }\n\n  _createClass(Delaunay, [{\n    key: \"delaunay\",\n    value: function delaunay() {\n      var _this3 = this;\n\n      var triangleOnly = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : true;\n      if (this.length < 3) return [];\n      this._mesh = [];\n      var n = this.length;\n      var indices = [];\n\n      for (var i = 0; i < n; i++) {\n        indices[i] = i;\n      }\n\n      indices.sort(function (i, j) {\n        return _this3[j][0] - _this3[i][0];\n      });\n      var pts = this.slice();\n\n      var st = this._superTriangle();\n\n      pts = pts.concat(st);\n      var opened = [this._circum(n, n + 1, n + 2, st)];\n      var closed = [];\n      var tris = [];\n\n      for (var _i = 0, len = indices.length; _i < len; _i++) {\n        var c = indices[_i];\n        var edges = [];\n        var j = opened.length;\n        if (!this._mesh[c]) this._mesh[c] = {};\n\n        while (j--) {\n          var circum = opened[j];\n          var radius = circum.circle[1][0];\n          var d = pts[c].$subtract(circum.circle[0]);\n\n          if (d[0] > 0 && d[0] * d[0] > radius * radius) {\n            closed.push(circum);\n            tris.push(circum.triangle);\n            opened.splice(j, 1);\n            continue;\n          }\n\n          if (d[0] * d[0] + d[1] * d[1] - radius * radius > Const.epsilon) {\n            continue;\n          }\n\n          edges.push(circum.i, circum.j, circum.j, circum.k, circum.k, circum.i);\n          opened.splice(j, 1);\n        }\n\n        Delaunay._dedupe(edges);\n\n        j = edges.length;\n\n        while (j > 1) {\n          opened.push(this._circum(edges[--j], edges[--j], c, false, pts));\n        }\n      }\n\n      for (var _i2 = 0, _len3 = opened.length; _i2 < _len3; _i2++) {\n        var o = opened[_i2];\n\n        if (o.i < n && o.j < n && o.k < n) {\n          closed.push(o);\n          tris.push(o.triangle);\n\n          this._cache(o);\n        }\n      }\n\n      return triangleOnly ? tris : closed;\n    }\n  }, {\n    key: \"voronoi\",\n    value: function voronoi() {\n      var vs = [];\n      var n = this._mesh;\n\n      for (var i = 0, len = n.length; i < len; i++) {\n        vs.push(this.neighborPts(i, true));\n      }\n\n      return vs;\n    }\n  }, {\n    key: \"mesh\",\n    value: function mesh() {\n      return this._mesh;\n    }\n  }, {\n    key: \"neighborPts\",\n    value: function neighborPts(i) {\n      var sort = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n      var cs = new Group();\n      var n = this._mesh;\n\n      for (var k in n[i]) {\n        if (n[i].hasOwnProperty(k)) cs.push(n[i][k].circle[0]);\n      }\n\n      return sort ? Geom.sortEdges(cs) : cs;\n    }\n  }, {\n    key: \"neighbors\",\n    value: function neighbors(i) {\n      var cs = [];\n      var n = this._mesh;\n\n      for (var k in n[i]) {\n        if (n[i].hasOwnProperty(k)) cs.push(n[i][k]);\n      }\n\n      return cs;\n    }\n  }, {\n    key: \"_cache\",\n    value: function _cache(o) {\n      this._mesh[o.i][\"\".concat(Math.min(o.j, o.k), \"-\").concat(Math.max(o.j, o.k))] = o;\n      this._mesh[o.j][\"\".concat(Math.min(o.i, o.k), \"-\").concat(Math.max(o.i, o.k))] = o;\n      this._mesh[o.k][\"\".concat(Math.min(o.i, o.j), \"-\").concat(Math.max(o.i, o.j))] = o;\n    }\n  }, {\n    key: \"_superTriangle\",\n    value: function _superTriangle() {\n      var minPt = this[0];\n      var maxPt = this[0];\n\n      for (var i = 1, len = this.length; i < len; i++) {\n        minPt = minPt.$min(this[i]);\n        maxPt = maxPt.$max(this[i]);\n      }\n\n      var d = maxPt.$subtract(minPt);\n      var mid = minPt.$add(maxPt).divide(2);\n      var dmax = Math.max(d[0], d[1]);\n      return new Group(mid.$subtract(20 * dmax, dmax), mid.$add(0, 20 * dmax), mid.$add(20 * dmax, -dmax));\n    }\n  }, {\n    key: \"_triangle\",\n    value: function _triangle(i, j, k) {\n      var pts = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : this;\n      return new Group(pts[i], pts[j], pts[k]);\n    }\n  }, {\n    key: \"_circum\",\n    value: function _circum(i, j, k, tri) {\n      var pts = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : this;\n\n      var t = tri || this._triangle(i, j, k, pts);\n\n      return {\n        i: i,\n        j: j,\n        k: k,\n        triangle: t,\n        circle: Triangle.circumcircle(t)\n      };\n    }\n  }], [{\n    key: \"_dedupe\",\n    value: function _dedupe(edges) {\n      var j = edges.length;\n\n      while (j > 1) {\n        var b = edges[--j];\n        var a = edges[--j];\n        var i = j;\n\n        while (i > 1) {\n          var n = edges[--i];\n          var m = edges[--i];\n\n          if (a == m && b == n || a == n && b == m) {\n            edges.splice(j, 2);\n            edges.splice(i, 2);\n            break;\n          }\n        }\n      }\n\n      return edges;\n    }\n  }]);\n\n  return Delaunay;\n}(Group);","import _slicedToArray from \"/Users/usarneme/Projects/gatsby-portfolio/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nimport _classCallCheck from \"/Users/usarneme/Projects/gatsby-portfolio/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/usarneme/Projects/gatsby-portfolio/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _inherits from \"/Users/usarneme/Projects/gatsby-portfolio/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _possibleConstructorReturn from \"/Users/usarneme/Projects/gatsby-portfolio/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/usarneme/Projects/gatsby-portfolio/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\n/*! Source code licensed under Apache License 2.0. Copyright © 2017-current William Ngan and contributors. (https://github.com/williamngan/pts) */\nimport { Pt, Group } from \"./Pt\";\nimport { Util } from \"./Util\";\nimport { Num, Geom } from \"./Num\";\nexport var Color = /*#__PURE__*/function (_Pt) {\n  _inherits(Color, _Pt);\n\n  var _super = _createSuper(Color);\n\n  function Color() {\n    var _this;\n\n    _classCallCheck(this, Color);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _super.call.apply(_super, [this].concat(args));\n    _this._mode = \"rgb\";\n    _this._isNorm = false;\n    return _this;\n  }\n\n  _createClass(Color, [{\n    key: \"hex\",\n    get: function get() {\n      return this.toString(\"hex\");\n    }\n  }, {\n    key: \"rgb\",\n    get: function get() {\n      return this.toString(\"rgb\");\n    }\n  }, {\n    key: \"rgba\",\n    get: function get() {\n      return this.toString(\"rgba\");\n    }\n  }, {\n    key: \"clone\",\n    value: function clone() {\n      var c = new Color(this);\n      c.toMode(this._mode);\n      return c;\n    }\n  }, {\n    key: \"toMode\",\n    value: function toMode(mode) {\n      var convert = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n\n      if (convert) {\n        var fname = this._mode.toUpperCase() + \"to\" + mode.toUpperCase();\n\n        if (Color[fname]) {\n          this.to(Color[fname](this, this._isNorm, this._isNorm));\n        } else {\n          throw new Error(\"Cannot convert color with \" + fname);\n        }\n      }\n\n      this._mode = mode;\n      return this;\n    }\n  }, {\n    key: \"mode\",\n    get: function get() {\n      return this._mode;\n    }\n  }, {\n    key: \"r\",\n    get: function get() {\n      return this[0];\n    },\n    set: function set(n) {\n      this[0] = n;\n    }\n  }, {\n    key: \"g\",\n    get: function get() {\n      return this[1];\n    },\n    set: function set(n) {\n      this[1] = n;\n    }\n  }, {\n    key: \"b\",\n    get: function get() {\n      return this[2];\n    },\n    set: function set(n) {\n      this[2] = n;\n    }\n  }, {\n    key: \"h\",\n    get: function get() {\n      return this._mode == \"lch\" ? this[2] : this[0];\n    },\n    set: function set(n) {\n      var i = this._mode == \"lch\" ? 2 : 0;\n      this[i] = n;\n    }\n  }, {\n    key: \"s\",\n    get: function get() {\n      return this[1];\n    },\n    set: function set(n) {\n      this[1] = n;\n    }\n  }, {\n    key: \"l\",\n    get: function get() {\n      return this._mode == \"hsl\" ? this[2] : this[0];\n    },\n    set: function set(n) {\n      var i = this._mode == \"hsl\" ? 2 : 0;\n      this[i] = n;\n    }\n  }, {\n    key: \"a\",\n    get: function get() {\n      return this[1];\n    },\n    set: function set(n) {\n      this[1] = n;\n    }\n  }, {\n    key: \"c\",\n    get: function get() {\n      return this[1];\n    },\n    set: function set(n) {\n      this[1] = n;\n    }\n  }, {\n    key: \"u\",\n    get: function get() {\n      return this[1];\n    },\n    set: function set(n) {\n      this[1] = n;\n    }\n  }, {\n    key: \"v\",\n    get: function get() {\n      return this[2];\n    },\n    set: function set(n) {\n      this[2] = n;\n    }\n  }, {\n    key: \"alpha\",\n    get: function get() {\n      return this.length > 3 ? this[3] : 1;\n    },\n    set: function set(n) {\n      if (this.length > 3) this[3] = n;\n    }\n  }, {\n    key: \"normalized\",\n    get: function get() {\n      return this._isNorm;\n    },\n    set: function set(b) {\n      this._isNorm = b;\n    }\n  }, {\n    key: \"normalize\",\n    value: function normalize() {\n      var toNorm = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : true;\n      if (this._isNorm == toNorm) return this;\n      var ranges = Color.ranges[this._mode];\n\n      for (var i = 0; i < 3; i++) {\n        this[i] = !toNorm ? Num.mapToRange(this[i], 0, 1, ranges[i][0], ranges[i][1]) : Num.mapToRange(this[i], ranges[i][0], ranges[i][1], 0, 1);\n      }\n\n      this._isNorm = toNorm;\n      return this;\n    }\n  }, {\n    key: \"$normalize\",\n    value: function $normalize() {\n      var toNorm = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : true;\n      return this.clone().normalize(toNorm);\n    }\n  }, {\n    key: \"toString\",\n    value: function toString() {\n      var format = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : \"mode\";\n\n      if (format == \"hex\") {\n        var _hex = function _hex(n) {\n          var s = Math.floor(n).toString(16);\n          return s.length < 2 ? '0' + s : s;\n        };\n\n        return \"#\".concat(_hex(this[0])).concat(_hex(this[1])).concat(_hex(this[2]));\n      } else if (format == \"rgba\") {\n        return \"rgba(\".concat(Math.floor(this[0]), \",\").concat(Math.floor(this[1]), \",\").concat(Math.floor(this[2]), \",\").concat(this.alpha);\n      } else if (format == \"rgb\") {\n        return \"rgb(\".concat(Math.floor(this[0]), \",\").concat(Math.floor(this[1]), \",\").concat(Math.floor(this[2]));\n      } else {\n        return \"\".concat(this._mode, \"(\").concat(this[0], \",\").concat(this[1], \",\").concat(this[2], \",\").concat(this.alpha, \")\");\n      }\n    }\n  }], [{\n    key: \"from\",\n    value: function from() {\n      var p = [1, 1, 1, 1];\n\n      for (var _len2 = arguments.length, args = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n        args[_key2] = arguments[_key2];\n      }\n\n      var c = Util.getArgs(args);\n\n      for (var i = 0, len = p.length; i < len; i++) {\n        if (i < c.length) p[i] = c[i];\n      }\n\n      return new Color(p);\n    }\n  }, {\n    key: \"fromHex\",\n    value: function fromHex(hex) {\n      if (hex[0] == \"#\") hex = hex.substr(1);\n\n      if (hex.length <= 3) {\n        var fn = function fn(i) {\n          return hex[i] || \"F\";\n        };\n\n        hex = \"\".concat(fn(0)).concat(fn(0)).concat(fn(1)).concat(fn(1)).concat(fn(2)).concat(fn(2));\n      }\n\n      var alpha = 1;\n\n      if (hex.length === 8) {\n        alpha = hex.substr(6) && 0xFF / 255;\n        hex = hex.substring(0, 6);\n      }\n\n      var hexVal = parseInt(hex, 16);\n      return new Color(hexVal >> 16, hexVal >> 8 & 0xFF, hexVal & 0xFF, alpha);\n    }\n  }, {\n    key: \"rgb\",\n    value: function rgb() {\n      return Color.from.apply(Color, arguments).toMode(\"rgb\");\n    }\n  }, {\n    key: \"hsl\",\n    value: function hsl() {\n      return Color.from.apply(Color, arguments).toMode(\"hsl\");\n    }\n  }, {\n    key: \"hsb\",\n    value: function hsb() {\n      return Color.from.apply(Color, arguments).toMode(\"hsb\");\n    }\n  }, {\n    key: \"lab\",\n    value: function lab() {\n      return Color.from.apply(Color, arguments).toMode(\"lab\");\n    }\n  }, {\n    key: \"lch\",\n    value: function lch() {\n      return Color.from.apply(Color, arguments).toMode(\"lch\");\n    }\n  }, {\n    key: \"luv\",\n    value: function luv() {\n      return Color.from.apply(Color, arguments).toMode(\"luv\");\n    }\n  }, {\n    key: \"xyz\",\n    value: function xyz() {\n      return Color.from.apply(Color, arguments).toMode(\"xyz\");\n    }\n  }, {\n    key: \"maxValues\",\n    value: function maxValues(mode) {\n      return Color.ranges[mode].zipSlice(1).$take([0, 1, 2]);\n    }\n  }, {\n    key: \"RGBtoHSL\",\n    value: function RGBtoHSL(rgb) {\n      var normalizedInput = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n      var normalizedOutput = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;\n\n      var _ref = !normalizedInput ? rgb.$normalize() : rgb,\n          _ref2 = _slicedToArray(_ref, 3),\n          r = _ref2[0],\n          g = _ref2[1],\n          b = _ref2[2];\n\n      var max = Math.max(r, g, b);\n      var min = Math.min(r, g, b);\n      var h = (max + min) / 2;\n      var s = h;\n      var l = h;\n\n      if (max == min) {\n        h = 0;\n        s = 0;\n      } else {\n        var d = max - min;\n        s = l > 0.5 ? d / (2 - max - min) : d / (max + min);\n        h = 0;\n\n        if (max === r) {\n          h = (g - b) / d + (g < b ? 6 : 0);\n        } else if (max === g) {\n          h = (b - r) / d + 2;\n        } else if (max === b) {\n          h = (r - g) / d + 4;\n        }\n      }\n\n      return Color.hsl(normalizedOutput ? h / 60 : h * 60, s, l, rgb.alpha);\n    }\n  }, {\n    key: \"HSLtoRGB\",\n    value: function HSLtoRGB(hsl) {\n      var normalizedInput = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n      var normalizedOutput = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;\n\n      var _hsl = _slicedToArray(hsl, 3),\n          h = _hsl[0],\n          s = _hsl[1],\n          l = _hsl[2];\n\n      if (!normalizedInput) h = h / 360;\n      if (s == 0) return Color.rgb(l * 255, l * 255, l * 255, hsl.alpha);\n      var q = l <= 0.5 ? l * (1 + s) : l + s - l * s;\n      var p = 2 * l - q;\n\n      var convert = function convert(t) {\n        t = t < 0 ? t + 1 : t > 1 ? t - 1 : t;\n\n        if (t * 6 < 1) {\n          return p + (q - p) * t * 6;\n        } else if (t * 2 < 1) {\n          return q;\n        } else if (t * 3 < 2) {\n          return p + (q - p) * (2 / 3 - t) * 6;\n        } else {\n          return p;\n        }\n      };\n\n      var sc = normalizedOutput ? 1 : 255;\n      return Color.rgb(sc * convert(h + 1 / 3), sc * convert(h), sc * convert(h - 1 / 3), hsl.alpha);\n    }\n  }, {\n    key: \"RGBtoHSB\",\n    value: function RGBtoHSB(rgb) {\n      var normalizedInput = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n      var normalizedOutput = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;\n\n      var _ref3 = !normalizedInput ? rgb.$normalize() : rgb,\n          _ref4 = _slicedToArray(_ref3, 3),\n          r = _ref4[0],\n          g = _ref4[1],\n          b = _ref4[2];\n\n      var max = Math.max(r, g, b);\n      var min = Math.min(r, g, b);\n      var d = max - min;\n      var h = 0;\n      var s = max === 0 ? 0 : d / max;\n      var v = max;\n\n      if (max != min) {\n        if (max === r) {\n          h = (g - b) / d + (g < b ? 6 : 0);\n        } else if (max === g) {\n          h = (b - r) / d + 2;\n        } else if (max === b) {\n          h = (r - g) / d + 4;\n        }\n      }\n\n      return Color.hsb(normalizedOutput ? h / 60 : h * 60, s, v, rgb.alpha);\n    }\n  }, {\n    key: \"HSBtoRGB\",\n    value: function HSBtoRGB(hsb) {\n      var normalizedInput = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n      var normalizedOutput = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;\n\n      var _hsb = _slicedToArray(hsb, 3),\n          h = _hsb[0],\n          s = _hsb[1],\n          v = _hsb[2];\n\n      if (!normalizedInput) h = h / 360;\n      var i = Math.floor(h * 6);\n      var f = h * 6 - i;\n      var p = v * (1 - s);\n      var q = v * (1 - f * s);\n      var t = v * (1 - (1 - f) * s);\n      var pick = [[v, t, p], [q, v, p], [p, v, t], [p, q, v], [t, p, v], [v, p, q]];\n      var c = pick[i % 6];\n      var sc = normalizedOutput ? 1 : 255;\n      return Color.rgb(sc * c[0], sc * c[1], sc * c[2], hsb.alpha);\n    }\n  }, {\n    key: \"RGBtoLAB\",\n    value: function RGBtoLAB(rgb) {\n      var normalizedInput = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n      var normalizedOutput = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;\n      var c = normalizedInput ? rgb.$normalize(false) : rgb;\n      return Color.XYZtoLAB(Color.RGBtoXYZ(c), false, normalizedOutput);\n    }\n  }, {\n    key: \"LABtoRGB\",\n    value: function LABtoRGB(lab) {\n      var normalizedInput = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n      var normalizedOutput = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;\n      var c = normalizedInput ? lab.$normalize(false) : lab;\n      return Color.XYZtoRGB(Color.LABtoXYZ(c), false, normalizedOutput);\n    }\n  }, {\n    key: \"RGBtoLCH\",\n    value: function RGBtoLCH(rgb) {\n      var normalizedInput = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n      var normalizedOutput = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;\n      var c = normalizedInput ? rgb.$normalize(false) : rgb;\n      return Color.LABtoLCH(Color.RGBtoLAB(c), false, normalizedOutput);\n    }\n  }, {\n    key: \"LCHtoRGB\",\n    value: function LCHtoRGB(lch) {\n      var normalizedInput = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n      var normalizedOutput = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;\n      var c = normalizedInput ? lch.$normalize(false) : lch;\n      return Color.LABtoRGB(Color.LCHtoLAB(c), false, normalizedOutput);\n    }\n  }, {\n    key: \"RGBtoLUV\",\n    value: function RGBtoLUV(rgb) {\n      var normalizedInput = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n      var normalizedOutput = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;\n      var c = normalizedInput ? rgb.$normalize(false) : rgb;\n      return Color.XYZtoLUV(Color.RGBtoXYZ(c), false, normalizedOutput);\n    }\n  }, {\n    key: \"LUVtoRGB\",\n    value: function LUVtoRGB(luv) {\n      var normalizedInput = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n      var normalizedOutput = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;\n      var c = normalizedInput ? luv.$normalize(false) : luv;\n      return Color.XYZtoRGB(Color.LUVtoXYZ(c), false, normalizedOutput);\n    }\n  }, {\n    key: \"RGBtoXYZ\",\n    value: function RGBtoXYZ(rgb) {\n      var normalizedInput = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n      var normalizedOutput = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;\n      var c = !normalizedInput ? rgb.$normalize() : rgb.clone();\n\n      for (var i = 0; i < 3; i++) {\n        c[i] = c[i] > 0.04045 ? Math.pow((c[i] + 0.055) / 1.055, 2.4) : c[i] / 12.92;\n        if (!normalizedOutput) c[i] = c[i] * 100;\n      }\n\n      var cc = Color.xyz(c[0] * 0.4124564 + c[1] * 0.3575761 + c[2] * 0.1804375, c[0] * 0.2126729 + c[1] * 0.7151522 + c[2] * 0.0721750, c[0] * 0.0193339 + c[1] * 0.1191920 + c[2] * 0.9503041, rgb.alpha);\n      return normalizedOutput ? cc.normalize() : cc;\n    }\n  }, {\n    key: \"XYZtoRGB\",\n    value: function XYZtoRGB(xyz) {\n      var normalizedInput = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n      var normalizedOutput = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;\n\n      var _ref5 = !normalizedInput ? xyz.$normalize() : xyz,\n          _ref6 = _slicedToArray(_ref5, 3),\n          x = _ref6[0],\n          y = _ref6[1],\n          z = _ref6[2];\n\n      var rgb = [x * 3.2404542 + y * -1.5371385 + z * -0.4985314, x * -0.9692660 + y * 1.8760108 + z * 0.0415560, x * 0.0556434 + y * -0.2040259 + z * 1.0572252];\n\n      for (var i = 0; i < 3; i++) {\n        rgb[i] = rgb[i] < 0 ? 0 : rgb[i] > 0.0031308 ? 1.055 * Math.pow(rgb[i], 1 / 2.4) - 0.055 : 12.92 * rgb[i];\n        rgb[i] = Math.max(0, Math.min(1, rgb[i]));\n        if (!normalizedOutput) rgb[i] = Math.round(rgb[i] * 255);\n      }\n\n      var cc = Color.rgb(rgb[0], rgb[1], rgb[2], xyz.alpha);\n      return normalizedOutput ? cc.normalize() : cc;\n    }\n  }, {\n    key: \"XYZtoLAB\",\n    value: function XYZtoLAB(xyz) {\n      var normalizedInput = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n      var normalizedOutput = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;\n      var c = normalizedInput ? xyz.$normalize(false) : xyz.clone();\n      c.divide(Color.D65);\n\n      var fn = function fn(n) {\n        return n > 0.008856 ? Math.pow(n, 1 / 3) : 7.787 * n + 16 / 116;\n      };\n\n      var cy = fn(c[1]);\n      var cc = Color.lab(116 * cy - 16, 500 * (fn(c[0]) - cy), 200 * (cy - fn(c[2])), xyz.alpha);\n      return normalizedOutput ? cc.normalize() : cc;\n    }\n  }, {\n    key: \"LABtoXYZ\",\n    value: function LABtoXYZ(lab) {\n      var normalizedInput = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n      var normalizedOutput = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;\n      var c = normalizedInput ? lab.$normalize(false) : lab;\n      var y = (c[0] + 16) / 116;\n      var x = c[1] / 500 + y;\n      var z = y - c[2] / 200;\n\n      var fn = function fn(n) {\n        var nnn = n * n * n;\n        return nnn > 0.008856 ? nnn : (n - 16 / 116) / 7.787;\n      };\n\n      var d = Color.D65;\n      var cc = Color.xyz(Math.max(0, d[0] * fn(x)), Math.max(0, d[1] * fn(y)), Math.max(0, d[2] * fn(z)), lab.alpha);\n      return normalizedOutput ? cc.normalize() : cc;\n    }\n  }, {\n    key: \"XYZtoLUV\",\n    value: function XYZtoLUV(xyz) {\n      var normalizedInput = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n      var normalizedOutput = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;\n\n      var _ref7 = normalizedInput ? xyz.$normalize(false) : xyz,\n          _ref8 = _slicedToArray(_ref7, 3),\n          x = _ref8[0],\n          y = _ref8[1],\n          z = _ref8[2];\n\n      var u = 4 * x / (x + 15 * y + 3 * z);\n      var v = 9 * y / (x + 15 * y + 3 * z);\n      y = y / 100;\n      y = y > 0.008856 ? Math.pow(y, 1 / 3) : 7.787 * y + 16 / 116;\n      var refU = 4 * Color.D65[0] / (Color.D65[0] + 15 * Color.D65[1] + 3 * Color.D65[2]);\n      var refV = 9 * Color.D65[1] / (Color.D65[0] + 15 * Color.D65[1] + 3 * Color.D65[2]);\n      var L = 116 * y - 16;\n      return Color.luv(L, 13 * L * (u - refU), 13 * L * (v - refV), xyz.alpha);\n    }\n  }, {\n    key: \"LUVtoXYZ\",\n    value: function LUVtoXYZ(luv) {\n      var normalizedInput = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n      var normalizedOutput = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;\n\n      var _ref9 = normalizedInput ? luv.$normalize(false) : luv,\n          _ref10 = _slicedToArray(_ref9, 3),\n          l = _ref10[0],\n          u = _ref10[1],\n          v = _ref10[2];\n\n      var y = (l + 16) / 116;\n      var cubeY = y * y * y;\n      y = cubeY > 0.008856 ? cubeY : (y - 16 / 116) / 7.787;\n      var refU = 4 * Color.D65[0] / (Color.D65[0] + 15 * Color.D65[1] + 3 * Color.D65[2]);\n      var refV = 9 * Color.D65[1] / (Color.D65[0] + 15 * Color.D65[1] + 3 * Color.D65[2]);\n      u = u / (13 * l) + refU;\n      v = v / (13 * l) + refV;\n      y = y * 100;\n      var x = -1 * (9 * y * u) / ((u - 4) * v - u * v);\n      var z = (9 * y - 15 * v * y - v * x) / (3 * v);\n      return Color.xyz(x, y, z, luv.alpha);\n    }\n  }, {\n    key: \"LABtoLCH\",\n    value: function LABtoLCH(lab) {\n      var normalizedInput = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n      var normalizedOutput = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;\n      var c = normalizedInput ? lab.$normalize(false) : lab;\n      var h = Geom.toDegree(Geom.boundRadian(Math.atan2(c[2], c[1])));\n      return Color.lch(c[0], Math.sqrt(c[1] * c[1] + c[2] * c[2]), h, lab.alpha);\n    }\n  }, {\n    key: \"LCHtoLAB\",\n    value: function LCHtoLAB(lch) {\n      var normalizedInput = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n      var normalizedOutput = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;\n      var c = normalizedInput ? lch.$normalize(false) : lch;\n      var rad = Geom.toRadian(c[2]);\n      return Color.lab(c[0], Math.cos(rad) * c[1], Math.sin(rad) * c[1], lch.alpha);\n    }\n  }]);\n\n  return Color;\n}(Pt);\nColor.D65 = new Pt(95.047, 100, 108.883, 1);\nColor.ranges = {\n  rgb: new Group(new Pt(0, 255), new Pt(0, 255), new Pt(0, 255)),\n  hsl: new Group(new Pt(0, 360), new Pt(0, 1), new Pt(0, 1)),\n  hsb: new Group(new Pt(0, 360), new Pt(0, 1), new Pt(0, 1)),\n  lab: new Group(new Pt(0, 100), new Pt(-128, 127), new Pt(-128, 127)),\n  lch: new Group(new Pt(0, 100), new Pt(0, 100), new Pt(0, 360)),\n  luv: new Group(new Pt(0, 100), new Pt(-134, 220), new Pt(-140, 122)),\n  xyz: new Group(new Pt(0, 100), new Pt(0, 100), new Pt(0, 100))\n};","import _get from \"/Users/usarneme/Projects/gatsby-portfolio/node_modules/@babel/runtime/helpers/esm/get\";\nimport _classCallCheck from \"/Users/usarneme/Projects/gatsby-portfolio/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/usarneme/Projects/gatsby-portfolio/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _assertThisInitialized from \"/Users/usarneme/Projects/gatsby-portfolio/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";\nimport _inherits from \"/Users/usarneme/Projects/gatsby-portfolio/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _possibleConstructorReturn from \"/Users/usarneme/Projects/gatsby-portfolio/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/usarneme/Projects/gatsby-portfolio/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\n/*! Source code licensed under Apache License 2.0. Copyright © 2017-current William Ngan and contributors. (https://github.com/williamngan/pts) */\nimport { MultiTouchSpace } from './Space';\nimport { VisualForm, Font } from \"./Form\";\nimport { Util } from './Util';\nimport { Pt, Bound } from './Pt';\nexport var DOMSpace = /*#__PURE__*/function (_MultiTouchSpace) {\n  _inherits(DOMSpace, _MultiTouchSpace);\n\n  var _super = _createSuper(DOMSpace);\n\n  function DOMSpace(elem, callback) {\n    var _this;\n\n    _classCallCheck(this, DOMSpace);\n\n    _this = _super.call(this);\n    _this.id = \"domspace\";\n    _this._autoResize = true;\n    _this._bgcolor = \"#e1e9f0\";\n    _this._css = {};\n    var _selector = null;\n    var _existed = false;\n    _this.id = \"pts\";\n\n    if (elem instanceof Element) {\n      _selector = elem;\n      _this.id = \"pts_existing_space\";\n    } else {\n      _selector = document.querySelector(elem);\n      _existed = true;\n      _this.id = elem.substr(1);\n    }\n\n    if (!_selector) {\n      _this._container = DOMSpace.createElement(\"div\", \"pts_container\");\n      _this._canvas = DOMSpace.createElement(\"div\", \"pts_element\");\n\n      _this._container.appendChild(_this._canvas);\n\n      document.body.appendChild(_this._container);\n      _existed = false;\n    } else {\n      _this._canvas = _selector;\n      _this._container = _selector.parentElement;\n    }\n\n    setTimeout(_this._ready.bind(_assertThisInitialized(_this), callback), 50);\n    return _this;\n  }\n\n  _createClass(DOMSpace, [{\n    key: \"_ready\",\n    value: function _ready(callback) {\n      if (!this._container) throw new Error(\"Cannot initiate #\".concat(this.id, \" element\"));\n      this._isReady = true;\n\n      this._resizeHandler(null);\n\n      this.clear(this._bgcolor);\n\n      this._canvas.dispatchEvent(new Event(\"ready\"));\n\n      for (var k in this.players) {\n        if (this.players.hasOwnProperty(k)) {\n          if (this.players[k].start) this.players[k].start(this.bound.clone(), this);\n        }\n      }\n\n      this._pointer = this.center;\n      this.refresh(false);\n      if (callback) callback(this.bound, this._canvas);\n    }\n  }, {\n    key: \"setup\",\n    value: function setup(opt) {\n      if (opt.bgcolor) {\n        this._bgcolor = opt.bgcolor;\n      }\n\n      this.autoResize = opt.resize != undefined ? opt.resize : false;\n      return this;\n    }\n  }, {\n    key: \"getForm\",\n    value: function getForm() {\n      return null;\n    }\n  }, {\n    key: \"autoResize\",\n    get: function get() {\n      return this._autoResize;\n    },\n    set: function set(auto) {\n      this._autoResize = auto;\n\n      if (auto) {\n        window.addEventListener('resize', this._resizeHandler.bind(this));\n      } else {\n        delete this._css['width'];\n        delete this._css['height'];\n        window.removeEventListener('resize', this._resizeHandler.bind(this));\n      }\n    }\n  }, {\n    key: \"resize\",\n    value: function resize(b, evt) {\n      this.bound = b;\n      this.styles({\n        width: \"\".concat(b.width, \"px\"),\n        height: \"\".concat(b.height, \"px\")\n      }, true);\n\n      for (var k in this.players) {\n        if (this.players.hasOwnProperty(k)) {\n          var p = this.players[k];\n          if (p.resize) p.resize(this.bound, evt);\n        }\n      }\n\n      return this;\n    }\n  }, {\n    key: \"_resizeHandler\",\n    value: function _resizeHandler(evt) {\n      var b = Bound.fromBoundingRect(this._container.getBoundingClientRect());\n\n      if (this._autoResize) {\n        this.styles({\n          width: \"100%\",\n          height: \"100%\"\n        }, true);\n      } else {\n        this.styles({\n          width: \"\".concat(b.width, \"px\"),\n          height: \"\".concat(b.height, \"px\")\n        }, true);\n      }\n\n      this.resize(b, evt);\n    }\n  }, {\n    key: \"element\",\n    get: function get() {\n      return this._canvas;\n    }\n  }, {\n    key: \"parent\",\n    get: function get() {\n      return this._container;\n    }\n  }, {\n    key: \"ready\",\n    get: function get() {\n      return this._isReady;\n    }\n  }, {\n    key: \"clear\",\n    value: function clear(bg) {\n      if (bg) this.background = bg;\n      this._canvas.innerHTML = \"\";\n      return this;\n    }\n  }, {\n    key: \"background\",\n    get: function get() {\n      return this._bgcolor;\n    },\n    set: function set(bg) {\n      this._bgcolor = bg;\n      this._container.style.backgroundColor = this._bgcolor;\n    }\n  }, {\n    key: \"style\",\n    value: function style(key, val) {\n      var update = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;\n      this._css[key] = val;\n      if (update) this._canvas.style[key] = val;\n      return this;\n    }\n  }, {\n    key: \"styles\",\n    value: function styles(_styles) {\n      var update = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n\n      for (var k in _styles) {\n        if (_styles.hasOwnProperty(k)) this.style(k, _styles[k], update);\n      }\n\n      return this;\n    }\n  }, {\n    key: \"dispose\",\n    value: function dispose() {\n      window.removeEventListener('resize', this._resizeHandler.bind(this));\n      this.stop();\n      this.removeAll();\n      return this;\n    }\n  }], [{\n    key: \"createElement\",\n    value: function createElement() {\n      var elem = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : \"div\";\n      var id = arguments.length > 1 ? arguments[1] : undefined;\n      var appendTo = arguments.length > 2 ? arguments[2] : undefined;\n      var d = document.createElement(elem);\n      if (id) d.setAttribute(\"id\", id);\n      if (appendTo && appendTo.appendChild) appendTo.appendChild(d);\n      return d;\n    }\n  }, {\n    key: \"setAttr\",\n    value: function setAttr(elem, data) {\n      for (var k in data) {\n        if (data.hasOwnProperty(k)) {\n          elem.setAttribute(k, data[k]);\n        }\n      }\n\n      return elem;\n    }\n  }, {\n    key: \"getInlineStyles\",\n    value: function getInlineStyles(data) {\n      var str = \"\";\n\n      for (var k in data) {\n        if (data.hasOwnProperty(k)) {\n          if (data[k]) str += \"\".concat(k, \": \").concat(data[k], \"; \");\n        }\n      }\n\n      return str;\n    }\n  }]);\n\n  return DOMSpace;\n}(MultiTouchSpace);\nexport var HTMLSpace = /*#__PURE__*/function (_DOMSpace) {\n  _inherits(HTMLSpace, _DOMSpace);\n\n  var _super2 = _createSuper(HTMLSpace);\n\n  function HTMLSpace() {\n    _classCallCheck(this, HTMLSpace);\n\n    return _super2.apply(this, arguments);\n  }\n\n  _createClass(HTMLSpace, [{\n    key: \"getForm\",\n    value: function getForm() {\n      return new HTMLForm(this);\n    }\n  }, {\n    key: \"remove\",\n    value: function remove(player) {\n      var temp = this._container.querySelectorAll(\".\" + HTMLForm.scopeID(player));\n\n      temp.forEach(function (el) {\n        el.parentNode.removeChild(el);\n      });\n      return _get(_getPrototypeOf(HTMLSpace.prototype), \"remove\", this).call(this, player);\n    }\n  }, {\n    key: \"removeAll\",\n    value: function removeAll() {\n      this._container.innerHTML = \"\";\n      return _get(_getPrototypeOf(HTMLSpace.prototype), \"removeAll\", this).call(this);\n    }\n  }], [{\n    key: \"htmlElement\",\n    value: function htmlElement(parent, name, id) {\n      var autoClass = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : true;\n      if (!parent || !parent.appendChild) throw new Error(\"parent is not a valid DOM element\");\n      var elem = document.querySelector(\"#\".concat(id));\n\n      if (!elem) {\n        elem = document.createElement(name);\n        elem.setAttribute(\"id\", id);\n        if (autoClass) elem.setAttribute(\"class\", id.substring(0, id.indexOf(\"-\")));\n        parent.appendChild(elem);\n      }\n\n      return elem;\n    }\n  }]);\n\n  return HTMLSpace;\n}(DOMSpace);\nexport var HTMLForm = /*#__PURE__*/function (_VisualForm) {\n  _inherits(HTMLForm, _VisualForm);\n\n  var _super3 = _createSuper(HTMLForm);\n\n  function HTMLForm(space) {\n    var _this2;\n\n    _classCallCheck(this, HTMLForm);\n\n    _this2 = _super3.call(this);\n    _this2._style = {\n      \"filled\": true,\n      \"stroked\": true,\n      \"background\": \"#f03\",\n      \"border-color\": \"#fff\",\n      \"color\": \"#000\",\n      \"border-width\": \"1px\",\n      \"border-radius\": \"0\",\n      \"border-style\": \"solid\",\n      \"opacity\": 1,\n      \"position\": \"absolute\",\n      \"top\": 0,\n      \"left\": 0,\n      \"width\": 0,\n      \"height\": 0\n    };\n    _this2._ctx = {\n      group: null,\n      groupID: \"pts\",\n      groupCount: 0,\n      currentID: \"pts0\",\n      currentClass: \"\",\n      style: {}\n    };\n    _this2._ready = false;\n    _this2._space = space;\n\n    _this2._space.add({\n      start: function start() {\n        _this2._ctx.group = _this2._space.element;\n        _this2._ctx.groupID = \"pts_dom_\" + HTMLForm.groupID++;\n        _this2._ctx.style = Object.assign({}, _this2._style);\n        _this2._ready = true;\n      }\n    });\n\n    return _this2;\n  }\n\n  _createClass(HTMLForm, [{\n    key: \"space\",\n    get: function get() {\n      return this._space;\n    }\n  }, {\n    key: \"styleTo\",\n    value: function styleTo(k, v) {\n      var unit = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : '';\n      if (this._ctx.style[k] === undefined) throw new Error(\"\".concat(k, \" style property doesn't exist\"));\n      this._ctx.style[k] = \"\".concat(v).concat(unit);\n    }\n  }, {\n    key: \"alpha\",\n    value: function alpha(a) {\n      this.styleTo(\"opacity\", a);\n      return this;\n    }\n  }, {\n    key: \"fill\",\n    value: function fill(c) {\n      if (typeof c == \"boolean\") {\n        this.styleTo(\"filled\", c);\n        if (!c) this.styleTo(\"background\", \"transparent\");\n      } else {\n        this.styleTo(\"filled\", true);\n        this.styleTo(\"background\", c);\n      }\n\n      return this;\n    }\n  }, {\n    key: \"stroke\",\n    value: function stroke(c, width, linejoin, linecap) {\n      if (typeof c == \"boolean\") {\n        this.styleTo(\"stroked\", c);\n        if (!c) this.styleTo(\"border-width\", 0);\n      } else {\n        this.styleTo(\"stroked\", true);\n        this.styleTo(\"border-color\", c);\n        this.styleTo(\"border-width\", (width || 1) + \"px\");\n      }\n\n      return this;\n    }\n  }, {\n    key: \"fillText\",\n    value: function fillText(c) {\n      this.styleTo(\"color\", c);\n      return this;\n    }\n  }, {\n    key: \"cls\",\n    value: function cls(c) {\n      if (typeof c == \"boolean\") {\n        this._ctx.currentClass = \"\";\n      } else {\n        this._ctx.currentClass = c;\n      }\n\n      return this;\n    }\n  }, {\n    key: \"font\",\n    value: function font(sizeOrFont, weight, style, lineHeight, family) {\n      if (typeof sizeOrFont == \"number\") {\n        this._font.size = sizeOrFont;\n        if (family) this._font.face = family;\n        if (weight) this._font.weight = weight;\n        if (style) this._font.style = style;\n        if (lineHeight) this._font.lineHeight = lineHeight;\n      } else {\n        this._font = sizeOrFont;\n      }\n\n      this._ctx.style['font'] = this._font.value;\n      return this;\n    }\n  }, {\n    key: \"reset\",\n    value: function reset() {\n      this._ctx.style = Object.assign({}, this._style);\n      this._font = new Font(10, \"sans-serif\");\n      this._ctx.style['font'] = this._font.value;\n      return this;\n    }\n  }, {\n    key: \"updateScope\",\n    value: function updateScope(group_id, group) {\n      this._ctx.group = group;\n      this._ctx.groupID = group_id;\n      this._ctx.groupCount = 0;\n      this.nextID();\n      return this._ctx;\n    }\n  }, {\n    key: \"scope\",\n    value: function scope(item) {\n      if (!item || item.animateID == null) throw new Error(\"item not defined or not yet added to Space\");\n      return this.updateScope(HTMLForm.scopeID(item), this.space.element);\n    }\n  }, {\n    key: \"nextID\",\n    value: function nextID() {\n      this._ctx.groupCount++;\n      this._ctx.currentID = \"\".concat(this._ctx.groupID, \"-\").concat(this._ctx.groupCount);\n      return this._ctx.currentID;\n    }\n  }, {\n    key: \"point\",\n    value: function point(pt) {\n      var radius = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 5;\n      var shape = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : \"square\";\n      this.nextID();\n      if (shape == \"circle\") this.styleTo(\"border-radius\", \"100%\");\n      HTMLForm.point(this._ctx, pt, radius, shape);\n      return this;\n    }\n  }, {\n    key: \"circle\",\n    value: function circle(pts) {\n      this.nextID();\n      this.styleTo(\"border-radius\", \"100%\");\n      HTMLForm.circle(this._ctx, pts[0], pts[1][0]);\n      return this;\n    }\n  }, {\n    key: \"square\",\n    value: function square(pt, halfsize) {\n      this.nextID();\n      HTMLForm.square(this._ctx, pt, halfsize);\n      return this;\n    }\n  }, {\n    key: \"rect\",\n    value: function rect(pts) {\n      this.nextID();\n      this.styleTo(\"border-radius\", \"0\");\n      HTMLForm.rect(this._ctx, pts);\n      return this;\n    }\n  }, {\n    key: \"text\",\n    value: function text(pt, txt) {\n      this.nextID();\n      HTMLForm.text(this._ctx, pt, txt);\n      return this;\n    }\n  }, {\n    key: \"log\",\n    value: function log(txt) {\n      this.fill(\"#000\").stroke(\"#fff\", 0.5).text([10, 14], txt);\n      return this;\n    }\n  }, {\n    key: \"arc\",\n    value: function arc(pt, radius, startAngle, endAngle, cc) {\n      Util.warn(\"arc is not implemented in HTMLForm\");\n      return this;\n    }\n  }, {\n    key: \"line\",\n    value: function line(pts) {\n      Util.warn(\"line is not implemented in HTMLForm\");\n      return this;\n    }\n  }, {\n    key: \"polygon\",\n    value: function polygon(pts) {\n      Util.warn(\"polygon is not implemented in HTMLForm\");\n      return this;\n    }\n  }], [{\n    key: \"getID\",\n    value: function getID(ctx) {\n      return ctx.currentID || \"p-\".concat(HTMLForm.domID++);\n    }\n  }, {\n    key: \"scopeID\",\n    value: function scopeID(item) {\n      return \"item-\".concat(item.animateID);\n    }\n  }, {\n    key: \"style\",\n    value: function style(elem, styles) {\n      var st = [];\n      if (!styles[\"filled\"]) st.push(\"background: none\");\n      if (!styles[\"stroked\"]) st.push(\"border: none\");\n\n      for (var k in styles) {\n        if (styles.hasOwnProperty(k) && k != \"filled\" && k != \"stroked\") {\n          var v = styles[k];\n\n          if (v) {\n            if (!styles[\"filled\"] && k.indexOf('background') === 0) {\n              continue;\n            } else if (!styles[\"stroked\"] && k.indexOf('border-width') === 0) {\n              continue;\n            } else {\n              st.push(\"\".concat(k, \": \").concat(v));\n            }\n          }\n        }\n      }\n\n      return HTMLSpace.setAttr(elem, {\n        style: st.join(\";\")\n      });\n    }\n  }, {\n    key: \"rectStyle\",\n    value: function rectStyle(ctx, pt, size) {\n      ctx.style[\"left\"] = pt[0] + \"px\";\n      ctx.style[\"top\"] = pt[1] + \"px\";\n      ctx.style[\"width\"] = size[0] + \"px\";\n      ctx.style[\"height\"] = size[1] + \"px\";\n      return ctx;\n    }\n  }, {\n    key: \"textStyle\",\n    value: function textStyle(ctx, pt) {\n      ctx.style[\"left\"] = pt[0] + \"px\";\n      ctx.style[\"top\"] = pt[1] + \"px\";\n      return ctx;\n    }\n  }, {\n    key: \"point\",\n    value: function point(ctx, pt) {\n      var radius = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 5;\n      var shape = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : \"square\";\n\n      if (shape === \"circle\") {\n        return HTMLForm.circle(ctx, pt, radius);\n      } else {\n        return HTMLForm.square(ctx, pt, radius);\n      }\n    }\n  }, {\n    key: \"circle\",\n    value: function circle(ctx, pt) {\n      var radius = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 10;\n      var elem = HTMLSpace.htmlElement(ctx.group, \"div\", HTMLForm.getID(ctx));\n      HTMLSpace.setAttr(elem, {\n        class: \"pts-form pts-circle \".concat(ctx.currentClass)\n      });\n      HTMLForm.rectStyle(ctx, new Pt(pt).$subtract(radius), new Pt(radius * 2, radius * 2));\n      HTMLForm.style(elem, ctx.style);\n      return elem;\n    }\n  }, {\n    key: \"square\",\n    value: function square(ctx, pt, halfsize) {\n      var elem = HTMLSpace.htmlElement(ctx.group, \"div\", HTMLForm.getID(ctx));\n      HTMLSpace.setAttr(elem, {\n        class: \"pts-form pts-square \".concat(ctx.currentClass)\n      });\n      HTMLForm.rectStyle(ctx, new Pt(pt).$subtract(halfsize), new Pt(halfsize * 2, halfsize * 2));\n      HTMLForm.style(elem, ctx.style);\n      return elem;\n    }\n  }, {\n    key: \"rect\",\n    value: function rect(ctx, pts) {\n      var p = Util.iterToArray(pts);\n      if (!Util.arrayCheck(p)) return;\n      var elem = HTMLSpace.htmlElement(ctx.group, \"div\", HTMLForm.getID(ctx));\n      HTMLSpace.setAttr(elem, {\n        class: \"pts-form pts-rect \".concat(ctx.currentClass)\n      });\n      HTMLForm.rectStyle(ctx, p[0], p[1]);\n      HTMLForm.style(elem, ctx.style);\n      return elem;\n    }\n  }, {\n    key: \"text\",\n    value: function text(ctx, pt, txt) {\n      var elem = HTMLSpace.htmlElement(ctx.group, \"div\", HTMLForm.getID(ctx));\n      HTMLSpace.setAttr(elem, {\n        class: \"pts-form pts-text \".concat(ctx.currentClass)\n      });\n      elem.textContent = txt;\n      HTMLForm.textStyle(ctx, pt);\n      HTMLForm.style(elem, ctx.style);\n      return elem;\n    }\n  }]);\n\n  return HTMLForm;\n}(VisualForm);\nHTMLForm.groupID = 0;\nHTMLForm.domID = 0;","import _classCallCheck from \"/Users/usarneme/Projects/gatsby-portfolio/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/usarneme/Projects/gatsby-portfolio/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _get from \"/Users/usarneme/Projects/gatsby-portfolio/node_modules/@babel/runtime/helpers/esm/get\";\nimport _inherits from \"/Users/usarneme/Projects/gatsby-portfolio/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _possibleConstructorReturn from \"/Users/usarneme/Projects/gatsby-portfolio/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/usarneme/Projects/gatsby-portfolio/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\n\nfunction _createForOfIteratorHelper(o, allowArrayLike) { var it; if (typeof Symbol === \"undefined\" || o[Symbol.iterator] == null) { if (Array.isArray(o) || (it = _unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === \"number\") { if (it) o = it; var i = 0; var F = function F() {}; return { s: F, n: function n() { if (i >= o.length) return { done: true }; return { done: false, value: o[i++] }; }, e: function e(_e) { throw _e; }, f: F }; } throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); } var normalCompletion = true, didErr = false, err; return { s: function s() { it = o[Symbol.iterator](); }, n: function n() { var step = it.next(); normalCompletion = step.done; return step; }, e: function e(_e2) { didErr = true; err = _e2; }, f: function f() { try { if (!normalCompletion && it.return != null) it.return(); } finally { if (didErr) throw err; } } }; }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\n/*! Source code licensed under Apache License 2.0. Copyright © 2017-current William Ngan and contributors. (https://github.com/williamngan/pts) */\nimport { VisualForm, Font } from \"./Form\";\nimport { Geom } from './Num';\nimport { Const, Util } from './Util';\nimport { Pt, Group } from './Pt';\nimport { Rectangle } from \"./Op\";\nimport { DOMSpace } from \"./Dom\";\nexport var SVGSpace = /*#__PURE__*/function (_DOMSpace) {\n  _inherits(SVGSpace, _DOMSpace);\n\n  var _super = _createSuper(SVGSpace);\n\n  function SVGSpace(elem, callback) {\n    var _this;\n\n    _classCallCheck(this, SVGSpace);\n\n    _this = _super.call(this, elem, callback);\n    _this._bgcolor = \"#999\";\n\n    if (_this._canvas.nodeName.toLowerCase() != \"svg\") {\n      var s = SVGSpace.svgElement(_this._canvas, \"svg\", \"\".concat(_this.id, \"_svg\"));\n      _this._container = _this._canvas;\n      _this._canvas = s;\n    }\n\n    return _this;\n  }\n\n  _createClass(SVGSpace, [{\n    key: \"getForm\",\n    value: function getForm() {\n      return new SVGForm(this);\n    }\n  }, {\n    key: \"element\",\n    get: function get() {\n      return this._canvas;\n    }\n  }, {\n    key: \"resize\",\n    value: function resize(b, evt) {\n      _get(_getPrototypeOf(SVGSpace.prototype), \"resize\", this).call(this, b, evt);\n\n      SVGSpace.setAttr(this.element, {\n        \"viewBox\": \"0 0 \".concat(this.bound.width, \" \").concat(this.bound.height),\n        \"width\": \"\".concat(this.bound.width),\n        \"height\": \"\".concat(this.bound.height),\n        \"xmlns\": \"http://www.w3.org/2000/svg\",\n        \"version\": \"1.1\"\n      });\n      return this;\n    }\n  }, {\n    key: \"remove\",\n    value: function remove(player) {\n      var temp = this._container.querySelectorAll(\".\" + SVGForm.scopeID(player));\n\n      temp.forEach(function (el) {\n        el.parentNode.removeChild(el);\n      });\n      return _get(_getPrototypeOf(SVGSpace.prototype), \"remove\", this).call(this, player);\n    }\n  }, {\n    key: \"removeAll\",\n    value: function removeAll() {\n      this._container.innerHTML = \"\";\n      return _get(_getPrototypeOf(SVGSpace.prototype), \"removeAll\", this).call(this);\n    }\n  }], [{\n    key: \"svgElement\",\n    value: function svgElement(parent, name, id) {\n      if (!parent || !parent.appendChild) throw new Error(\"parent is not a valid DOM element\");\n      var elem = document.querySelector(\"#\".concat(id));\n\n      if (!elem) {\n        elem = document.createElementNS(\"http://www.w3.org/2000/svg\", name);\n        elem.setAttribute(\"id\", id);\n        parent.appendChild(elem);\n      }\n\n      return elem;\n    }\n  }]);\n\n  return SVGSpace;\n}(DOMSpace);\nexport var SVGForm = /*#__PURE__*/function (_VisualForm) {\n  _inherits(SVGForm, _VisualForm);\n\n  var _super2 = _createSuper(SVGForm);\n\n  function SVGForm(space) {\n    var _this2;\n\n    _classCallCheck(this, SVGForm);\n\n    _this2 = _super2.call(this);\n    _this2._style = {\n      \"filled\": true,\n      \"stroked\": true,\n      \"fill\": \"#f03\",\n      \"stroke\": \"#fff\",\n      \"stroke-width\": 1,\n      \"stroke-linejoin\": \"bevel\",\n      \"stroke-linecap\": \"sqaure\",\n      \"opacity\": 1\n    };\n    _this2._ctx = {\n      group: null,\n      groupID: \"pts\",\n      groupCount: 0,\n      currentID: \"pts0\",\n      currentClass: \"\",\n      style: {}\n    };\n    _this2._ready = false;\n    _this2._space = space;\n\n    _this2._space.add({\n      start: function start() {\n        _this2._ctx.group = _this2._space.element;\n        _this2._ctx.groupID = \"pts_svg_\" + SVGForm.groupID++;\n        _this2._ctx.style = Object.assign({}, _this2._style);\n        _this2._ready = true;\n      }\n    });\n\n    return _this2;\n  }\n\n  _createClass(SVGForm, [{\n    key: \"space\",\n    get: function get() {\n      return this._space;\n    }\n  }, {\n    key: \"styleTo\",\n    value: function styleTo(k, v) {\n      if (this._ctx.style[k] === undefined) throw new Error(\"\".concat(k, \" style property doesn't exist\"));\n      this._ctx.style[k] = v;\n    }\n  }, {\n    key: \"alpha\",\n    value: function alpha(a) {\n      this.styleTo(\"opacity\", a);\n      return this;\n    }\n  }, {\n    key: \"fill\",\n    value: function fill(c) {\n      if (typeof c == \"boolean\") {\n        this.styleTo(\"filled\", c);\n      } else {\n        this.styleTo(\"filled\", true);\n        this.styleTo(\"fill\", c);\n      }\n\n      return this;\n    }\n  }, {\n    key: \"stroke\",\n    value: function stroke(c, width, linejoin, linecap) {\n      if (typeof c == \"boolean\") {\n        this.styleTo(\"stroked\", c);\n      } else {\n        this.styleTo(\"stroked\", true);\n        this.styleTo(\"stroke\", c);\n        if (width) this.styleTo(\"stroke-width\", width);\n        if (linejoin) this.styleTo(\"stroke-linejoin\", linejoin);\n        if (linecap) this.styleTo(\"stroke-linecap\", linecap);\n      }\n\n      return this;\n    }\n  }, {\n    key: \"cls\",\n    value: function cls(c) {\n      if (typeof c == \"boolean\") {\n        this._ctx.currentClass = \"\";\n      } else {\n        this._ctx.currentClass = c;\n      }\n\n      return this;\n    }\n  }, {\n    key: \"font\",\n    value: function font(sizeOrFont, weight, style, lineHeight, family) {\n      if (typeof sizeOrFont == \"number\") {\n        this._font.size = sizeOrFont;\n        if (family) this._font.face = family;\n        if (weight) this._font.weight = weight;\n        if (style) this._font.style = style;\n        if (lineHeight) this._font.lineHeight = lineHeight;\n      } else {\n        this._font = sizeOrFont;\n      }\n\n      this._ctx.style['font'] = this._font.value;\n      return this;\n    }\n  }, {\n    key: \"reset\",\n    value: function reset() {\n      this._ctx.style = Object.assign({}, this._style);\n      this._font = new Font(10, \"sans-serif\");\n      this._ctx.style['font'] = this._font.value;\n      return this;\n    }\n  }, {\n    key: \"updateScope\",\n    value: function updateScope(group_id, group) {\n      this._ctx.group = group;\n      this._ctx.groupID = group_id;\n      this._ctx.groupCount = 0;\n      this.nextID();\n      return this._ctx;\n    }\n  }, {\n    key: \"scope\",\n    value: function scope(item) {\n      if (!item || item.animateID == null) throw new Error(\"item not defined or not yet added to Space\");\n      return this.updateScope(SVGForm.scopeID(item), this.space.element);\n    }\n  }, {\n    key: \"nextID\",\n    value: function nextID() {\n      this._ctx.groupCount++;\n      this._ctx.currentID = \"\".concat(this._ctx.groupID, \"-\").concat(this._ctx.groupCount);\n      return this._ctx.currentID;\n    }\n  }, {\n    key: \"point\",\n    value: function point(pt) {\n      var radius = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 5;\n      var shape = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : \"square\";\n      this.nextID();\n      SVGForm.point(this._ctx, pt, radius, shape);\n      return this;\n    }\n  }, {\n    key: \"circle\",\n    value: function circle(pts) {\n      this.nextID();\n      var p = Util.iterToArray(pts);\n      SVGForm.circle(this._ctx, p[0], p[1][0]);\n      return this;\n    }\n  }, {\n    key: \"arc\",\n    value: function arc(pt, radius, startAngle, endAngle, cc) {\n      this.nextID();\n      SVGForm.arc(this._ctx, pt, radius, startAngle, endAngle, cc);\n      return this;\n    }\n  }, {\n    key: \"square\",\n    value: function square(pt, halfsize) {\n      this.nextID();\n      SVGForm.square(this._ctx, pt, halfsize);\n      return this;\n    }\n  }, {\n    key: \"line\",\n    value: function line(pts) {\n      this.nextID();\n      SVGForm.line(this._ctx, pts);\n      return this;\n    }\n  }, {\n    key: \"polygon\",\n    value: function polygon(pts) {\n      this.nextID();\n      SVGForm.polygon(this._ctx, pts);\n      return this;\n    }\n  }, {\n    key: \"rect\",\n    value: function rect(pts) {\n      this.nextID();\n      SVGForm.rect(this._ctx, pts);\n      return this;\n    }\n  }, {\n    key: \"text\",\n    value: function text(pt, txt) {\n      this.nextID();\n      SVGForm.text(this._ctx, pt, txt);\n      return this;\n    }\n  }, {\n    key: \"log\",\n    value: function log(txt) {\n      this.fill(\"#000\").stroke(\"#fff\", 0.5).text([10, 14], txt);\n      return this;\n    }\n  }], [{\n    key: \"getID\",\n    value: function getID(ctx) {\n      return ctx.currentID || \"p-\".concat(SVGForm.domID++);\n    }\n  }, {\n    key: \"scopeID\",\n    value: function scopeID(item) {\n      return \"item-\".concat(item.animateID);\n    }\n  }, {\n    key: \"style\",\n    value: function style(elem, styles) {\n      var st = [];\n      if (!styles[\"filled\"]) st.push(\"fill: none\");\n      if (!styles[\"stroked\"]) st.push(\"stroke: none\");\n\n      for (var k in styles) {\n        if (styles.hasOwnProperty(k) && k != \"filled\" && k != \"stroked\") {\n          var v = styles[k];\n\n          if (v) {\n            if (!styles[\"filled\"] && k.indexOf('fill') === 0) {\n              continue;\n            } else if (!styles[\"stroked\"] && k.indexOf('stroke') === 0) {\n              continue;\n            } else {\n              st.push(\"\".concat(k, \": \").concat(v));\n            }\n          }\n        }\n      }\n\n      return DOMSpace.setAttr(elem, {\n        style: st.join(\";\")\n      });\n    }\n  }, {\n    key: \"point\",\n    value: function point(ctx, pt) {\n      var radius = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 5;\n      var shape = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : \"square\";\n\n      if (shape === \"circle\") {\n        return SVGForm.circle(ctx, pt, radius);\n      } else {\n        return SVGForm.square(ctx, pt, radius);\n      }\n    }\n  }, {\n    key: \"circle\",\n    value: function circle(ctx, pt) {\n      var radius = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 10;\n      var elem = SVGSpace.svgElement(ctx.group, \"circle\", SVGForm.getID(ctx));\n      DOMSpace.setAttr(elem, {\n        cx: pt[0],\n        cy: pt[1],\n        r: radius,\n        'class': \"pts-svgform pts-circle \".concat(ctx.currentClass)\n      });\n      SVGForm.style(elem, ctx.style);\n      return elem;\n    }\n  }, {\n    key: \"arc\",\n    value: function arc(ctx, pt, radius, startAngle, endAngle, cc) {\n      var elem = SVGSpace.svgElement(ctx.group, \"path\", SVGForm.getID(ctx));\n      var start = new Pt(pt).toAngle(startAngle, radius, true);\n      var end = new Pt(pt).toAngle(endAngle, radius, true);\n      var diff = Geom.boundAngle(endAngle) - Geom.boundAngle(startAngle);\n      var largeArc = diff > Const.pi ? true : false;\n      if (cc) largeArc = !largeArc;\n      var sweep = cc ? \"0\" : \"1\";\n      var d = \"M \".concat(start[0], \" \").concat(start[1], \" A \").concat(radius, \" \").concat(radius, \" 0 \").concat(largeArc ? \"1\" : \"0\", \" \").concat(sweep, \" \").concat(end[0], \" \").concat(end[1]);\n      DOMSpace.setAttr(elem, {\n        d: d,\n        'class': \"pts-svgform pts-arc \".concat(ctx.currentClass)\n      });\n      SVGForm.style(elem, ctx.style);\n      return elem;\n    }\n  }, {\n    key: \"square\",\n    value: function square(ctx, pt, halfsize) {\n      var elem = SVGSpace.svgElement(ctx.group, \"rect\", SVGForm.getID(ctx));\n      DOMSpace.setAttr(elem, {\n        x: pt[0] - halfsize,\n        y: pt[1] - halfsize,\n        width: halfsize * 2,\n        height: halfsize * 2,\n        'class': \"pts-svgform pts-square \".concat(ctx.currentClass)\n      });\n      SVGForm.style(elem, ctx.style);\n      return elem;\n    }\n  }, {\n    key: \"line\",\n    value: function line(ctx, pts) {\n      var points = SVGForm.pointsString(pts);\n      if (points.count < 2) return;\n      if (points.count > 2) return SVGForm._poly(ctx, points.string, false);\n      var elem = SVGSpace.svgElement(ctx.group, \"line\", SVGForm.getID(ctx));\n      var p = Util.iterToArray(pts);\n      DOMSpace.setAttr(elem, {\n        x1: p[0][0],\n        y1: p[0][1],\n        x2: p[1][0],\n        y2: p[1][1],\n        'class': \"pts-svgform pts-line \".concat(ctx.currentClass)\n      });\n      SVGForm.style(elem, ctx.style);\n      return elem;\n    }\n  }, {\n    key: \"_poly\",\n    value: function _poly(ctx, points) {\n      var closePath = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : true;\n      var elem = SVGSpace.svgElement(ctx.group, closePath ? \"polygon\" : \"polyline\", SVGForm.getID(ctx));\n      DOMSpace.setAttr(elem, {\n        points: points,\n        'class': \"pts-svgform pts-polygon \".concat(ctx.currentClass)\n      });\n      SVGForm.style(elem, ctx.style);\n      return elem;\n    }\n  }, {\n    key: \"pointsString\",\n    value: function pointsString(pts) {\n      var points = \"\";\n      var count = 0;\n\n      var _iterator = _createForOfIteratorHelper(pts),\n          _step;\n\n      try {\n        for (_iterator.s(); !(_step = _iterator.n()).done;) {\n          var p = _step.value;\n          points += \"\".concat(p[0], \",\").concat(p[1], \" \");\n          count++;\n        }\n      } catch (err) {\n        _iterator.e(err);\n      } finally {\n        _iterator.f();\n      }\n\n      return {\n        string: points,\n        count: count\n      };\n    }\n  }, {\n    key: \"polygon\",\n    value: function polygon(ctx, pts) {\n      var points = SVGForm.pointsString(pts);\n      return SVGForm._poly(ctx, points.string, true);\n    }\n  }, {\n    key: \"rect\",\n    value: function rect(ctx, pts) {\n      if (!Util.arrayCheck(pts)) return;\n      var elem = SVGSpace.svgElement(ctx.group, \"rect\", SVGForm.getID(ctx));\n      var bound = Group.fromArray(pts).boundingBox();\n      var size = Rectangle.size(bound);\n      DOMSpace.setAttr(elem, {\n        x: bound[0][0],\n        y: bound[0][1],\n        width: size[0],\n        height: size[1],\n        'class': \"pts-svgform pts-rect \".concat(ctx.currentClass)\n      });\n      SVGForm.style(elem, ctx.style);\n      return elem;\n    }\n  }, {\n    key: \"text\",\n    value: function text(ctx, pt, txt) {\n      var elem = SVGSpace.svgElement(ctx.group, \"text\", SVGForm.getID(ctx));\n      DOMSpace.setAttr(elem, {\n        \"pointer-events\": \"none\",\n        x: pt[0],\n        y: pt[1],\n        dx: 0,\n        dy: 0,\n        'class': \"pts-svgform pts-text \".concat(ctx.currentClass)\n      });\n      elem.textContent = txt;\n      SVGForm.style(elem, ctx.style);\n      return elem;\n    }\n  }]);\n\n  return SVGForm;\n}(VisualForm);\nSVGForm.groupID = 0;\nSVGForm.domID = 0;","import _slicedToArray from \"/Users/usarneme/Projects/gatsby-portfolio/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nimport _construct from \"/Users/usarneme/Projects/gatsby-portfolio/node_modules/@babel/runtime/helpers/esm/construct\";\nimport _inherits from \"/Users/usarneme/Projects/gatsby-portfolio/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _possibleConstructorReturn from \"/Users/usarneme/Projects/gatsby-portfolio/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/usarneme/Projects/gatsby-portfolio/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _classCallCheck from \"/Users/usarneme/Projects/gatsby-portfolio/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/usarneme/Projects/gatsby-portfolio/node_modules/@babel/runtime/helpers/esm/createClass\";\n\nfunction _createForOfIteratorHelper(o, allowArrayLike) { var it; if (typeof Symbol === \"undefined\" || o[Symbol.iterator] == null) { if (Array.isArray(o) || (it = _unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === \"number\") { if (it) o = it; var i = 0; var F = function F() {}; return { s: F, n: function n() { if (i >= o.length) return { done: true }; return { done: false, value: o[i++] }; }, e: function e(_e) { throw _e; }, f: F }; } throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); } var normalCompletion = true, didErr = false, err; return { s: function s() { it = o[Symbol.iterator](); }, n: function n() { var step = it.next(); normalCompletion = step.done; return step; }, e: function e(_e2) { didErr = true; err = _e2; }, f: function f() { try { if (!normalCompletion && it.return != null) it.return(); } finally { if (didErr) throw err; } } }; }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\n/*! Source code licensed under Apache License 2.0. Copyright © 2017-current William Ngan and contributors. (https://github.com/williamngan/pts) */\nimport { Pt, Group, Bound } from \"./Pt\";\nimport { Polygon, Circle } from \"./Op\";\nimport { Geom } from \"./Num\";\nexport var World = /*#__PURE__*/function () {\n  function World(bound) {\n    var friction = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 1;\n    var gravity = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 0;\n\n    _classCallCheck(this, World);\n\n    this._lastTime = null;\n    this._gravity = new Pt();\n    this._friction = 1;\n    this._damping = 0.75;\n    this._particles = [];\n    this._bodies = [];\n    this._pnames = [];\n    this._bnames = [];\n    this._bound = Bound.fromGroup(bound);\n    this._friction = friction;\n    this._gravity = typeof gravity === \"number\" ? new Pt(0, gravity) : new Pt(gravity);\n    return this;\n  }\n\n  _createClass(World, [{\n    key: \"bound\",\n    get: function get() {\n      return this._bound;\n    },\n    set: function set(bound) {\n      this._bound = bound;\n    }\n  }, {\n    key: \"gravity\",\n    get: function get() {\n      return this._gravity;\n    },\n    set: function set(g) {\n      this._gravity = g;\n    }\n  }, {\n    key: \"friction\",\n    get: function get() {\n      return this._friction;\n    },\n    set: function set(f) {\n      this._friction = f;\n    }\n  }, {\n    key: \"damping\",\n    get: function get() {\n      return this._damping;\n    },\n    set: function set(f) {\n      this._damping = f;\n    }\n  }, {\n    key: \"bodyCount\",\n    get: function get() {\n      return this._bodies.length;\n    }\n  }, {\n    key: \"particleCount\",\n    get: function get() {\n      return this._particles.length;\n    }\n  }, {\n    key: \"body\",\n    value: function body(id) {\n      var idx = id;\n\n      if (typeof id === \"string\" && id.length > 0) {\n        idx = this._bnames.indexOf(id);\n      }\n\n      if (!(idx >= 0)) return undefined;\n      return this._bodies[idx];\n    }\n  }, {\n    key: \"particle\",\n    value: function particle(id) {\n      var idx = id;\n\n      if (typeof id === \"string\" && id.length > 0) {\n        idx = this._pnames.indexOf(id);\n      }\n\n      if (!(idx >= 0)) return undefined;\n      return this._particles[idx];\n    }\n  }, {\n    key: \"bodyIndex\",\n    value: function bodyIndex(name) {\n      return this._bnames.indexOf(name);\n    }\n  }, {\n    key: \"particleIndex\",\n    value: function particleIndex(name) {\n      return this._pnames.indexOf(name);\n    }\n  }, {\n    key: \"update\",\n    value: function update(ms) {\n      var dt = ms / 1000;\n\n      this._updateParticles(dt);\n\n      this._updateBodies(dt);\n    }\n  }, {\n    key: \"drawParticles\",\n    value: function drawParticles(fn) {\n      this._drawParticles = fn;\n    }\n  }, {\n    key: \"drawBodies\",\n    value: function drawBodies(fn) {\n      this._drawBodies = fn;\n    }\n  }, {\n    key: \"add\",\n    value: function add(p) {\n      var name = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : '';\n\n      if (p instanceof Body) {\n        this._bodies.push(p);\n\n        this._bnames.push(name);\n      } else {\n        this._particles.push(p);\n\n        this._pnames.push(name);\n      }\n\n      return this;\n    }\n  }, {\n    key: \"_index\",\n    value: function _index(fn, id) {\n      var index = 0;\n\n      if (typeof id === \"string\") {\n        index = fn(id);\n        if (index < 0) throw new Error(\"Cannot find index of \".concat(id, \". You can use particleIndex() or bodyIndex() function to check existence by name.\"));\n      } else {\n        index = id;\n      }\n\n      return index;\n    }\n  }, {\n    key: \"removeBody\",\n    value: function removeBody(from) {\n      var count = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 1;\n\n      var index = this._index(this.bodyIndex.bind(this), from);\n\n      var param = index < 0 ? [index * -1 - 1, count] : [index, count];\n\n      this._bodies.splice(param[0], param[1]);\n\n      this._bnames.splice(param[0], param[1]);\n\n      return this;\n    }\n  }, {\n    key: \"removeParticle\",\n    value: function removeParticle(from) {\n      var count = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 1;\n\n      var index = this._index(this.particleIndex.bind(this), from);\n\n      var param = index < 0 ? [index * -1 - 1, count] : [index, count];\n\n      this._particles.splice(param[0], param[1]);\n\n      this._pnames.splice(param[0], param[1]);\n\n      return this;\n    }\n  }, {\n    key: \"integrate\",\n    value: function integrate(p, dt, prevDt) {\n      p.addForce(this._gravity);\n      p.verlet(dt, this._friction, prevDt);\n      return p;\n    }\n  }, {\n    key: \"_updateParticles\",\n    value: function _updateParticles(dt) {\n      for (var i = 0, len = this._particles.length; i < len; i++) {\n        var p = this._particles[i];\n        this.integrate(p, dt, this._lastTime);\n        World.boundConstraint(p, this._bound, this._damping);\n\n        for (var k = i + 1; k < len; k++) {\n          if (i !== k) {\n            var p2 = this._particles[k];\n            p.collide(p2, this._damping);\n          }\n        }\n\n        if (this._drawParticles) this._drawParticles(p, i);\n      }\n\n      this._lastTime = dt;\n    }\n  }, {\n    key: \"_updateBodies\",\n    value: function _updateBodies(dt) {\n      for (var i = 0, len = this._bodies.length; i < len; i++) {\n        var bds = this._bodies[i];\n\n        if (bds) {\n          for (var k = 0, klen = bds.length; k < klen; k++) {\n            var bk = bds[k];\n            World.boundConstraint(bk, this._bound, this._damping);\n            this.integrate(bk, dt, this._lastTime);\n          }\n\n          for (var _k = i + 1; _k < len; _k++) {\n            bds.processBody(this._bodies[_k]);\n          }\n\n          for (var m = 0, mlen = this._particles.length; m < mlen; m++) {\n            bds.processParticle(this._particles[m]);\n          }\n\n          bds.processEdges();\n          if (this._drawBodies) this._drawBodies(bds, i);\n        }\n      }\n    }\n  }], [{\n    key: \"edgeConstraint\",\n    value: function edgeConstraint(p1, p2, dist) {\n      var stiff = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : 1;\n      var precise = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : false;\n      var m1 = 1 / (p1.mass || 1);\n      var m2 = 1 / (p2.mass || 1);\n      var mm = m1 + m2;\n      var delta = p2.$subtract(p1);\n      var distSq = dist * dist;\n      var d = precise ? dist / delta.magnitude() - 1 : distSq / (delta.dot(delta) + distSq) - 0.5;\n      var f = delta.$multiply(d * stiff);\n      p1.subtract(f.$multiply(m1 / mm));\n      p2.add(f.$multiply(m2 / mm));\n      return p1;\n    }\n  }, {\n    key: \"boundConstraint\",\n    value: function boundConstraint(p, rect) {\n      var damping = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 0.75;\n      var bound = Geom.boundingBox(rect);\n      var np = p.$min(bound[1].subtract(p.radius)).$max(bound[0].add(p.radius));\n\n      if (np[0] === bound[0][0] || np[0] === bound[1][0]) {\n        var c = p.changed.$multiply(damping);\n        p.previous = np.$subtract(new Pt(-c[0], c[1]));\n      } else if (np[1] === bound[0][1] || np[1] === bound[1][1]) {\n        var _c = p.changed.$multiply(damping);\n\n        p.previous = np.$subtract(new Pt(_c[0], -_c[1]));\n      }\n\n      p.to(np);\n    }\n  }]);\n\n  return World;\n}();\nexport var Particle = /*#__PURE__*/function (_Pt) {\n  _inherits(Particle, _Pt);\n\n  var _super = _createSuper(Particle);\n\n  function Particle() {\n    var _this;\n\n    _classCallCheck(this, Particle);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _super.call.apply(_super, [this].concat(args));\n    _this._mass = 1;\n    _this._radius = 0;\n    _this._force = new Pt();\n    _this._prev = new Pt();\n    _this._lock = false;\n    _this._prev = _this.clone();\n    return _this;\n  }\n\n  _createClass(Particle, [{\n    key: \"mass\",\n    get: function get() {\n      return this._mass;\n    },\n    set: function set(m) {\n      this._mass = m;\n    }\n  }, {\n    key: \"radius\",\n    get: function get() {\n      return this._radius;\n    },\n    set: function set(f) {\n      this._radius = f;\n    }\n  }, {\n    key: \"previous\",\n    get: function get() {\n      return this._prev;\n    },\n    set: function set(p) {\n      this._prev = p;\n    }\n  }, {\n    key: \"force\",\n    get: function get() {\n      return this._force;\n    },\n    set: function set(g) {\n      this._force = g;\n    }\n  }, {\n    key: \"body\",\n    get: function get() {\n      return this._body;\n    },\n    set: function set(b) {\n      this._body = b;\n    }\n  }, {\n    key: \"lock\",\n    get: function get() {\n      return this._lock;\n    },\n    set: function set(b) {\n      this._lock = b;\n      this._lockPt = new Pt(this);\n    }\n  }, {\n    key: \"changed\",\n    get: function get() {\n      return this.$subtract(this._prev);\n    }\n  }, {\n    key: \"position\",\n    set: function set(p) {\n      this.previous.to(this);\n      if (this._lock) this._lockPt = p;\n      this.to(p);\n    }\n  }, {\n    key: \"size\",\n    value: function size(r) {\n      this._mass = r;\n      this._radius = r;\n      return this;\n    }\n  }, {\n    key: \"addForce\",\n    value: function addForce() {\n      var _this$_force;\n\n      (_this$_force = this._force).add.apply(_this$_force, arguments);\n\n      return this._force;\n    }\n  }, {\n    key: \"verlet\",\n    value: function verlet(dt, friction, lastDt) {\n      if (this._lock) {\n        this.to(this._lockPt);\n      } else {\n        var lt = lastDt ? lastDt : dt;\n\n        var a = this._force.multiply(dt * (dt + lt) / 2);\n\n        var v = this.changed.multiply(friction * dt / lt).add(a);\n        this._prev = this.clone();\n        this.add(v);\n        this._force = new Pt();\n      }\n\n      return this;\n    }\n  }, {\n    key: \"hit\",\n    value: function hit() {\n      for (var _len2 = arguments.length, args = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n        args[_key2] = arguments[_key2];\n      }\n\n      this._prev.subtract(_construct(Pt, args).$divide(Math.sqrt(this._mass)));\n\n      return this;\n    }\n  }, {\n    key: \"collide\",\n    value: function collide(p2) {\n      var damp = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 1;\n      var p1 = this;\n      var dp = p1.$subtract(p2);\n      var distSq = dp.magnitudeSq();\n      var dr = p1.radius + p2.radius;\n\n      if (distSq < dr * dr) {\n        var c1 = p1.changed;\n        var c2 = p2.changed;\n        var dist = Math.sqrt(distSq);\n        var d = dp.$multiply((dist - dr) / dist / 2);\n        var np1 = p1.$subtract(d);\n        var np2 = p2.$add(d);\n        p1.to(np1);\n        p2.to(np2);\n        var f1 = damp * dp.dot(c1) / distSq;\n        var f2 = damp * dp.dot(c2) / distSq;\n        var dm1 = p1.mass / (p1.mass + p2.mass);\n        var dm2 = p2.mass / (p1.mass + p2.mass);\n        c1.add(new Pt(f2 * dp[0] - f1 * dp[0], f2 * dp[1] - f1 * dp[1]).$multiply(dm2));\n        c2.add(new Pt(f1 * dp[0] - f2 * dp[0], f1 * dp[1] - f2 * dp[1]).$multiply(dm1));\n        p1.previous = p1.$subtract(c1);\n        p2.previous = p2.$subtract(c2);\n      }\n    }\n  }, {\n    key: \"toString\",\n    value: function toString() {\n      return \"Particle: \".concat(this[0], \" \").concat(this[1], \" | previous \").concat(this._prev[0], \" \").concat(this._prev[1], \" | mass \").concat(this._mass);\n    }\n  }]);\n\n  return Particle;\n}(Pt);\nexport var Body = /*#__PURE__*/function (_Group) {\n  _inherits(Body, _Group);\n\n  var _super2 = _createSuper(Body);\n\n  function Body() {\n    var _this2;\n\n    _classCallCheck(this, Body);\n\n    _this2 = _super2.call(this);\n    _this2._cs = [];\n    _this2._stiff = 1;\n    _this2._locks = {};\n    _this2._mass = 1;\n    return _this2;\n  }\n\n  _createClass(Body, [{\n    key: \"init\",\n    value: function init(body) {\n      var stiff = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 1;\n      var c = new Pt();\n\n      var _iterator = _createForOfIteratorHelper(body),\n          _step;\n\n      try {\n        for (_iterator.s(); !(_step = _iterator.n()).done;) {\n          var li = _step.value;\n          var p = new Particle(li);\n          p.body = this;\n          c.add(li);\n          this.push(p);\n        }\n      } catch (err) {\n        _iterator.e(err);\n      } finally {\n        _iterator.f();\n      }\n\n      this._stiff = stiff;\n      return this;\n    }\n  }, {\n    key: \"mass\",\n    get: function get() {\n      return this._mass;\n    },\n    set: function set(m) {\n      this._mass = m;\n\n      for (var i = 0, len = this.length; i < len; i++) {\n        this[i].mass = this._mass;\n      }\n    }\n  }, {\n    key: \"autoMass\",\n    value: function autoMass() {\n      this.mass = Math.sqrt(Polygon.area(this)) / 10;\n      return this;\n    }\n  }, {\n    key: \"link\",\n    value: function link(index1, index2, stiff) {\n      if (index1 < 0 || index1 >= this.length) throw new Error(\"index1 is not in the Group's indices\");\n      if (index2 < 0 || index2 >= this.length) throw new Error(\"index1 is not in the Group's indices\");\n      var d = this[index1].$subtract(this[index2]).magnitude();\n\n      this._cs.push([index1, index2, d, stiff || this._stiff]);\n\n      return this;\n    }\n  }, {\n    key: \"linkAll\",\n    value: function linkAll(stiff) {\n      var half = this.length / 2;\n\n      for (var i = 0, len = this.length; i < len; i++) {\n        var n = i >= len - 1 ? 0 : i + 1;\n        this.link(i, n, stiff);\n\n        if (len > 4) {\n          var nd = Math.floor(half / 2) + 1;\n          var n2 = i >= len - nd ? i % len : i + nd;\n          this.link(i, n2, stiff);\n        }\n\n        if (i <= half - 1) {\n          this.link(i, Math.min(this.length - 1, i + Math.floor(half)));\n        }\n      }\n    }\n  }, {\n    key: \"linksToLines\",\n    value: function linksToLines() {\n      var gs = [];\n\n      for (var i = 0, len = this._cs.length; i < len; i++) {\n        var ln = this._cs[i];\n        gs.push(new Group(this[ln[0]], this[ln[1]]));\n      }\n\n      return gs;\n    }\n  }, {\n    key: \"processEdges\",\n    value: function processEdges() {\n      for (var i = 0, len = this._cs.length; i < len; i++) {\n        var _this$_cs$i = _slicedToArray(this._cs[i], 4),\n            m = _this$_cs$i[0],\n            n = _this$_cs$i[1],\n            d = _this$_cs$i[2],\n            s = _this$_cs$i[3];\n\n        World.edgeConstraint(this[m], this[n], d, s);\n      }\n    }\n  }, {\n    key: \"processBody\",\n    value: function processBody(b) {\n      var b1 = this;\n      var b2 = b;\n      var hit = Polygon.hasIntersectPolygon(b1, b2);\n\n      if (hit) {\n        var cv = hit.normal.$multiply(hit.dist);\n        var t;\n        var eg = hit.edge;\n\n        if (Math.abs(eg[0][0] - eg[1][0]) > Math.abs(eg[0][1] - eg[1][1])) {\n          t = (hit.vertex[0] - cv[0] - eg[0][0]) / (eg[1][0] - eg[0][0]);\n        } else {\n          t = (hit.vertex[1] - cv[1] - eg[0][1]) / (eg[1][1] - eg[0][1]);\n        }\n\n        var lambda = 1 / (t * t + (1 - t) * (1 - t));\n        var m0 = hit.vertex.body.mass || 1;\n        var m1 = hit.edge[0].body.mass || 1;\n        var mr0 = m0 / (m0 + m1);\n        var mr1 = m1 / (m0 + m1);\n        eg[0].subtract(cv.$multiply(mr0 * (1 - t) * lambda / 2));\n        eg[1].subtract(cv.$multiply(mr0 * t * lambda / 2));\n        hit.vertex.add(cv.$multiply(mr1));\n      }\n    }\n  }, {\n    key: \"processParticle\",\n    value: function processParticle(b) {\n      var b1 = this;\n      var b2 = b;\n      var hit = Polygon.hasIntersectCircle(b1, Circle.fromCenter(b, b.radius));\n\n      if (hit) {\n        var cv = hit.normal.$multiply(hit.dist);\n        var t;\n        var eg = hit.edge;\n\n        if (Math.abs(eg[0][0] - eg[1][0]) > Math.abs(eg[0][1] - eg[1][1])) {\n          t = (hit.vertex[0] - cv[0] - eg[0][0]) / (eg[1][0] - eg[0][0]);\n        } else {\n          t = (hit.vertex[1] - cv[1] - eg[0][1]) / (eg[1][1] - eg[0][1]);\n        }\n\n        var lambda = 1 / (t * t + (1 - t) * (1 - t));\n        var m0 = hit.vertex.mass || b2.mass || 1;\n        var m1 = hit.edge[0].body.mass || 1;\n        var mr0 = m0 / (m0 + m1);\n        var mr1 = m1 / (m0 + m1);\n        eg[0].subtract(cv.$multiply(mr0 * (1 - t) * lambda / 2));\n        eg[1].subtract(cv.$multiply(mr0 * t * lambda / 2));\n        var c1 = b.changed.add(cv.$multiply(mr1));\n        b.previous = b.$subtract(c1);\n      }\n    }\n  }], [{\n    key: \"fromGroup\",\n    value: function fromGroup(body) {\n      var stiff = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 1;\n      var autoLink = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : true;\n      var autoMass = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : true;\n      var b = new Body().init(body);\n      if (autoLink) b.linkAll(stiff);\n      if (autoMass) b.autoMass();\n      return b;\n    }\n  }]);\n\n  return Body;\n}(Group);","import { Link } from \"gatsby\"\nimport PropTypes from \"prop-types\"\nimport React, { useEffect } from \"react\"\nimport { QuickStartCanvas } from \"react-pts-canvas\"\nimport { Create, Group } from \"pts\"\n\nimport \"./header.css\"\n\n\nclass Header extends React.Component {\n  constructor(props) {\n    super(props)\n    \n    const chartData = []\n    for (let i=-5; i<5; i+=0.1) {\n      chartData.push( (1 / Math.sqrt( 2 * Math.PI * 0.2 ) ) * Math.exp( -(i-0)*(i-0)/(2*0.2) ) )\n    }\n\n    this.state = {\n      chartData: chartData,\n      lines: [],\n      pts: [],\n      right: true,\n      count: 0\n    }\n  }\n\n\n  render() {\n    return (  \n      <header>\n        <div className=\"header-container\">\n          <div className=\"canvas-container\">\n            <QuickStartCanvas\n              background=\"#252934\"\n              onStart={(bound, space) => {\n                const width = space.innerBound.bottomRight[0]\n                const height = space.innerBound.bottomRight[1]\n                const clusterBoundary = space.innerBound.clone()\n                // many dots start off-screen then rotate in since the canvas shape is unlikely to be a perfect square \n                // ie corrects for vert rect for typical mobile and horiz rect for typical desktop monitors\n                clusterBoundary.bottomRight = Float32Array.from([space.innerBound.bottomRight[0] + width/2, space.innerBound.bottomRight[1] + height/2])\n                clusterBoundary.topLeft = Float32Array.from([space.innerBound.topLeft[0] - width/2, space.innerBound.topLeft[1] - height/2])\n                const pts = Create.distributeRandom( clusterBoundary, 1000 )\n                this.setState({pts: [...pts]})\n              }}\n              resize={true}\n              // play={false}\n              onAnimate={ (space, form, time, ftime) => {\n                const colors = [\"#bbaabb\", \"#bbabbb\"]\n                // const line = new Line([0,0],space.innerBound.bottomRight)\n                let mult = 1\n                // to quicken rotation on smaller screens, it is perceived as moving slower on smaller screens\n                if (space.bound[1][0] < 480) mult = 5 \n                if (this.state.pts && this.state.pts.length > 0) {\n\n                  const group = Group.fromPtArray(this.state.pts)\n                  group.rotate2D(0.0004 * mult, space.bound.center) \n                  \n                  form\n                    .stroke(colors[Math.floor(ftime) % 2])\n                    .fill(colors[Math.floor(ftime) % 2])\n                    // .line(res)\n                    .points(this.state.pts, 1, \"circle\")\n\n                }\n\n                // console.log(space.bound)\n                // console.log(Object.keys(args))\n                // 0: \"id\"\n                // 1: \"bound\"\n                // 2: \"_time\"\n                // 3: \"players\"\n                // 4: \"playerCount\"\n                // 5: \"_animID\"\n                // 6: \"_pause\"\n                // 7: \"_refresh\"\n                // 8: \"_pointer\"\n                // 9: \"_isReady\"\n                // 10: \"_playing\"\n                // 11: \"_pressed\"\n                // 12: \"_dragged\"\n                // 13: \"_hasMouse\"\n                // 14: \"_hasTouch\"\n                // 15: \"_pixelScale\"\n                // 16: \"_autoResize\"\n                // 17: \"_bgcolor\"\n                // 18: \"_offscreen\"\n                // 19: \"_initialResize\"\n                // 20: \"_canvas\"\n                // 21: \"_container\"\n                // 22: \"_ctx\"\n\n                // _animID: -1\n                // _autoResize: true\n                // _bgcolor: \"#9ab\"\n                // _canvas: <canvas class=\"pts-react-canvas\" width=\"1789\" height=\"422\" style=\"width: 894px; height: 211px;\">​\n                // _container: <div class=\"pts-react\">​\n                // _ctx: CanvasRenderingContext2D { mozTextStyle: \"14px sans-serif\", mozImageSmoothingEnabled: true, globalAlpha: 1, … }\n                // _dragged: false\n                // _hasMouse: true\n                // _hasTouch: true\n                // _initialResize: false\n                // _isReady: true\n                // _offscreen: false\n                // _pause: false\n                // _pixelScale: 2\n                // _playing: false\n                // _pointer: Float32Array [ 447.29998779296875, 105.55000305175781 ]\n                // _pressed: false\n                // _refresh: true\n                // _time: Object { prev: 1182.14, diff: 26.440000000000055, end: -1 }\n                // bound: Array [ Float32Array(2), Float32Array(2) ]\n                // id: \"pts_existing_space\"\n                // playerCount: 2\n                // players: Object { pts_existing_space0: {…}, pts_existing_space1: {…} }\n\n                // console.log(space)\n                // _animID: 1406\n                // _autoResize: true\n                // _bgcolor: \"#9ab\"\n                // _canvas: <canvas class=\"pts-react-canvas\" width=\"2592\" height=\"429\" style=\"width: 1296px; height: 214px;\">​\n                // _container: <div class=\"pts-react\">​\n                // _ctx: CanvasRenderingContext2D { mozTextStyle: \"10px sans-serif\", mozImageSmoothingEnabled: true, globalAlpha: 1, … }\n                // _dragged: false\n                // _hasMouse: true\n                // _hasTouch: true\n                // _initialResize: false\n                // _isReady: true\n                // _offscreen: false\n                // _pause: false\n                // _pixelScale: 2\n                // _playing: true\n                // _pointer: Float32Array [ 666.2000122070312, 198.5 ]\n                // _pressed: false\n                // _refresh: true\n                // _time: Object { prev: 94748.18, diff: 16.719999999986612, end: -1 }\n                // bound: Array [ Float32Array(2), Float32Array(2) ]\n                // id: \"pts_existing_space\"\n                // playerCount: 2\n                // players: Object { pts_existing_space0: {…}, pts_existing_space1: {…} }\n\n                // space.bound =>\n                // 0: Float32Array [ 14.5, 14.5 ]\n                // 1: Float32Array [ 1310.5, 229 ]\n                // _bottomRight: Float32Array [ 1310.5, 229 ]\n                // _center: Float32Array [ 662.5, 121.75 ]\n                // _inited: true\n                // _size: Float32Array [ 1296, 214.5 ]\n                // _topLeft: Float32Array [ 14.5, 14.5 ]\n                // length: 2\n\n\n              }}\n            />\n            <span className=\"overlay-span\">\n              <div>\n                <h1>Hi, I'm Tom!</h1>\n                <p>Full Stack Software Developer, Designer, Problem-Solver</p>\n              </div>\n            </span>\n          </div>\n\n          <nav className=\"nav\">\n            <Link to=\"/\" className=\"nav-link\" activeClassName=\"active-nav\">Home</Link>\n            <Link to=\"/CV/\" className=\"nav-link\" activeClassName=\"active-nav\">CV</Link>\n            <Link to=\"/Projects/\" className=\"nav-link\" activeClassName=\"active-nav\">Projects</Link>\n          </nav>\n\n        </div>\n      </header>\n    )\n  }\n}\n\nHeader.propTypes = {\n  siteTitle: PropTypes.string,\n}\n\nHeader.defaultProps = {\n  siteTitle: `Tom's Portfolio and Projects`,\n}\n\nexport default Header\n","/**\n * Layout component that queries for data\n * with Gatsby's StaticQuery component\n *\n * See: https://www.gatsbyjs.org/docs/static-query/\n */\n\nimport React from \"react\"\nimport PropTypes from \"prop-types\"\nimport { StaticQuery, graphql } from \"gatsby\"\nimport { Helmet } from \"react-helmet\"\n\nimport Header from \"./header\"\nimport \"./layout.css\"\n\nconst Layout = ({ children }) => (\n  <StaticQuery\n    query={graphql`\n      query SiteTitleQuery {\n        site {\n          siteMetadata {\n            title\n          }\n        }\n      }\n    `}\n    render={data => (\n      <>\n        <Helmet>\n          <link rel=\"stylesheet\" media=\"none\" type=\"text/css\" href=\"https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css\" onload=\"this.media='all';\" />\n          <link rel=\"stylesheet\" media=\"all\" href=\"https://cdnjs.cloudflare.com/ajax/libs/MaterialDesign-Webfont/5.3.45/css/materialdesignicons.min.css\" />\n          <link rel=\"stylesheet\" media=\"none\" type=\"text/css\" href=\"https://cdn.rawgit.com/konpa/devicon/df6431e323547add1b4cf45992913f15286456d3/devicon.min.css\" onload=\"this.media='all';\" />\n          <link rel=\"stylesheet\" href=\"https://fonts.googleapis.com/css?family=Anonymous+Pro&display=swap\" />\n        </Helmet>\n        <Header siteTitle={data.site.siteMetadata.title} />\n        <main>{children}</main>\n        <footer className=\"footer\">\n          © {new Date().getFullYear()}, Built with\n          {` `}\n          <a href=\"https://www.gatsbyjs.org\">Gatsby</a>\n        </footer>\n      </>\n    )}\n  />\n)\n\nLayout.propTypes = {\n  children: PropTypes.node.isRequired,\n}\n\nexport default Layout\n","//\nmodule.exports = function shallowEqual(objA, objB, compare, compareContext) {\n  var ret = compare ? compare.call(compareContext, objA, objB) : void 0;\n\n  if (ret !== void 0) {\n    return !!ret;\n  }\n\n  if (objA === objB) {\n    return true;\n  }\n\n  if (typeof objA !== \"object\" || !objA || typeof objB !== \"object\" || !objB) {\n    return false;\n  }\n\n  var keysA = Object.keys(objA);\n  var keysB = Object.keys(objB);\n\n  if (keysA.length !== keysB.length) {\n    return false;\n  }\n\n  var bHasOwnProperty = Object.prototype.hasOwnProperty.bind(objB); // Test for A's keys different from B.\n\n  for (var idx = 0; idx < keysA.length; idx++) {\n    var key = keysA[idx];\n\n    if (!bHasOwnProperty(key)) {\n      return false;\n    }\n\n    var valueA = objA[key];\n    var valueB = objB[key];\n    ret = compare ? compare.call(compareContext, valueA, valueB, key) : void 0;\n\n    if (ret === false || ret === void 0 && valueA !== valueB) {\n      return false;\n    }\n  }\n\n  return true;\n};","exports.__esModule = true;\nexports.Helmet = undefined;\n\nvar _extends = Object.assign || function (target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i];\n\n    for (var key in source) {\n      if (Object.prototype.hasOwnProperty.call(source, key)) {\n        target[key] = source[key];\n      }\n    }\n  }\n\n  return target;\n};\n\nvar _createClass = function () {\n  function defineProperties(target, props) {\n    for (var i = 0; i < props.length; i++) {\n      var descriptor = props[i];\n      descriptor.enumerable = descriptor.enumerable || false;\n      descriptor.configurable = true;\n      if (\"value\" in descriptor) descriptor.writable = true;\n      Object.defineProperty(target, descriptor.key, descriptor);\n    }\n  }\n\n  return function (Constructor, protoProps, staticProps) {\n    if (protoProps) defineProperties(Constructor.prototype, protoProps);\n    if (staticProps) defineProperties(Constructor, staticProps);\n    return Constructor;\n  };\n}();\n\nvar _react = require(\"react\");\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _propTypes = require(\"prop-types\");\n\nvar _propTypes2 = _interopRequireDefault(_propTypes);\n\nvar _reactSideEffect = require(\"react-side-effect\");\n\nvar _reactSideEffect2 = _interopRequireDefault(_reactSideEffect);\n\nvar _reactFastCompare = require(\"react-fast-compare\");\n\nvar _reactFastCompare2 = _interopRequireDefault(_reactFastCompare);\n\nvar _HelmetUtils = require(\"./HelmetUtils.js\");\n\nvar _HelmetConstants = require(\"./HelmetConstants.js\");\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    default: obj\n  };\n}\n\nfunction _objectWithoutProperties(obj, keys) {\n  var target = {};\n\n  for (var i in obj) {\n    if (keys.indexOf(i) >= 0) continue;\n    if (!Object.prototype.hasOwnProperty.call(obj, i)) continue;\n    target[i] = obj[i];\n  }\n\n  return target;\n}\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _possibleConstructorReturn(self, call) {\n  if (!self) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self;\n}\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass);\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      enumerable: false,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;\n}\n\nvar Helmet = function Helmet(Component) {\n  var _class, _temp;\n\n  return _temp = _class = function (_React$Component) {\n    _inherits(HelmetWrapper, _React$Component);\n\n    function HelmetWrapper() {\n      _classCallCheck(this, HelmetWrapper);\n\n      return _possibleConstructorReturn(this, _React$Component.apply(this, arguments));\n    }\n\n    HelmetWrapper.prototype.shouldComponentUpdate = function shouldComponentUpdate(nextProps) {\n      return !(0, _reactFastCompare2.default)(this.props, nextProps);\n    };\n\n    HelmetWrapper.prototype.mapNestedChildrenToProps = function mapNestedChildrenToProps(child, nestedChildren) {\n      if (!nestedChildren) {\n        return null;\n      }\n\n      switch (child.type) {\n        case _HelmetConstants.TAG_NAMES.SCRIPT:\n        case _HelmetConstants.TAG_NAMES.NOSCRIPT:\n          return {\n            innerHTML: nestedChildren\n          };\n\n        case _HelmetConstants.TAG_NAMES.STYLE:\n          return {\n            cssText: nestedChildren\n          };\n      }\n\n      throw new Error(\"<\" + child.type + \" /> elements are self-closing and can not contain children. Refer to our API for more information.\");\n    };\n\n    HelmetWrapper.prototype.flattenArrayTypeChildren = function flattenArrayTypeChildren(_ref) {\n      var _extends2;\n\n      var child = _ref.child,\n          arrayTypeChildren = _ref.arrayTypeChildren,\n          newChildProps = _ref.newChildProps,\n          nestedChildren = _ref.nestedChildren;\n      return _extends({}, arrayTypeChildren, (_extends2 = {}, _extends2[child.type] = [].concat(arrayTypeChildren[child.type] || [], [_extends({}, newChildProps, this.mapNestedChildrenToProps(child, nestedChildren))]), _extends2));\n    };\n\n    HelmetWrapper.prototype.mapObjectTypeChildren = function mapObjectTypeChildren(_ref2) {\n      var _extends3, _extends4;\n\n      var child = _ref2.child,\n          newProps = _ref2.newProps,\n          newChildProps = _ref2.newChildProps,\n          nestedChildren = _ref2.nestedChildren;\n\n      switch (child.type) {\n        case _HelmetConstants.TAG_NAMES.TITLE:\n          return _extends({}, newProps, (_extends3 = {}, _extends3[child.type] = nestedChildren, _extends3.titleAttributes = _extends({}, newChildProps), _extends3));\n\n        case _HelmetConstants.TAG_NAMES.BODY:\n          return _extends({}, newProps, {\n            bodyAttributes: _extends({}, newChildProps)\n          });\n\n        case _HelmetConstants.TAG_NAMES.HTML:\n          return _extends({}, newProps, {\n            htmlAttributes: _extends({}, newChildProps)\n          });\n      }\n\n      return _extends({}, newProps, (_extends4 = {}, _extends4[child.type] = _extends({}, newChildProps), _extends4));\n    };\n\n    HelmetWrapper.prototype.mapArrayTypeChildrenToProps = function mapArrayTypeChildrenToProps(arrayTypeChildren, newProps) {\n      var newFlattenedProps = _extends({}, newProps);\n\n      Object.keys(arrayTypeChildren).forEach(function (arrayChildName) {\n        var _extends5;\n\n        newFlattenedProps = _extends({}, newFlattenedProps, (_extends5 = {}, _extends5[arrayChildName] = arrayTypeChildren[arrayChildName], _extends5));\n      });\n      return newFlattenedProps;\n    };\n\n    HelmetWrapper.prototype.warnOnInvalidChildren = function warnOnInvalidChildren(child, nestedChildren) {\n      if (process.env.NODE_ENV !== \"production\") {\n        if (!_HelmetConstants.VALID_TAG_NAMES.some(function (name) {\n          return child.type === name;\n        })) {\n          if (typeof child.type === \"function\") {\n            return (0, _HelmetUtils.warn)(\"You may be attempting to nest <Helmet> components within each other, which is not allowed. Refer to our API for more information.\");\n          }\n\n          return (0, _HelmetUtils.warn)(\"Only elements types \" + _HelmetConstants.VALID_TAG_NAMES.join(\", \") + \" are allowed. Helmet does not support rendering <\" + child.type + \"> elements. Refer to our API for more information.\");\n        }\n\n        if (nestedChildren && typeof nestedChildren !== \"string\" && (!Array.isArray(nestedChildren) || nestedChildren.some(function (nestedChild) {\n          return typeof nestedChild !== \"string\";\n        }))) {\n          throw new Error(\"Helmet expects a string as a child of <\" + child.type + \">. Did you forget to wrap your children in braces? ( <\" + child.type + \">{``}</\" + child.type + \"> ) Refer to our API for more information.\");\n        }\n      }\n\n      return true;\n    };\n\n    HelmetWrapper.prototype.mapChildrenToProps = function mapChildrenToProps(children, newProps) {\n      var _this2 = this;\n\n      var arrayTypeChildren = {};\n\n      _react2.default.Children.forEach(children, function (child) {\n        if (!child || !child.props) {\n          return;\n        }\n\n        var _child$props = child.props,\n            nestedChildren = _child$props.children,\n            childProps = _objectWithoutProperties(_child$props, [\"children\"]);\n\n        var newChildProps = (0, _HelmetUtils.convertReactPropstoHtmlAttributes)(childProps);\n\n        _this2.warnOnInvalidChildren(child, nestedChildren);\n\n        switch (child.type) {\n          case _HelmetConstants.TAG_NAMES.LINK:\n          case _HelmetConstants.TAG_NAMES.META:\n          case _HelmetConstants.TAG_NAMES.NOSCRIPT:\n          case _HelmetConstants.TAG_NAMES.SCRIPT:\n          case _HelmetConstants.TAG_NAMES.STYLE:\n            arrayTypeChildren = _this2.flattenArrayTypeChildren({\n              child: child,\n              arrayTypeChildren: arrayTypeChildren,\n              newChildProps: newChildProps,\n              nestedChildren: nestedChildren\n            });\n            break;\n\n          default:\n            newProps = _this2.mapObjectTypeChildren({\n              child: child,\n              newProps: newProps,\n              newChildProps: newChildProps,\n              nestedChildren: nestedChildren\n            });\n            break;\n        }\n      });\n\n      newProps = this.mapArrayTypeChildrenToProps(arrayTypeChildren, newProps);\n      return newProps;\n    };\n\n    HelmetWrapper.prototype.render = function render() {\n      var _props = this.props,\n          children = _props.children,\n          props = _objectWithoutProperties(_props, [\"children\"]);\n\n      var newProps = _extends({}, props);\n\n      if (children) {\n        newProps = this.mapChildrenToProps(children, newProps);\n      }\n\n      return _react2.default.createElement(Component, newProps);\n    };\n\n    _createClass(HelmetWrapper, null, [{\n      key: \"canUseDOM\",\n      // Component.peek comes from react-side-effect:\n      // For testing, you may use a static peek() method available on the returned component.\n      // It lets you get the current state without resetting the mounted instance stack.\n      // Don’t use it for anything other than testing.\n\n      /**\n       * @param {Object} base: {\"target\": \"_blank\", \"href\": \"http://mysite.com/\"}\n       * @param {Object} bodyAttributes: {\"className\": \"root\"}\n       * @param {String} defaultTitle: \"Default Title\"\n       * @param {Boolean} defer: true\n       * @param {Boolean} encodeSpecialCharacters: true\n       * @param {Object} htmlAttributes: {\"lang\": \"en\", \"amp\": undefined}\n       * @param {Array} link: [{\"rel\": \"canonical\", \"href\": \"http://mysite.com/example\"}]\n       * @param {Array} meta: [{\"name\": \"description\", \"content\": \"Test description\"}]\n       * @param {Array} noscript: [{\"innerHTML\": \"<img src='http://mysite.com/js/test.js'\"}]\n       * @param {Function} onChangeClientState: \"(newState) => console.log(newState)\"\n       * @param {Array} script: [{\"type\": \"text/javascript\", \"src\": \"http://mysite.com/js/test.js\"}]\n       * @param {Array} style: [{\"type\": \"text/css\", \"cssText\": \"div { display: block; color: blue; }\"}]\n       * @param {String} title: \"Title\"\n       * @param {Object} titleAttributes: {\"itemprop\": \"name\"}\n       * @param {String} titleTemplate: \"MySite.com - %s\"\n       */\n      set: function set(canUseDOM) {\n        Component.canUseDOM = canUseDOM;\n      }\n    }]);\n\n    return HelmetWrapper;\n  }(_react2.default.Component), _class.propTypes = {\n    base: _propTypes2.default.object,\n    bodyAttributes: _propTypes2.default.object,\n    children: _propTypes2.default.oneOfType([_propTypes2.default.arrayOf(_propTypes2.default.node), _propTypes2.default.node]),\n    defaultTitle: _propTypes2.default.string,\n    defer: _propTypes2.default.bool,\n    encodeSpecialCharacters: _propTypes2.default.bool,\n    htmlAttributes: _propTypes2.default.object,\n    link: _propTypes2.default.arrayOf(_propTypes2.default.object),\n    meta: _propTypes2.default.arrayOf(_propTypes2.default.object),\n    noscript: _propTypes2.default.arrayOf(_propTypes2.default.object),\n    onChangeClientState: _propTypes2.default.func,\n    script: _propTypes2.default.arrayOf(_propTypes2.default.object),\n    style: _propTypes2.default.arrayOf(_propTypes2.default.object),\n    title: _propTypes2.default.string,\n    titleAttributes: _propTypes2.default.object,\n    titleTemplate: _propTypes2.default.string\n  }, _class.defaultProps = {\n    defer: true,\n    encodeSpecialCharacters: true\n  }, _class.peek = Component.peek, _class.rewind = function () {\n    var mappedState = Component.rewind();\n\n    if (!mappedState) {\n      // provide fallback if mappedState is undefined\n      mappedState = (0, _HelmetUtils.mapStateOnServer)({\n        baseTag: [],\n        bodyAttributes: {},\n        encodeSpecialCharacters: true,\n        htmlAttributes: {},\n        linkTags: [],\n        metaTags: [],\n        noscriptTags: [],\n        scriptTags: [],\n        styleTags: [],\n        title: \"\",\n        titleAttributes: {}\n      });\n    }\n\n    return mappedState;\n  }, _temp;\n};\n\nvar NullComponent = function NullComponent() {\n  return null;\n};\n\nvar HelmetSideEffects = (0, _reactSideEffect2.default)(_HelmetUtils.reducePropsToState, _HelmetUtils.handleClientStateChange, _HelmetUtils.mapStateOnServer)(NullComponent);\nvar HelmetExport = Helmet(HelmetSideEffects);\nHelmetExport.renderStatic = HelmetExport.rewind;\nexports.Helmet = HelmetExport;\nexports.default = HelmetExport;","'use strict';\n\nvar isArray = Array.isArray;\nvar keyList = Object.keys;\nvar hasProp = Object.prototype.hasOwnProperty;\nvar hasElementType = typeof Element !== 'undefined';\n\nfunction equal(a, b) {\n  // fast-deep-equal index.js 2.0.1\n  if (a === b) return true;\n\n  if (a && b && typeof a == 'object' && typeof b == 'object') {\n    var arrA = isArray(a),\n        arrB = isArray(b),\n        i,\n        length,\n        key;\n\n    if (arrA && arrB) {\n      length = a.length;\n      if (length != b.length) return false;\n\n      for (i = length; i-- !== 0;) {\n        if (!equal(a[i], b[i])) return false;\n      }\n\n      return true;\n    }\n\n    if (arrA != arrB) return false;\n    var dateA = a instanceof Date,\n        dateB = b instanceof Date;\n    if (dateA != dateB) return false;\n    if (dateA && dateB) return a.getTime() == b.getTime();\n    var regexpA = a instanceof RegExp,\n        regexpB = b instanceof RegExp;\n    if (regexpA != regexpB) return false;\n    if (regexpA && regexpB) return a.toString() == b.toString();\n    var keys = keyList(a);\n    length = keys.length;\n    if (length !== keyList(b).length) return false;\n\n    for (i = length; i-- !== 0;) {\n      if (!hasProp.call(b, keys[i])) return false;\n    } // end fast-deep-equal\n    // start react-fast-compare\n    // custom handling for DOM elements\n\n\n    if (hasElementType && a instanceof Element && b instanceof Element) return a === b; // custom handling for React\n\n    for (i = length; i-- !== 0;) {\n      key = keys[i];\n\n      if (key === '_owner' && a.$$typeof) {\n        // React-specific: avoid traversing React elements' _owner.\n        //  _owner contains circular references\n        // and is not needed when comparing the actual elements (and not their owners)\n        // .$$typeof and ._store on just reasonable markers of a react element\n        continue;\n      } else {\n        // all other properties should be traversed as usual\n        if (!equal(a[key], b[key])) return false;\n      }\n    } // end react-fast-compare\n    // fast-deep-equal index.js 2.0.1\n\n\n    return true;\n  }\n\n  return a !== a && b !== b;\n} // end fast-deep-equal\n\n\nmodule.exports = function exportedEqual(a, b) {\n  try {\n    return equal(a, b);\n  } catch (error) {\n    if (error.message && error.message.match(/stack|recursion/i) || error.number === -2146828260) {\n      // warn on circular references, don't crash\n      // browsers give this different errors name and messages:\n      // chrome/safari: \"RangeError\", \"Maximum call stack size exceeded\"\n      // firefox: \"InternalError\", too much recursion\"\n      // edge: \"Error\", \"Out of stack space\"\n      console.warn('Warning: react-fast-compare does not handle circular references.', error.name, error.message);\n      return false;\n    } // some other error. we should definitely know about these\n\n\n    throw error;\n  }\n};","require(\"core-js/modules/es.array.reduce.js\");\n\nexports.__esModule = true;\nvar ATTRIBUTE_NAMES = exports.ATTRIBUTE_NAMES = {\n  BODY: \"bodyAttributes\",\n  HTML: \"htmlAttributes\",\n  TITLE: \"titleAttributes\"\n};\nvar TAG_NAMES = exports.TAG_NAMES = {\n  BASE: \"base\",\n  BODY: \"body\",\n  HEAD: \"head\",\n  HTML: \"html\",\n  LINK: \"link\",\n  META: \"meta\",\n  NOSCRIPT: \"noscript\",\n  SCRIPT: \"script\",\n  STYLE: \"style\",\n  TITLE: \"title\"\n};\nvar VALID_TAG_NAMES = exports.VALID_TAG_NAMES = Object.keys(TAG_NAMES).map(function (name) {\n  return TAG_NAMES[name];\n});\nvar TAG_PROPERTIES = exports.TAG_PROPERTIES = {\n  CHARSET: \"charset\",\n  CSS_TEXT: \"cssText\",\n  HREF: \"href\",\n  HTTPEQUIV: \"http-equiv\",\n  INNER_HTML: \"innerHTML\",\n  ITEM_PROP: \"itemprop\",\n  NAME: \"name\",\n  PROPERTY: \"property\",\n  REL: \"rel\",\n  SRC: \"src\"\n};\nvar REACT_TAG_MAP = exports.REACT_TAG_MAP = {\n  accesskey: \"accessKey\",\n  charset: \"charSet\",\n  class: \"className\",\n  contenteditable: \"contentEditable\",\n  contextmenu: \"contextMenu\",\n  \"http-equiv\": \"httpEquiv\",\n  itemprop: \"itemProp\",\n  tabindex: \"tabIndex\"\n};\nvar HELMET_PROPS = exports.HELMET_PROPS = {\n  DEFAULT_TITLE: \"defaultTitle\",\n  DEFER: \"defer\",\n  ENCODE_SPECIAL_CHARACTERS: \"encodeSpecialCharacters\",\n  ON_CHANGE_CLIENT_STATE: \"onChangeClientState\",\n  TITLE_TEMPLATE: \"titleTemplate\"\n};\nvar HTML_TAG_MAP = exports.HTML_TAG_MAP = Object.keys(REACT_TAG_MAP).reduce(function (obj, key) {\n  obj[REACT_TAG_MAP[key]] = key;\n  return obj;\n}, {});\nvar SELF_CLOSING_TAGS = exports.SELF_CLOSING_TAGS = [TAG_NAMES.NOSCRIPT, TAG_NAMES.SCRIPT, TAG_NAMES.STYLE];\nvar HELMET_ATTRIBUTE = exports.HELMET_ATTRIBUTE = \"data-react-helmet\";","/**\n * Copyright (c) 2014-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nvar runtime = (function (exports) {\n  \"use strict\";\n\n  var Op = Object.prototype;\n  var hasOwn = Op.hasOwnProperty;\n  var undefined; // More compressible than void 0.\n  var $Symbol = typeof Symbol === \"function\" ? Symbol : {};\n  var iteratorSymbol = $Symbol.iterator || \"@@iterator\";\n  var asyncIteratorSymbol = $Symbol.asyncIterator || \"@@asyncIterator\";\n  var toStringTagSymbol = $Symbol.toStringTag || \"@@toStringTag\";\n\n  function define(obj, key, value) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n    return obj[key];\n  }\n  try {\n    // IE 8 has a broken Object.defineProperty that only works on DOM objects.\n    define({}, \"\");\n  } catch (err) {\n    define = function(obj, key, value) {\n      return obj[key] = value;\n    };\n  }\n\n  function wrap(innerFn, outerFn, self, tryLocsList) {\n    // If outerFn provided and outerFn.prototype is a Generator, then outerFn.prototype instanceof Generator.\n    var protoGenerator = outerFn && outerFn.prototype instanceof Generator ? outerFn : Generator;\n    var generator = Object.create(protoGenerator.prototype);\n    var context = new Context(tryLocsList || []);\n\n    // The ._invoke method unifies the implementations of the .next,\n    // .throw, and .return methods.\n    generator._invoke = makeInvokeMethod(innerFn, self, context);\n\n    return generator;\n  }\n  exports.wrap = wrap;\n\n  // Try/catch helper to minimize deoptimizations. Returns a completion\n  // record like context.tryEntries[i].completion. This interface could\n  // have been (and was previously) designed to take a closure to be\n  // invoked without arguments, but in all the cases we care about we\n  // already have an existing method we want to call, so there's no need\n  // to create a new function object. We can even get away with assuming\n  // the method takes exactly one argument, since that happens to be true\n  // in every case, so we don't have to touch the arguments object. The\n  // only additional allocation required is the completion record, which\n  // has a stable shape and so hopefully should be cheap to allocate.\n  function tryCatch(fn, obj, arg) {\n    try {\n      return { type: \"normal\", arg: fn.call(obj, arg) };\n    } catch (err) {\n      return { type: \"throw\", arg: err };\n    }\n  }\n\n  var GenStateSuspendedStart = \"suspendedStart\";\n  var GenStateSuspendedYield = \"suspendedYield\";\n  var GenStateExecuting = \"executing\";\n  var GenStateCompleted = \"completed\";\n\n  // Returning this object from the innerFn has the same effect as\n  // breaking out of the dispatch switch statement.\n  var ContinueSentinel = {};\n\n  // Dummy constructor functions that we use as the .constructor and\n  // .constructor.prototype properties for functions that return Generator\n  // objects. For full spec compliance, you may wish to configure your\n  // minifier not to mangle the names of these two functions.\n  function Generator() {}\n  function GeneratorFunction() {}\n  function GeneratorFunctionPrototype() {}\n\n  // This is a polyfill for %IteratorPrototype% for environments that\n  // don't natively support it.\n  var IteratorPrototype = {};\n  IteratorPrototype[iteratorSymbol] = function () {\n    return this;\n  };\n\n  var getProto = Object.getPrototypeOf;\n  var NativeIteratorPrototype = getProto && getProto(getProto(values([])));\n  if (NativeIteratorPrototype &&\n      NativeIteratorPrototype !== Op &&\n      hasOwn.call(NativeIteratorPrototype, iteratorSymbol)) {\n    // This environment has a native %IteratorPrototype%; use it instead\n    // of the polyfill.\n    IteratorPrototype = NativeIteratorPrototype;\n  }\n\n  var Gp = GeneratorFunctionPrototype.prototype =\n    Generator.prototype = Object.create(IteratorPrototype);\n  GeneratorFunction.prototype = Gp.constructor = GeneratorFunctionPrototype;\n  GeneratorFunctionPrototype.constructor = GeneratorFunction;\n  GeneratorFunction.displayName = define(\n    GeneratorFunctionPrototype,\n    toStringTagSymbol,\n    \"GeneratorFunction\"\n  );\n\n  // Helper for defining the .next, .throw, and .return methods of the\n  // Iterator interface in terms of a single ._invoke method.\n  function defineIteratorMethods(prototype) {\n    [\"next\", \"throw\", \"return\"].forEach(function(method) {\n      define(prototype, method, function(arg) {\n        return this._invoke(method, arg);\n      });\n    });\n  }\n\n  exports.isGeneratorFunction = function(genFun) {\n    var ctor = typeof genFun === \"function\" && genFun.constructor;\n    return ctor\n      ? ctor === GeneratorFunction ||\n        // For the native GeneratorFunction constructor, the best we can\n        // do is to check its .name property.\n        (ctor.displayName || ctor.name) === \"GeneratorFunction\"\n      : false;\n  };\n\n  exports.mark = function(genFun) {\n    if (Object.setPrototypeOf) {\n      Object.setPrototypeOf(genFun, GeneratorFunctionPrototype);\n    } else {\n      genFun.__proto__ = GeneratorFunctionPrototype;\n      define(genFun, toStringTagSymbol, \"GeneratorFunction\");\n    }\n    genFun.prototype = Object.create(Gp);\n    return genFun;\n  };\n\n  // Within the body of any async function, `await x` is transformed to\n  // `yield regeneratorRuntime.awrap(x)`, so that the runtime can test\n  // `hasOwn.call(value, \"__await\")` to determine if the yielded value is\n  // meant to be awaited.\n  exports.awrap = function(arg) {\n    return { __await: arg };\n  };\n\n  function AsyncIterator(generator, PromiseImpl) {\n    function invoke(method, arg, resolve, reject) {\n      var record = tryCatch(generator[method], generator, arg);\n      if (record.type === \"throw\") {\n        reject(record.arg);\n      } else {\n        var result = record.arg;\n        var value = result.value;\n        if (value &&\n            typeof value === \"object\" &&\n            hasOwn.call(value, \"__await\")) {\n          return PromiseImpl.resolve(value.__await).then(function(value) {\n            invoke(\"next\", value, resolve, reject);\n          }, function(err) {\n            invoke(\"throw\", err, resolve, reject);\n          });\n        }\n\n        return PromiseImpl.resolve(value).then(function(unwrapped) {\n          // When a yielded Promise is resolved, its final value becomes\n          // the .value of the Promise<{value,done}> result for the\n          // current iteration.\n          result.value = unwrapped;\n          resolve(result);\n        }, function(error) {\n          // If a rejected Promise was yielded, throw the rejection back\n          // into the async generator function so it can be handled there.\n          return invoke(\"throw\", error, resolve, reject);\n        });\n      }\n    }\n\n    var previousPromise;\n\n    function enqueue(method, arg) {\n      function callInvokeWithMethodAndArg() {\n        return new PromiseImpl(function(resolve, reject) {\n          invoke(method, arg, resolve, reject);\n        });\n      }\n\n      return previousPromise =\n        // If enqueue has been called before, then we want to wait until\n        // all previous Promises have been resolved before calling invoke,\n        // so that results are always delivered in the correct order. If\n        // enqueue has not been called before, then it is important to\n        // call invoke immediately, without waiting on a callback to fire,\n        // so that the async generator function has the opportunity to do\n        // any necessary setup in a predictable way. This predictability\n        // is why the Promise constructor synchronously invokes its\n        // executor callback, and why async functions synchronously\n        // execute code before the first await. Since we implement simple\n        // async functions in terms of async generators, it is especially\n        // important to get this right, even though it requires care.\n        previousPromise ? previousPromise.then(\n          callInvokeWithMethodAndArg,\n          // Avoid propagating failures to Promises returned by later\n          // invocations of the iterator.\n          callInvokeWithMethodAndArg\n        ) : callInvokeWithMethodAndArg();\n    }\n\n    // Define the unified helper method that is used to implement .next,\n    // .throw, and .return (see defineIteratorMethods).\n    this._invoke = enqueue;\n  }\n\n  defineIteratorMethods(AsyncIterator.prototype);\n  AsyncIterator.prototype[asyncIteratorSymbol] = function () {\n    return this;\n  };\n  exports.AsyncIterator = AsyncIterator;\n\n  // Note that simple async functions are implemented on top of\n  // AsyncIterator objects; they just return a Promise for the value of\n  // the final result produced by the iterator.\n  exports.async = function(innerFn, outerFn, self, tryLocsList, PromiseImpl) {\n    if (PromiseImpl === void 0) PromiseImpl = Promise;\n\n    var iter = new AsyncIterator(\n      wrap(innerFn, outerFn, self, tryLocsList),\n      PromiseImpl\n    );\n\n    return exports.isGeneratorFunction(outerFn)\n      ? iter // If outerFn is a generator, return the full iterator.\n      : iter.next().then(function(result) {\n          return result.done ? result.value : iter.next();\n        });\n  };\n\n  function makeInvokeMethod(innerFn, self, context) {\n    var state = GenStateSuspendedStart;\n\n    return function invoke(method, arg) {\n      if (state === GenStateExecuting) {\n        throw new Error(\"Generator is already running\");\n      }\n\n      if (state === GenStateCompleted) {\n        if (method === \"throw\") {\n          throw arg;\n        }\n\n        // Be forgiving, per 25.3.3.3.3 of the spec:\n        // https://people.mozilla.org/~jorendorff/es6-draft.html#sec-generatorresume\n        return doneResult();\n      }\n\n      context.method = method;\n      context.arg = arg;\n\n      while (true) {\n        var delegate = context.delegate;\n        if (delegate) {\n          var delegateResult = maybeInvokeDelegate(delegate, context);\n          if (delegateResult) {\n            if (delegateResult === ContinueSentinel) continue;\n            return delegateResult;\n          }\n        }\n\n        if (context.method === \"next\") {\n          // Setting context._sent for legacy support of Babel's\n          // function.sent implementation.\n          context.sent = context._sent = context.arg;\n\n        } else if (context.method === \"throw\") {\n          if (state === GenStateSuspendedStart) {\n            state = GenStateCompleted;\n            throw context.arg;\n          }\n\n          context.dispatchException(context.arg);\n\n        } else if (context.method === \"return\") {\n          context.abrupt(\"return\", context.arg);\n        }\n\n        state = GenStateExecuting;\n\n        var record = tryCatch(innerFn, self, context);\n        if (record.type === \"normal\") {\n          // If an exception is thrown from innerFn, we leave state ===\n          // GenStateExecuting and loop back for another invocation.\n          state = context.done\n            ? GenStateCompleted\n            : GenStateSuspendedYield;\n\n          if (record.arg === ContinueSentinel) {\n            continue;\n          }\n\n          return {\n            value: record.arg,\n            done: context.done\n          };\n\n        } else if (record.type === \"throw\") {\n          state = GenStateCompleted;\n          // Dispatch the exception by looping back around to the\n          // context.dispatchException(context.arg) call above.\n          context.method = \"throw\";\n          context.arg = record.arg;\n        }\n      }\n    };\n  }\n\n  // Call delegate.iterator[context.method](context.arg) and handle the\n  // result, either by returning a { value, done } result from the\n  // delegate iterator, or by modifying context.method and context.arg,\n  // setting context.delegate to null, and returning the ContinueSentinel.\n  function maybeInvokeDelegate(delegate, context) {\n    var method = delegate.iterator[context.method];\n    if (method === undefined) {\n      // A .throw or .return when the delegate iterator has no .throw\n      // method always terminates the yield* loop.\n      context.delegate = null;\n\n      if (context.method === \"throw\") {\n        // Note: [\"return\"] must be used for ES3 parsing compatibility.\n        if (delegate.iterator[\"return\"]) {\n          // If the delegate iterator has a return method, give it a\n          // chance to clean up.\n          context.method = \"return\";\n          context.arg = undefined;\n          maybeInvokeDelegate(delegate, context);\n\n          if (context.method === \"throw\") {\n            // If maybeInvokeDelegate(context) changed context.method from\n            // \"return\" to \"throw\", let that override the TypeError below.\n            return ContinueSentinel;\n          }\n        }\n\n        context.method = \"throw\";\n        context.arg = new TypeError(\n          \"The iterator does not provide a 'throw' method\");\n      }\n\n      return ContinueSentinel;\n    }\n\n    var record = tryCatch(method, delegate.iterator, context.arg);\n\n    if (record.type === \"throw\") {\n      context.method = \"throw\";\n      context.arg = record.arg;\n      context.delegate = null;\n      return ContinueSentinel;\n    }\n\n    var info = record.arg;\n\n    if (! info) {\n      context.method = \"throw\";\n      context.arg = new TypeError(\"iterator result is not an object\");\n      context.delegate = null;\n      return ContinueSentinel;\n    }\n\n    if (info.done) {\n      // Assign the result of the finished delegate to the temporary\n      // variable specified by delegate.resultName (see delegateYield).\n      context[delegate.resultName] = info.value;\n\n      // Resume execution at the desired location (see delegateYield).\n      context.next = delegate.nextLoc;\n\n      // If context.method was \"throw\" but the delegate handled the\n      // exception, let the outer generator proceed normally. If\n      // context.method was \"next\", forget context.arg since it has been\n      // \"consumed\" by the delegate iterator. If context.method was\n      // \"return\", allow the original .return call to continue in the\n      // outer generator.\n      if (context.method !== \"return\") {\n        context.method = \"next\";\n        context.arg = undefined;\n      }\n\n    } else {\n      // Re-yield the result returned by the delegate method.\n      return info;\n    }\n\n    // The delegate iterator is finished, so forget it and continue with\n    // the outer generator.\n    context.delegate = null;\n    return ContinueSentinel;\n  }\n\n  // Define Generator.prototype.{next,throw,return} in terms of the\n  // unified ._invoke helper method.\n  defineIteratorMethods(Gp);\n\n  define(Gp, toStringTagSymbol, \"Generator\");\n\n  // A Generator should always return itself as the iterator object when the\n  // @@iterator function is called on it. Some browsers' implementations of the\n  // iterator prototype chain incorrectly implement this, causing the Generator\n  // object to not be returned from this call. This ensures that doesn't happen.\n  // See https://github.com/facebook/regenerator/issues/274 for more details.\n  Gp[iteratorSymbol] = function() {\n    return this;\n  };\n\n  Gp.toString = function() {\n    return \"[object Generator]\";\n  };\n\n  function pushTryEntry(locs) {\n    var entry = { tryLoc: locs[0] };\n\n    if (1 in locs) {\n      entry.catchLoc = locs[1];\n    }\n\n    if (2 in locs) {\n      entry.finallyLoc = locs[2];\n      entry.afterLoc = locs[3];\n    }\n\n    this.tryEntries.push(entry);\n  }\n\n  function resetTryEntry(entry) {\n    var record = entry.completion || {};\n    record.type = \"normal\";\n    delete record.arg;\n    entry.completion = record;\n  }\n\n  function Context(tryLocsList) {\n    // The root entry object (effectively a try statement without a catch\n    // or a finally block) gives us a place to store values thrown from\n    // locations where there is no enclosing try statement.\n    this.tryEntries = [{ tryLoc: \"root\" }];\n    tryLocsList.forEach(pushTryEntry, this);\n    this.reset(true);\n  }\n\n  exports.keys = function(object) {\n    var keys = [];\n    for (var key in object) {\n      keys.push(key);\n    }\n    keys.reverse();\n\n    // Rather than returning an object with a next method, we keep\n    // things simple and return the next function itself.\n    return function next() {\n      while (keys.length) {\n        var key = keys.pop();\n        if (key in object) {\n          next.value = key;\n          next.done = false;\n          return next;\n        }\n      }\n\n      // To avoid creating an additional object, we just hang the .value\n      // and .done properties off the next function object itself. This\n      // also ensures that the minifier will not anonymize the function.\n      next.done = true;\n      return next;\n    };\n  };\n\n  function values(iterable) {\n    if (iterable) {\n      var iteratorMethod = iterable[iteratorSymbol];\n      if (iteratorMethod) {\n        return iteratorMethod.call(iterable);\n      }\n\n      if (typeof iterable.next === \"function\") {\n        return iterable;\n      }\n\n      if (!isNaN(iterable.length)) {\n        var i = -1, next = function next() {\n          while (++i < iterable.length) {\n            if (hasOwn.call(iterable, i)) {\n              next.value = iterable[i];\n              next.done = false;\n              return next;\n            }\n          }\n\n          next.value = undefined;\n          next.done = true;\n\n          return next;\n        };\n\n        return next.next = next;\n      }\n    }\n\n    // Return an iterator with no values.\n    return { next: doneResult };\n  }\n  exports.values = values;\n\n  function doneResult() {\n    return { value: undefined, done: true };\n  }\n\n  Context.prototype = {\n    constructor: Context,\n\n    reset: function(skipTempReset) {\n      this.prev = 0;\n      this.next = 0;\n      // Resetting context._sent for legacy support of Babel's\n      // function.sent implementation.\n      this.sent = this._sent = undefined;\n      this.done = false;\n      this.delegate = null;\n\n      this.method = \"next\";\n      this.arg = undefined;\n\n      this.tryEntries.forEach(resetTryEntry);\n\n      if (!skipTempReset) {\n        for (var name in this) {\n          // Not sure about the optimal order of these conditions:\n          if (name.charAt(0) === \"t\" &&\n              hasOwn.call(this, name) &&\n              !isNaN(+name.slice(1))) {\n            this[name] = undefined;\n          }\n        }\n      }\n    },\n\n    stop: function() {\n      this.done = true;\n\n      var rootEntry = this.tryEntries[0];\n      var rootRecord = rootEntry.completion;\n      if (rootRecord.type === \"throw\") {\n        throw rootRecord.arg;\n      }\n\n      return this.rval;\n    },\n\n    dispatchException: function(exception) {\n      if (this.done) {\n        throw exception;\n      }\n\n      var context = this;\n      function handle(loc, caught) {\n        record.type = \"throw\";\n        record.arg = exception;\n        context.next = loc;\n\n        if (caught) {\n          // If the dispatched exception was caught by a catch block,\n          // then let that catch block handle the exception normally.\n          context.method = \"next\";\n          context.arg = undefined;\n        }\n\n        return !! caught;\n      }\n\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        var record = entry.completion;\n\n        if (entry.tryLoc === \"root\") {\n          // Exception thrown outside of any try block that could handle\n          // it, so set the completion value of the entire function to\n          // throw the exception.\n          return handle(\"end\");\n        }\n\n        if (entry.tryLoc <= this.prev) {\n          var hasCatch = hasOwn.call(entry, \"catchLoc\");\n          var hasFinally = hasOwn.call(entry, \"finallyLoc\");\n\n          if (hasCatch && hasFinally) {\n            if (this.prev < entry.catchLoc) {\n              return handle(entry.catchLoc, true);\n            } else if (this.prev < entry.finallyLoc) {\n              return handle(entry.finallyLoc);\n            }\n\n          } else if (hasCatch) {\n            if (this.prev < entry.catchLoc) {\n              return handle(entry.catchLoc, true);\n            }\n\n          } else if (hasFinally) {\n            if (this.prev < entry.finallyLoc) {\n              return handle(entry.finallyLoc);\n            }\n\n          } else {\n            throw new Error(\"try statement without catch or finally\");\n          }\n        }\n      }\n    },\n\n    abrupt: function(type, arg) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.tryLoc <= this.prev &&\n            hasOwn.call(entry, \"finallyLoc\") &&\n            this.prev < entry.finallyLoc) {\n          var finallyEntry = entry;\n          break;\n        }\n      }\n\n      if (finallyEntry &&\n          (type === \"break\" ||\n           type === \"continue\") &&\n          finallyEntry.tryLoc <= arg &&\n          arg <= finallyEntry.finallyLoc) {\n        // Ignore the finally entry if control is not jumping to a\n        // location outside the try/catch block.\n        finallyEntry = null;\n      }\n\n      var record = finallyEntry ? finallyEntry.completion : {};\n      record.type = type;\n      record.arg = arg;\n\n      if (finallyEntry) {\n        this.method = \"next\";\n        this.next = finallyEntry.finallyLoc;\n        return ContinueSentinel;\n      }\n\n      return this.complete(record);\n    },\n\n    complete: function(record, afterLoc) {\n      if (record.type === \"throw\") {\n        throw record.arg;\n      }\n\n      if (record.type === \"break\" ||\n          record.type === \"continue\") {\n        this.next = record.arg;\n      } else if (record.type === \"return\") {\n        this.rval = this.arg = record.arg;\n        this.method = \"return\";\n        this.next = \"end\";\n      } else if (record.type === \"normal\" && afterLoc) {\n        this.next = afterLoc;\n      }\n\n      return ContinueSentinel;\n    },\n\n    finish: function(finallyLoc) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.finallyLoc === finallyLoc) {\n          this.complete(entry.completion, entry.afterLoc);\n          resetTryEntry(entry);\n          return ContinueSentinel;\n        }\n      }\n    },\n\n    \"catch\": function(tryLoc) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.tryLoc === tryLoc) {\n          var record = entry.completion;\n          if (record.type === \"throw\") {\n            var thrown = record.arg;\n            resetTryEntry(entry);\n          }\n          return thrown;\n        }\n      }\n\n      // The context.catch method must only be called with a location\n      // argument that corresponds to a known catch block.\n      throw new Error(\"illegal catch attempt\");\n    },\n\n    delegateYield: function(iterable, resultName, nextLoc) {\n      this.delegate = {\n        iterator: values(iterable),\n        resultName: resultName,\n        nextLoc: nextLoc\n      };\n\n      if (this.method === \"next\") {\n        // Deliberately forget the last sent value so that we don't\n        // accidentally pass it on to the delegate.\n        this.arg = undefined;\n      }\n\n      return ContinueSentinel;\n    }\n  };\n\n  // Regardless of whether this script is executing as a CommonJS module\n  // or not, return the runtime object so that we can declare the variable\n  // regeneratorRuntime in the outer scope, which allows this module to be\n  // injected easily by `bin/regenerator --include-runtime script.js`.\n  return exports;\n\n}(\n  // If this script is executing as a CommonJS module, use module.exports\n  // as the regeneratorRuntime namespace. Otherwise create a new empty\n  // object. Either way, the resulting object will be used to initialize\n  // the regeneratorRuntime variable at the top of this file.\n  typeof module === \"object\" ? module.exports : {}\n));\n\ntry {\n  regeneratorRuntime = runtime;\n} catch (accidentalStrictMode) {\n  // This module should not be running in strict mode, so the above\n  // assignment should always work unless something is misconfigured. Just\n  // in case runtime.js accidentally runs in strict mode, we can escape\n  // strict mode using a global Function call. This could conceivably fail\n  // if a Content Security Policy forbids using Function, but in that case\n  // the proper solution is to fix the accidental strict mode problem. If\n  // you've misconfigured your bundler to force strict mode and applied a\n  // CSP to forbid Function, and you're not willing to fix either of those\n  // problems, please detail your unique predicament in a GitHub issue.\n  Function(\"r\", \"regeneratorRuntime = r\")(runtime);\n}\n","module.exports = require(\"regenerator-runtime\");\n","require(\"core-js/modules/es.array.reduce.js\");\n\nexports.__esModule = true;\nexports.warn = exports.requestAnimationFrame = exports.reducePropsToState = exports.mapStateOnServer = exports.handleClientStateChange = exports.convertReactPropstoHtmlAttributes = undefined;\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) {\n  return typeof obj;\n} : function (obj) {\n  return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n};\n\nvar _extends = Object.assign || function (target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i];\n\n    for (var key in source) {\n      if (Object.prototype.hasOwnProperty.call(source, key)) {\n        target[key] = source[key];\n      }\n    }\n  }\n\n  return target;\n};\n\nvar _react = require(\"react\");\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _objectAssign = require(\"object-assign\");\n\nvar _objectAssign2 = _interopRequireDefault(_objectAssign);\n\nvar _HelmetConstants = require(\"./HelmetConstants.js\");\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    default: obj\n  };\n}\n\nvar encodeSpecialCharacters = function encodeSpecialCharacters(str) {\n  var encode = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : true;\n\n  if (encode === false) {\n    return String(str);\n  }\n\n  return String(str).replace(/&/g, \"&amp;\").replace(/</g, \"&lt;\").replace(/>/g, \"&gt;\").replace(/\"/g, \"&quot;\").replace(/'/g, \"&#x27;\");\n};\n\nvar getTitleFromPropsList = function getTitleFromPropsList(propsList) {\n  var innermostTitle = getInnermostProperty(propsList, _HelmetConstants.TAG_NAMES.TITLE);\n  var innermostTemplate = getInnermostProperty(propsList, _HelmetConstants.HELMET_PROPS.TITLE_TEMPLATE);\n\n  if (innermostTemplate && innermostTitle) {\n    // use function arg to avoid need to escape $ characters\n    return innermostTemplate.replace(/%s/g, function () {\n      return innermostTitle;\n    });\n  }\n\n  var innermostDefaultTitle = getInnermostProperty(propsList, _HelmetConstants.HELMET_PROPS.DEFAULT_TITLE);\n  return innermostTitle || innermostDefaultTitle || undefined;\n};\n\nvar getOnChangeClientState = function getOnChangeClientState(propsList) {\n  return getInnermostProperty(propsList, _HelmetConstants.HELMET_PROPS.ON_CHANGE_CLIENT_STATE) || function () {};\n};\n\nvar getAttributesFromPropsList = function getAttributesFromPropsList(tagType, propsList) {\n  return propsList.filter(function (props) {\n    return typeof props[tagType] !== \"undefined\";\n  }).map(function (props) {\n    return props[tagType];\n  }).reduce(function (tagAttrs, current) {\n    return _extends({}, tagAttrs, current);\n  }, {});\n};\n\nvar getBaseTagFromPropsList = function getBaseTagFromPropsList(primaryAttributes, propsList) {\n  return propsList.filter(function (props) {\n    return typeof props[_HelmetConstants.TAG_NAMES.BASE] !== \"undefined\";\n  }).map(function (props) {\n    return props[_HelmetConstants.TAG_NAMES.BASE];\n  }).reverse().reduce(function (innermostBaseTag, tag) {\n    if (!innermostBaseTag.length) {\n      var keys = Object.keys(tag);\n\n      for (var i = 0; i < keys.length; i++) {\n        var attributeKey = keys[i];\n        var lowerCaseAttributeKey = attributeKey.toLowerCase();\n\n        if (primaryAttributes.indexOf(lowerCaseAttributeKey) !== -1 && tag[lowerCaseAttributeKey]) {\n          return innermostBaseTag.concat(tag);\n        }\n      }\n    }\n\n    return innermostBaseTag;\n  }, []);\n};\n\nvar getTagsFromPropsList = function getTagsFromPropsList(tagName, primaryAttributes, propsList) {\n  // Calculate list of tags, giving priority innermost component (end of the propslist)\n  var approvedSeenTags = {};\n  return propsList.filter(function (props) {\n    if (Array.isArray(props[tagName])) {\n      return true;\n    }\n\n    if (typeof props[tagName] !== \"undefined\") {\n      warn(\"Helmet: \" + tagName + \" should be of type \\\"Array\\\". Instead found type \\\"\" + _typeof(props[tagName]) + \"\\\"\");\n    }\n\n    return false;\n  }).map(function (props) {\n    return props[tagName];\n  }).reverse().reduce(function (approvedTags, instanceTags) {\n    var instanceSeenTags = {};\n    instanceTags.filter(function (tag) {\n      var primaryAttributeKey = void 0;\n      var keys = Object.keys(tag);\n\n      for (var i = 0; i < keys.length; i++) {\n        var attributeKey = keys[i];\n        var lowerCaseAttributeKey = attributeKey.toLowerCase(); // Special rule with link tags, since rel and href are both primary tags, rel takes priority\n\n        if (primaryAttributes.indexOf(lowerCaseAttributeKey) !== -1 && !(primaryAttributeKey === _HelmetConstants.TAG_PROPERTIES.REL && tag[primaryAttributeKey].toLowerCase() === \"canonical\") && !(lowerCaseAttributeKey === _HelmetConstants.TAG_PROPERTIES.REL && tag[lowerCaseAttributeKey].toLowerCase() === \"stylesheet\")) {\n          primaryAttributeKey = lowerCaseAttributeKey;\n        } // Special case for innerHTML which doesn't work lowercased\n\n\n        if (primaryAttributes.indexOf(attributeKey) !== -1 && (attributeKey === _HelmetConstants.TAG_PROPERTIES.INNER_HTML || attributeKey === _HelmetConstants.TAG_PROPERTIES.CSS_TEXT || attributeKey === _HelmetConstants.TAG_PROPERTIES.ITEM_PROP)) {\n          primaryAttributeKey = attributeKey;\n        }\n      }\n\n      if (!primaryAttributeKey || !tag[primaryAttributeKey]) {\n        return false;\n      }\n\n      var value = tag[primaryAttributeKey].toLowerCase();\n\n      if (!approvedSeenTags[primaryAttributeKey]) {\n        approvedSeenTags[primaryAttributeKey] = {};\n      }\n\n      if (!instanceSeenTags[primaryAttributeKey]) {\n        instanceSeenTags[primaryAttributeKey] = {};\n      }\n\n      if (!approvedSeenTags[primaryAttributeKey][value]) {\n        instanceSeenTags[primaryAttributeKey][value] = true;\n        return true;\n      }\n\n      return false;\n    }).reverse().forEach(function (tag) {\n      return approvedTags.push(tag);\n    }); // Update seen tags with tags from this instance\n\n    var keys = Object.keys(instanceSeenTags);\n\n    for (var i = 0; i < keys.length; i++) {\n      var attributeKey = keys[i];\n      var tagUnion = (0, _objectAssign2.default)({}, approvedSeenTags[attributeKey], instanceSeenTags[attributeKey]);\n      approvedSeenTags[attributeKey] = tagUnion;\n    }\n\n    return approvedTags;\n  }, []).reverse();\n};\n\nvar getInnermostProperty = function getInnermostProperty(propsList, property) {\n  for (var i = propsList.length - 1; i >= 0; i--) {\n    var props = propsList[i];\n\n    if (props.hasOwnProperty(property)) {\n      return props[property];\n    }\n  }\n\n  return null;\n};\n\nvar reducePropsToState = function reducePropsToState(propsList) {\n  return {\n    baseTag: getBaseTagFromPropsList([_HelmetConstants.TAG_PROPERTIES.HREF], propsList),\n    bodyAttributes: getAttributesFromPropsList(_HelmetConstants.ATTRIBUTE_NAMES.BODY, propsList),\n    defer: getInnermostProperty(propsList, _HelmetConstants.HELMET_PROPS.DEFER),\n    encode: getInnermostProperty(propsList, _HelmetConstants.HELMET_PROPS.ENCODE_SPECIAL_CHARACTERS),\n    htmlAttributes: getAttributesFromPropsList(_HelmetConstants.ATTRIBUTE_NAMES.HTML, propsList),\n    linkTags: getTagsFromPropsList(_HelmetConstants.TAG_NAMES.LINK, [_HelmetConstants.TAG_PROPERTIES.REL, _HelmetConstants.TAG_PROPERTIES.HREF], propsList),\n    metaTags: getTagsFromPropsList(_HelmetConstants.TAG_NAMES.META, [_HelmetConstants.TAG_PROPERTIES.NAME, _HelmetConstants.TAG_PROPERTIES.CHARSET, _HelmetConstants.TAG_PROPERTIES.HTTPEQUIV, _HelmetConstants.TAG_PROPERTIES.PROPERTY, _HelmetConstants.TAG_PROPERTIES.ITEM_PROP], propsList),\n    noscriptTags: getTagsFromPropsList(_HelmetConstants.TAG_NAMES.NOSCRIPT, [_HelmetConstants.TAG_PROPERTIES.INNER_HTML], propsList),\n    onChangeClientState: getOnChangeClientState(propsList),\n    scriptTags: getTagsFromPropsList(_HelmetConstants.TAG_NAMES.SCRIPT, [_HelmetConstants.TAG_PROPERTIES.SRC, _HelmetConstants.TAG_PROPERTIES.INNER_HTML], propsList),\n    styleTags: getTagsFromPropsList(_HelmetConstants.TAG_NAMES.STYLE, [_HelmetConstants.TAG_PROPERTIES.CSS_TEXT], propsList),\n    title: getTitleFromPropsList(propsList),\n    titleAttributes: getAttributesFromPropsList(_HelmetConstants.ATTRIBUTE_NAMES.TITLE, propsList)\n  };\n};\n\nvar rafPolyfill = function () {\n  var clock = Date.now();\n  return function (callback) {\n    var currentTime = Date.now();\n\n    if (currentTime - clock > 16) {\n      clock = currentTime;\n      callback(currentTime);\n    } else {\n      setTimeout(function () {\n        rafPolyfill(callback);\n      }, 0);\n    }\n  };\n}();\n\nvar cafPolyfill = function cafPolyfill(id) {\n  return clearTimeout(id);\n};\n\nvar requestAnimationFrame = typeof window !== \"undefined\" ? window.requestAnimationFrame || window.webkitRequestAnimationFrame || window.mozRequestAnimationFrame || rafPolyfill : global.requestAnimationFrame || rafPolyfill;\nvar cancelAnimationFrame = typeof window !== \"undefined\" ? window.cancelAnimationFrame || window.webkitCancelAnimationFrame || window.mozCancelAnimationFrame || cafPolyfill : global.cancelAnimationFrame || cafPolyfill;\n\nvar warn = function warn(msg) {\n  return console && typeof console.warn === \"function\" && console.warn(msg);\n};\n\nvar _helmetCallback = null;\n\nvar handleClientStateChange = function handleClientStateChange(newState) {\n  if (_helmetCallback) {\n    cancelAnimationFrame(_helmetCallback);\n  }\n\n  if (newState.defer) {\n    _helmetCallback = requestAnimationFrame(function () {\n      commitTagChanges(newState, function () {\n        _helmetCallback = null;\n      });\n    });\n  } else {\n    commitTagChanges(newState);\n    _helmetCallback = null;\n  }\n};\n\nvar commitTagChanges = function commitTagChanges(newState, cb) {\n  var baseTag = newState.baseTag,\n      bodyAttributes = newState.bodyAttributes,\n      htmlAttributes = newState.htmlAttributes,\n      linkTags = newState.linkTags,\n      metaTags = newState.metaTags,\n      noscriptTags = newState.noscriptTags,\n      onChangeClientState = newState.onChangeClientState,\n      scriptTags = newState.scriptTags,\n      styleTags = newState.styleTags,\n      title = newState.title,\n      titleAttributes = newState.titleAttributes;\n  updateAttributes(_HelmetConstants.TAG_NAMES.BODY, bodyAttributes);\n  updateAttributes(_HelmetConstants.TAG_NAMES.HTML, htmlAttributes);\n  updateTitle(title, titleAttributes);\n  var tagUpdates = {\n    baseTag: updateTags(_HelmetConstants.TAG_NAMES.BASE, baseTag),\n    linkTags: updateTags(_HelmetConstants.TAG_NAMES.LINK, linkTags),\n    metaTags: updateTags(_HelmetConstants.TAG_NAMES.META, metaTags),\n    noscriptTags: updateTags(_HelmetConstants.TAG_NAMES.NOSCRIPT, noscriptTags),\n    scriptTags: updateTags(_HelmetConstants.TAG_NAMES.SCRIPT, scriptTags),\n    styleTags: updateTags(_HelmetConstants.TAG_NAMES.STYLE, styleTags)\n  };\n  var addedTags = {};\n  var removedTags = {};\n  Object.keys(tagUpdates).forEach(function (tagType) {\n    var _tagUpdates$tagType = tagUpdates[tagType],\n        newTags = _tagUpdates$tagType.newTags,\n        oldTags = _tagUpdates$tagType.oldTags;\n\n    if (newTags.length) {\n      addedTags[tagType] = newTags;\n    }\n\n    if (oldTags.length) {\n      removedTags[tagType] = tagUpdates[tagType].oldTags;\n    }\n  });\n  cb && cb();\n  onChangeClientState(newState, addedTags, removedTags);\n};\n\nvar flattenArray = function flattenArray(possibleArray) {\n  return Array.isArray(possibleArray) ? possibleArray.join(\"\") : possibleArray;\n};\n\nvar updateTitle = function updateTitle(title, attributes) {\n  if (typeof title !== \"undefined\" && document.title !== title) {\n    document.title = flattenArray(title);\n  }\n\n  updateAttributes(_HelmetConstants.TAG_NAMES.TITLE, attributes);\n};\n\nvar updateAttributes = function updateAttributes(tagName, attributes) {\n  var elementTag = document.getElementsByTagName(tagName)[0];\n\n  if (!elementTag) {\n    return;\n  }\n\n  var helmetAttributeString = elementTag.getAttribute(_HelmetConstants.HELMET_ATTRIBUTE);\n  var helmetAttributes = helmetAttributeString ? helmetAttributeString.split(\",\") : [];\n  var attributesToRemove = [].concat(helmetAttributes);\n  var attributeKeys = Object.keys(attributes);\n\n  for (var i = 0; i < attributeKeys.length; i++) {\n    var attribute = attributeKeys[i];\n    var value = attributes[attribute] || \"\";\n\n    if (elementTag.getAttribute(attribute) !== value) {\n      elementTag.setAttribute(attribute, value);\n    }\n\n    if (helmetAttributes.indexOf(attribute) === -1) {\n      helmetAttributes.push(attribute);\n    }\n\n    var indexToSave = attributesToRemove.indexOf(attribute);\n\n    if (indexToSave !== -1) {\n      attributesToRemove.splice(indexToSave, 1);\n    }\n  }\n\n  for (var _i = attributesToRemove.length - 1; _i >= 0; _i--) {\n    elementTag.removeAttribute(attributesToRemove[_i]);\n  }\n\n  if (helmetAttributes.length === attributesToRemove.length) {\n    elementTag.removeAttribute(_HelmetConstants.HELMET_ATTRIBUTE);\n  } else if (elementTag.getAttribute(_HelmetConstants.HELMET_ATTRIBUTE) !== attributeKeys.join(\",\")) {\n    elementTag.setAttribute(_HelmetConstants.HELMET_ATTRIBUTE, attributeKeys.join(\",\"));\n  }\n};\n\nvar updateTags = function updateTags(type, tags) {\n  var headElement = document.head || document.querySelector(_HelmetConstants.TAG_NAMES.HEAD);\n  var tagNodes = headElement.querySelectorAll(type + \"[\" + _HelmetConstants.HELMET_ATTRIBUTE + \"]\");\n  var oldTags = Array.prototype.slice.call(tagNodes);\n  var newTags = [];\n  var indexToDelete = void 0;\n\n  if (tags && tags.length) {\n    tags.forEach(function (tag) {\n      var newElement = document.createElement(type);\n\n      for (var attribute in tag) {\n        if (tag.hasOwnProperty(attribute)) {\n          if (attribute === _HelmetConstants.TAG_PROPERTIES.INNER_HTML) {\n            newElement.innerHTML = tag.innerHTML;\n          } else if (attribute === _HelmetConstants.TAG_PROPERTIES.CSS_TEXT) {\n            if (newElement.styleSheet) {\n              newElement.styleSheet.cssText = tag.cssText;\n            } else {\n              newElement.appendChild(document.createTextNode(tag.cssText));\n            }\n          } else {\n            var value = typeof tag[attribute] === \"undefined\" ? \"\" : tag[attribute];\n            newElement.setAttribute(attribute, value);\n          }\n        }\n      }\n\n      newElement.setAttribute(_HelmetConstants.HELMET_ATTRIBUTE, \"true\"); // Remove a duplicate tag from domTagstoRemove, so it isn't cleared.\n\n      if (oldTags.some(function (existingTag, index) {\n        indexToDelete = index;\n        return newElement.isEqualNode(existingTag);\n      })) {\n        oldTags.splice(indexToDelete, 1);\n      } else {\n        newTags.push(newElement);\n      }\n    });\n  }\n\n  oldTags.forEach(function (tag) {\n    return tag.parentNode.removeChild(tag);\n  });\n  newTags.forEach(function (tag) {\n    return headElement.appendChild(tag);\n  });\n  return {\n    oldTags: oldTags,\n    newTags: newTags\n  };\n};\n\nvar generateElementAttributesAsString = function generateElementAttributesAsString(attributes) {\n  return Object.keys(attributes).reduce(function (str, key) {\n    var attr = typeof attributes[key] !== \"undefined\" ? key + \"=\\\"\" + attributes[key] + \"\\\"\" : \"\" + key;\n    return str ? str + \" \" + attr : attr;\n  }, \"\");\n};\n\nvar generateTitleAsString = function generateTitleAsString(type, title, attributes, encode) {\n  var attributeString = generateElementAttributesAsString(attributes);\n  var flattenedTitle = flattenArray(title);\n  return attributeString ? \"<\" + type + \" \" + _HelmetConstants.HELMET_ATTRIBUTE + \"=\\\"true\\\" \" + attributeString + \">\" + encodeSpecialCharacters(flattenedTitle, encode) + \"</\" + type + \">\" : \"<\" + type + \" \" + _HelmetConstants.HELMET_ATTRIBUTE + \"=\\\"true\\\">\" + encodeSpecialCharacters(flattenedTitle, encode) + \"</\" + type + \">\";\n};\n\nvar generateTagsAsString = function generateTagsAsString(type, tags, encode) {\n  return tags.reduce(function (str, tag) {\n    var attributeHtml = Object.keys(tag).filter(function (attribute) {\n      return !(attribute === _HelmetConstants.TAG_PROPERTIES.INNER_HTML || attribute === _HelmetConstants.TAG_PROPERTIES.CSS_TEXT);\n    }).reduce(function (string, attribute) {\n      var attr = typeof tag[attribute] === \"undefined\" ? attribute : attribute + \"=\\\"\" + encodeSpecialCharacters(tag[attribute], encode) + \"\\\"\";\n      return string ? string + \" \" + attr : attr;\n    }, \"\");\n    var tagContent = tag.innerHTML || tag.cssText || \"\";\n    var isSelfClosing = _HelmetConstants.SELF_CLOSING_TAGS.indexOf(type) === -1;\n    return str + \"<\" + type + \" \" + _HelmetConstants.HELMET_ATTRIBUTE + \"=\\\"true\\\" \" + attributeHtml + (isSelfClosing ? \"/>\" : \">\" + tagContent + \"</\" + type + \">\");\n  }, \"\");\n};\n\nvar convertElementAttributestoReactProps = function convertElementAttributestoReactProps(attributes) {\n  var initProps = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  return Object.keys(attributes).reduce(function (obj, key) {\n    obj[_HelmetConstants.REACT_TAG_MAP[key] || key] = attributes[key];\n    return obj;\n  }, initProps);\n};\n\nvar convertReactPropstoHtmlAttributes = function convertReactPropstoHtmlAttributes(props) {\n  var initAttributes = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  return Object.keys(props).reduce(function (obj, key) {\n    obj[_HelmetConstants.HTML_TAG_MAP[key] || key] = props[key];\n    return obj;\n  }, initAttributes);\n};\n\nvar generateTitleAsReactComponent = function generateTitleAsReactComponent(type, title, attributes) {\n  var _initProps; // assigning into an array to define toString function on it\n\n\n  var initProps = (_initProps = {\n    key: title\n  }, _initProps[_HelmetConstants.HELMET_ATTRIBUTE] = true, _initProps);\n  var props = convertElementAttributestoReactProps(attributes, initProps);\n  return [_react2.default.createElement(_HelmetConstants.TAG_NAMES.TITLE, props, title)];\n};\n\nvar generateTagsAsReactComponent = function generateTagsAsReactComponent(type, tags) {\n  return tags.map(function (tag, i) {\n    var _mappedTag;\n\n    var mappedTag = (_mappedTag = {\n      key: i\n    }, _mappedTag[_HelmetConstants.HELMET_ATTRIBUTE] = true, _mappedTag);\n    Object.keys(tag).forEach(function (attribute) {\n      var mappedAttribute = _HelmetConstants.REACT_TAG_MAP[attribute] || attribute;\n\n      if (mappedAttribute === _HelmetConstants.TAG_PROPERTIES.INNER_HTML || mappedAttribute === _HelmetConstants.TAG_PROPERTIES.CSS_TEXT) {\n        var content = tag.innerHTML || tag.cssText;\n        mappedTag.dangerouslySetInnerHTML = {\n          __html: content\n        };\n      } else {\n        mappedTag[mappedAttribute] = tag[attribute];\n      }\n    });\n    return _react2.default.createElement(type, mappedTag);\n  });\n};\n\nvar getMethodsForTag = function getMethodsForTag(type, tags, encode) {\n  switch (type) {\n    case _HelmetConstants.TAG_NAMES.TITLE:\n      return {\n        toComponent: function toComponent() {\n          return generateTitleAsReactComponent(type, tags.title, tags.titleAttributes, encode);\n        },\n        toString: function toString() {\n          return generateTitleAsString(type, tags.title, tags.titleAttributes, encode);\n        }\n      };\n\n    case _HelmetConstants.ATTRIBUTE_NAMES.BODY:\n    case _HelmetConstants.ATTRIBUTE_NAMES.HTML:\n      return {\n        toComponent: function toComponent() {\n          return convertElementAttributestoReactProps(tags);\n        },\n        toString: function toString() {\n          return generateElementAttributesAsString(tags);\n        }\n      };\n\n    default:\n      return {\n        toComponent: function toComponent() {\n          return generateTagsAsReactComponent(type, tags);\n        },\n        toString: function toString() {\n          return generateTagsAsString(type, tags, encode);\n        }\n      };\n  }\n};\n\nvar mapStateOnServer = function mapStateOnServer(_ref) {\n  var baseTag = _ref.baseTag,\n      bodyAttributes = _ref.bodyAttributes,\n      encode = _ref.encode,\n      htmlAttributes = _ref.htmlAttributes,\n      linkTags = _ref.linkTags,\n      metaTags = _ref.metaTags,\n      noscriptTags = _ref.noscriptTags,\n      scriptTags = _ref.scriptTags,\n      styleTags = _ref.styleTags,\n      _ref$title = _ref.title,\n      title = _ref$title === undefined ? \"\" : _ref$title,\n      titleAttributes = _ref.titleAttributes;\n  return {\n    base: getMethodsForTag(_HelmetConstants.TAG_NAMES.BASE, baseTag, encode),\n    bodyAttributes: getMethodsForTag(_HelmetConstants.ATTRIBUTE_NAMES.BODY, bodyAttributes, encode),\n    htmlAttributes: getMethodsForTag(_HelmetConstants.ATTRIBUTE_NAMES.HTML, htmlAttributes, encode),\n    link: getMethodsForTag(_HelmetConstants.TAG_NAMES.LINK, linkTags, encode),\n    meta: getMethodsForTag(_HelmetConstants.TAG_NAMES.META, metaTags, encode),\n    noscript: getMethodsForTag(_HelmetConstants.TAG_NAMES.NOSCRIPT, noscriptTags, encode),\n    script: getMethodsForTag(_HelmetConstants.TAG_NAMES.SCRIPT, scriptTags, encode),\n    style: getMethodsForTag(_HelmetConstants.TAG_NAMES.STYLE, styleTags, encode),\n    title: getMethodsForTag(_HelmetConstants.TAG_NAMES.TITLE, {\n      title: title,\n      titleAttributes: titleAttributes\n    }, encode)\n  };\n};\n\nexports.convertReactPropstoHtmlAttributes = convertReactPropstoHtmlAttributes;\nexports.handleClientStateChange = handleClientStateChange;\nexports.mapStateOnServer = mapStateOnServer;\nexports.reducePropsToState = reducePropsToState;\nexports.requestAnimationFrame = requestAnimationFrame;\nexports.warn = warn;","/**\n * SEO component that queries for data with\n *  Gatsby's useStaticQuery React hook\n *\n * See: https://www.gatsbyjs.org/docs/use-static-query/\n */\n\nimport React from \"react\"\nimport PropTypes from \"prop-types\"\nimport Helmet from \"react-helmet\"\nimport { useStaticQuery, graphql } from \"gatsby\"\n\nfunction SEO({ description, lang, meta, keywords, title }) {\n  const { site } = useStaticQuery(\n    graphql`\n      query {\n        site {\n          siteMetadata {\n            title\n            description\n            author\n          }\n        }\n      }\n    `\n  )\n\n  const metaDescription = description || site.siteMetadata.description\n\n  return (\n    <Helmet\n      htmlAttributes={{\n        lang,\n      }}\n      title={title}\n      titleTemplate={`%s | ${site.siteMetadata.title}`}\n      meta={[\n        {\n          name: `description`,\n          content: metaDescription,\n        },\n        {\n          property: `og:title`,\n          content: title,\n        },\n        {\n          property: `og:description`,\n          content: metaDescription,\n        },\n        {\n          property: `og:type`,\n          content: `website`,\n        },\n        {\n          name: `twitter:card`,\n          content: `summary`,\n        },\n        {\n          name: `twitter:creator`,\n          content: site.siteMetadata.author,\n        },\n        {\n          name: `twitter:title`,\n          content: title,\n        },\n        {\n          name: `twitter:description`,\n          content: metaDescription,\n        },\n      ]\n        .concat(\n          keywords.length > 0\n            ? {\n                name: `keywords`,\n                content: keywords.join(`, `),\n              }\n            : []\n        )\n        .concat(meta)}\n    />\n  )\n}\n\nSEO.defaultProps = {\n  lang: `en`,\n  meta: [],\n  keywords: [],\n  description: ``,\n}\n\nSEO.propTypes = {\n  description: PropTypes.string,\n  lang: PropTypes.string,\n  meta: PropTypes.arrayOf(PropTypes.object),\n  keywords: PropTypes.arrayOf(PropTypes.string),\n  title: PropTypes.string.isRequired,\n}\n\nexport default SEO\n"],"sourceRoot":""}