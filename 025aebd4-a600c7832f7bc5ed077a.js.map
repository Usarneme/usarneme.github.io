{"version":3,"sources":["webpack:///./node_modules/pts/dist/es5.js"],"names":["factory","_regeneratorRuntime","modules","installedModules","__webpack_require__","moduleId","exports","module","i","l","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","_createClass","defineProperties","target","props","length","descriptor","configurable","writable","Constructor","protoProps","staticProps","_toConsumableArray","arr","Array","isArray","arr2","from","_classCallCheck","instance","TypeError","_possibleConstructorReturn","self","ReferenceError","_inherits","subClass","superClass","constructor","setPrototypeOf","__proto__","CanvasForm","CanvasSpace","Space_1","Form_1","Pt_1","Util_1","Typography_1","Op_1","Image_1","_Space_1$MultiTouchSp","elem","callback","this","_this","getPrototypeOf","_pixelScale","_autoResize","_bgcolor","_offscreen","_initialResize","_selector","id","Element","document","querySelector","substr","nodeName","toLowerCase","_container","_canvas","_createElement","appendChild","parentElement","body","setTimeout","_ready","_ctx","getContext","arguments","undefined","createElement","setAttribute","Error","k","_isReady","_resizeHandler","clear","dispatchEvent","Event","players","start","bound","clone","_pointer","center","opt","bgcolor","autoResize","resize","retina","r1","window","devicePixelRatio","r2","webkitBackingStorePixelRatio","mozBackingStorePixelRatio","msBackingStorePixelRatio","oBackingStorePixelRatio","backingStorePixelRatio","Math","max","offscreen","_offCanvas","_offCtx","b","evt","width","size","x","height","y","style","floor","scale","render","isPlaying","playOnce","getBoundingClientRect","box","Bound","fromBoundingRect","add","pageXOffset","pageYOffset","bg","lastColor","fillStyle","clearRect","indexOf","fillRect","time","save","receiver","Function","desc","getOwnPropertyDescriptor","parent","_get","restore","removeEventListener","stop","removeAll","set","auto","addEventListener","MultiTouchSpace","_Form_1$VisualForm","space","_this2","_style","strokeStyle","lineWidth","lineJoin","lineCap","globalAlpha","_space","ctx","font","_font","off","clearOffscreen","hasOffscreen","offscreenCtx","offset","drawImage","offscreenCanvas","a","filled","linejoin","linecap","stroked","stops","_this3","vals","push","len","v","area1","area2","map","abs","grad","createRadialGradient","createLinearGradient","_i","_len","addColorStop","globalCompositeOperation","clip","segments","setLineDash","lineDashOffset","sizeOrFont","weight","lineHeight","family","face","_estimateTextWidth","fontWidthEstimate","_this4","estimate","Typography","textWidthEstimator","measureText","str","tail","truncate","getTextWidth","vertical","_box","Util","iterToArray","arrayCheck","Rectangle","px","textAlign","py","Pt","Font","_filled","fill","_stroked","stroke","radius","shape","point","_paint","pts","circle","pt","rotation","startAngle","endAngle","Const","two_pi","cc","ellipse","arc","halfsize","square","line","polygon","rect","ptOrRect","img","orig","Img","loaded","image","imageData","txt","maxWidth","text","verticalAlign","overrideBaseline","textBaseline","_textTruncate","_textAlign","_this5","crop","lstep","nextLine","sub","buffer","newln","dt","lastIndexOf","lines","lsize","lbox","lpad","Group","$add","$subtract","alignment","baseline","w","fn","strokeWidth","beginPath","closePath","x1","y1","x2","y2","moveTo","lineTo","_iteratorNormalCompletion","_didIteratorError","_iteratorError","_step","_iterator","iterator","next","done","it","err","return","pos","apply","concat","putImageData","fillText","VisualForm","_slicedToArray","_arr","_n","_d","_e","_s","sliceIterator","Color","Num_1","_Pt_1$Pt","_ref","args","_key","_mode","_isNorm","toMode","convert","fname","toUpperCase","to","toNorm","ranges","Num","mapToRange","normalize","format","_hex","toString","alpha","_len2","_key2","getArgs","hex","substring","hexVal","parseInt","zipSlice","$take","rgb","normalizedInput","normalizedOutput","_ref2","$normalize","_ref3","g","min","h","hsl","_hsl","q","sc","_ref4","_ref5","hsb","_hsb","f","pick","XYZtoLAB","RGBtoXYZ","lab","XYZtoRGB","LABtoXYZ","LABtoLCH","RGBtoLAB","lch","LABtoRGB","LCHtoLAB","XYZtoLUV","luv","LUVtoXYZ","pow","xyz","_ref6","_ref7","z","round","divide","D65","cy","nnn","_ref8","_ref9","u","refU","refV","L","_ref10","_ref11","cubeY","Geom","toDegree","boundRadian","atan2","sqrt","rad","toRadian","cos","sin","Delaunay","Noise","Create","LinearAlgebra_1","count","dimensions","random","depth","_line","ln","Line","subpoints","unshift","columns","rows","orientation","unit","$divide","$multiply","topLeft","angleOffset","half_pi","toAngle","dx","dy","seed","np","initNoise","__noise_grad3","__noise_permTable","perm","j","n00","Vec","dot","n01","n10","n11","_fade","tx","lerp","_Pt_1$Group","_mesh","triangleOnly","indices","sort","slice","st","_superTriangle","opened","_circum","closed","tris","edges","circum","triangle","splice","epsilon","_dedupe","_i2","_len3","_cache","vs","neighborPts","cs","sortEdges","minPt","maxPt","$min","$max","mid","dmax","tri","_triangle","Triangle","circumcircle","HTMLForm","HTMLSpace","DOMSpace","_css","refresh","styles","background","innerHTML","val","update","_styles","backgroundColor","appendTo","data","_DOMSpace","player","querySelectorAll","scopeID","forEach","el","parentNode","removeChild","autoClass","group","groupID","groupCount","currentID","currentClass","element","assign","styleTo","group_id","nextID","item","animateID","updateScope","warn","domID","setAttr","join","htmlElement","getID","class","rectStyle","textContent","textStyle","Form","_Form","groups","rest","_multiple","editable","pixelScale","_scale","_loaded","_editable","_img","Image","src","Promise","resolve","reject","onload","_cv","_drawToScale","_data","getImageData","onerror","canvasScale","cms","nw","nh","createImageBitmap","bitmap","then","load","toBase64","rescale","getPixel","sizeOrScale","asScale","naturalWidth","naturalHeight","css","filter","toDataURL","ready","res","imgData","no","blob","url","URL","createObjectURL","Mat","_i3","_i4","_len4","magnitude","make","ceil","Number","MIN_VALUE","index","MAX_VALUE","isNum","transposed","elementwise","ai","alen","transpose","_ai","_alen","bi","blen","_ai2","_alen2","defaultValue","useLongest","ps","reduce","zip","cosA","sinA","tanX","tanY","sx","sy","at","scale2DMatrix","rotate2DMatrix","shear2DMatrix","p1","p2","intercept","yi","ang2","atan","slope","Range","Shaping","threshold","range","subtract","_pts","sum","method","sineInOut","currA","currB","targetA","targetB","normalizeValue","angle","boundValue","radian","deg_to_rad","rad_to_deg","average","ptOrIndex","direction","_iteratorNormalCompletion2","_didIteratorError2","_iteratorError2","_step2","_iterator2","axis","xy","pa","pb","boundPt1","boundPt2","within","bounds","boundingBox","da","db","det","$cross2D","anchor","scs","lenP","rotateAt2DMatrix","transform2D","shearAt2DMatrix","tanx","tan","tany","mat","reflectAt2DMatrix","Float64Array","PI","table","boundAngle","t2","t4","t6","bounceOut","bounceIn","exp","A","B","C","om2a","curve","Curve","bezierStep","controlPoints","steps","tt","_dims","_source","fromPtArray","calc","dims","mag","_max","_min","_mag","exclude","Polygon","Circle","_errorLength","obj","param","_errorOutofBound","xi","p3","$cross","equals","magnitudeSq","asProjection","proj","$project","projectionVector","perpendicularFromPt","la","lb","_la","_lb","_y","intersectRay2D","withinBound","ray","_ray","lineOrRay","poly","sourceIsRay","_lineOrRay","_poly","intersectLineWithRay2D","intersectLine2D","lines1","lines2","isRay","l1","l2","_ip","gridPt","intersectGridWithRay2D","gg","_rect","hasIntersectRect2D","intersectLines2D","sides","num","interpolate","cropAsCircle","tdx","ls","multiply","fromCenter","sideIdx","graphic","atTail","perpendicular","widthOrSize","fromTopLeft","half","fromRect","enclose","maxValue","minValue","p0","_Rectangle$corners","corners","_Rectangle$corners2","rects","_rects","merged","flatten","_iteratorNormalCompletion3","_didIteratorError3","_iteratorError3","_step3","_iterator3","_center","ratio","asRows","rect1","rect2","resetBoundingBox","_rect1","_rect2","incircle","disc","discSqrt","t1","circle1","circle2","_circle","dv","dr2","dr","ar","br","ar2","br2","ang","inc","top","left","toTriangle","fromCircle","midpoints","opp","oppositeSide","altitude","bisector","incenter","area","perimeter","total","md","medial","circumcenter","centroid","sp","split","mids","gs","right","adjacentSides","sorted","dq","bot","hull","originIndex","_near","_item","_iteratorNormalCompletion4","_didIteratorError4","_iteratorError4","_step4","_iterator4","unitAxis","poly1","poly2","projectAxis","lineAt","info","which","dist","normal","edge","vertex","minDist","MAX_SAFE_INTEGER","_axisOverlap","_poly1","_poly2","plen","b1","b2","c1","c2","smallest","lp","ins","intersectPolygon2D","polys","boxes","_iteratorNormalCompletion5","_didIteratorError5","_iteratorError5","_step5","_iterator5","ts","copyStart","_index","ctrls","params","getSteps","catmullRomStep","cp","step","_calcPt","tension","cardinalStep","h2","h3","bsplineTensionStep","bsplineStep","Body","Particle","World","friction","gravity","_lastTime","_gravity","_friction","_damping","_particles","_bodies","_pnames","_bnames","_bound","fromGroup","idx","ms","_updateParticles","_updateBodies","_drawParticles","_drawBodies","bodyIndex","particleIndex","prevDt","addForce","verlet","integrate","boundConstraint","collide","bds","klen","bk","_k","processBody","mlen","processParticle","processEdges","stiff","precise","m1","mass","m2","mm","delta","distSq","damping","changed","previous","_c","_mass","_radius","_force","_prev","_lock","lastDt","_lockPt","lt","damp","dp","np1","np2","f1","f2","dm1","dm2","_body","_cs","_stiff","_locks","li","index1","index2","link","nd","n2","_cs$i","edgeConstraint","hit","hasIntersectPolygon","cv","eg","lambda","m0","mr0","mr1","hasIntersectCircle","autoLink","autoMass","init","linkAll","__awaiter","thisArg","_arguments","P","generator","fulfilled","e","rejected","result","Sound","Tempo","bpm","_listeners","_listenerInc","listener","beats","_createID","period","duration","continuous","progress","_t","_ms","isStart","clamp","ftime","track","type","_bpm","_playing","_type","AudioContext","webkitAudioContext","buf","_node","createBufferSource","_buffer","onended","createOscillator","osc","setPeriodicWave","frequency","node","connect","outputNode","_outputNode","minDb","maxDb","smooth","createAnalyser","fftSize","minDecibels","maxDecibels","smoothingTimeConstant","analyzer","frequencyBinCount","Uint8Array","getByteTimeDomainData","getByteFrequencyData","position","trim","timeDomain","freqDomain","_domain","_domainTo","disconnect","timeAt","state","resume","_timestamp","currentTime","play","_gen","destination","pause","_stream","getAudioTracks","dur","curr","readyState","sampleRate","stream","source","crossOrigin","Audio","autoplay","createMediaElementSource","request","XMLHttpRequest","open","responseType","decodeAudioData","response","createBuffer","send","constraint","mark","_callee","wrap","_context","prev","abrupt","audio","video","navigator","mediaDevices","getUserMedia","sent","createMediaStreamSource","t0","console","error","_extendableBuiltin2","_clone","anchorFromPt","change","_key3","fns","_ops","op","_key4","toArray","_len5","_key5","_clone2","_len6","_key6","_clone3","_len7","_key7","_clone4","_len8","_key8","_clone5","_len9","_key9","_len10","_key10","cross2D","_len11","_key11","cross","_len12","_key12","_len13","_key13","rotate2D","shear2D","reflect2D","_id","randomize","Float32Array","cls","ExtendableBuiltin","Reflect","construct","_extendableBuiltin","_extendableBuiltin4","_len14","_key14","chunkSize","stride","loopBack","pts_per_segment","_len15","_key15","chunk","tc","_len16","_key16","moveBy","_scale2","dim","ptFn","_len17","_key17","_len18","_key18","forEachPt","_len19","_key19","_len20","_key20","_len21","_key21","list","_extendableBuiltin3","_Group","_len22","_key22","_size","_topLeft","_bottomRight","_inited","_updateSize","_updateCenter","_updatePosFromTop","_updatePosFromCenter","bottom","_g","Space","UI_1","_time","diff","end","playerCount","_animID","_pause","_refresh","animate","pid","inited","requestAnimationFrame","playItems","cancelAnimationFrame","toggle","context","_renderFunc","_Space","_pressed","_dragged","_hasMouse","_hasTouch","options","_bind","bindCanvas","_mouseDown","_mouseUp","_mouseOver","_mouseOut","_mouseMove","_contextMenu","unbindCanvas","_touchStart","passive","_touchMove","pageX","pageY","MouseEvent","outerBound","action","_v","changedTouches","touch","_mouseAction","UIPointerActions","down","drop","up","move","drag","over","out","contextmenu","preventDefault","SVGForm","SVGSpace","Dom_1","_Dom_1$DOMSpace","svgElement","createElementNS","cx","largeArc","pi","sweep","points","pointsString","string","fromArray","samples","distribution","avg","byHeight","box2","bound2","defaultSize","UIDragger","UIButton","UI","UIShape","rectangle","polyline","uidrag","uidrop","enter","leave","all","states","_holds","Map","_group","_shape","_counter","_states","_actions","_addHandler","_removeHandler","_within","values","_trigger","newKey","keys","delete","hasIntersectPoint","ui","uis","listen","temp","_UI","_hoverID","hover","clicks","UA","on","_capID","hold","unhold","ids","enterID","leaveID","_UIButton","_draggingID","_moveHoldID","_dropHoldID","_upHoldID","dragging","moved","endDrag","_typeof","yz","xz","horizontal","identical","bottom_right","bottom_left","top_left","top_right","quarter_pi","one_degree","newton","gaussian","lv","_warnLevel","ArrayBuffer","isView","message","defaultReturn","warnLevel","matchSize","chunks","part","flattenAsGroup","lenB","arrays","status","responseText","avgFrames","last","Date","now","shift","minRequired","__createBinding","k2","__exportStar"],"mappings":"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","file":"025aebd4-a600c7832f7bc5ed077a.js","sourcesContent":["require(\"core-js/modules/es.array.reduce.js\");\n\nvar _regeneratorRuntime = require(\"/Users/usarneme/Projects/gatsby-portfolio/node_modules/@babel/runtime/regenerator\");\n\n/*!\n * pts.js 0.10.2 - Copyright  2017-2021 William Ngan and contributors.\n * Licensed under Apache 2.0 License.\n * See https://github.com/williamngan/pts for details.\n */\n(function webpackUniversalModuleDefinition(root, factory) {\n  if (typeof exports === 'object' && typeof module === 'object') module.exports = factory();else if (typeof define === 'function' && define.amd) define([], factory);else {\n    var a = factory();\n\n    for (var i in a) {\n      (typeof exports === 'object' ? exports : root)[i] = a[i];\n    }\n  }\n})(this, function () {\n  return (\n    /******/\n    function (modules) {\n      // webpackBootstrap\n\n      /******/\n      // The module cache\n\n      /******/\n      var installedModules = {};\n      /******/\n\n      /******/\n      // The require function\n\n      /******/\n\n      function __webpack_require__(moduleId) {\n        /******/\n\n        /******/\n        // Check if module is in cache\n\n        /******/\n        if (installedModules[moduleId]) {\n          /******/\n          return installedModules[moduleId].exports;\n          /******/\n        }\n        /******/\n        // Create a new module (and put it into the cache)\n\n        /******/\n\n\n        var module = installedModules[moduleId] = {\n          /******/\n          i: moduleId,\n\n          /******/\n          l: false,\n\n          /******/\n          exports: {}\n          /******/\n\n        };\n        /******/\n\n        /******/\n        // Execute the module function\n\n        /******/\n\n        modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n        /******/\n\n        /******/\n        // Flag the module as loaded\n\n        /******/\n\n        module.l = true;\n        /******/\n\n        /******/\n        // Return the exports of the module\n\n        /******/\n\n        return module.exports;\n        /******/\n      }\n      /******/\n\n      /******/\n\n      /******/\n      // expose the modules object (__webpack_modules__)\n\n      /******/\n\n\n      __webpack_require__.m = modules;\n      /******/\n\n      /******/\n      // expose the module cache\n\n      /******/\n\n      __webpack_require__.c = installedModules;\n      /******/\n\n      /******/\n      // define getter function for harmony exports\n\n      /******/\n\n      __webpack_require__.d = function (exports, name, getter) {\n        /******/\n        if (!__webpack_require__.o(exports, name)) {\n          /******/\n          Object.defineProperty(exports, name, {\n            enumerable: true,\n            get: getter\n          });\n          /******/\n        }\n        /******/\n\n      };\n      /******/\n\n      /******/\n      // define __esModule on exports\n\n      /******/\n\n\n      __webpack_require__.r = function (exports) {\n        /******/\n        if (typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n          /******/\n          Object.defineProperty(exports, Symbol.toStringTag, {\n            value: 'Module'\n          });\n          /******/\n        }\n        /******/\n\n\n        Object.defineProperty(exports, '__esModule', {\n          value: true\n        });\n        /******/\n      };\n      /******/\n\n      /******/\n      // create a fake namespace object\n\n      /******/\n      // mode & 1: value is a module id, require it\n\n      /******/\n      // mode & 2: merge all properties of value into the ns\n\n      /******/\n      // mode & 4: return value when already ns object\n\n      /******/\n      // mode & 8|1: behave like require\n\n      /******/\n\n\n      __webpack_require__.t = function (value, mode) {\n        /******/\n        if (mode & 1) value = __webpack_require__(value);\n        /******/\n\n        if (mode & 8) return value;\n        /******/\n\n        if (mode & 4 && typeof value === 'object' && value && value.__esModule) return value;\n        /******/\n\n        var ns = Object.create(null);\n        /******/\n\n        __webpack_require__.r(ns);\n        /******/\n\n\n        Object.defineProperty(ns, 'default', {\n          enumerable: true,\n          value: value\n        });\n        /******/\n\n        if (mode & 2 && typeof value != 'string') for (var key in value) {\n          __webpack_require__.d(ns, key, function (key) {\n            return value[key];\n          }.bind(null, key));\n        }\n        /******/\n\n        return ns;\n        /******/\n      };\n      /******/\n\n      /******/\n      // getDefaultExport function for compatibility with non-harmony modules\n\n      /******/\n\n\n      __webpack_require__.n = function (module) {\n        /******/\n        var getter = module && module.__esModule ?\n        /******/\n        function getDefault() {\n          return module['default'];\n        } :\n        /******/\n        function getModuleExports() {\n          return module;\n        };\n        /******/\n\n        __webpack_require__.d(getter, 'a', getter);\n        /******/\n\n\n        return getter;\n        /******/\n      };\n      /******/\n\n      /******/\n      // Object.prototype.hasOwnProperty.call\n\n      /******/\n\n\n      __webpack_require__.o = function (object, property) {\n        return Object.prototype.hasOwnProperty.call(object, property);\n      };\n      /******/\n\n      /******/\n      // __webpack_public_path__\n\n      /******/\n\n\n      __webpack_require__.p = \"\";\n      /******/\n\n      /******/\n\n      /******/\n      // Load entry module and return exports\n\n      /******/\n\n      return __webpack_require__(__webpack_require__.s = \"./src/_module.ts\");\n      /******/\n    }(\n    /************************************************************************/\n\n    /******/\n    {\n      /***/\n      \"./src/Canvas.ts\":\n      /*!***********************!*\\\n        !*** ./src/Canvas.ts ***!\n        \\***********************/\n\n      /*! no static exports found */\n\n      /***/\n      function srcCanvasTs(module, exports, __webpack_require__) {\n        \"use strict\";\n        /*! Source code licensed under Apache License 2.0. Copyright  2017-current William Ngan and contributors. (https://github.com/williamngan/pts) */\n\n        var _createClass = function () {\n          function defineProperties(target, props) {\n            for (var i = 0; i < props.length; i++) {\n              var descriptor = props[i];\n              descriptor.enumerable = descriptor.enumerable || false;\n              descriptor.configurable = true;\n              if (\"value\" in descriptor) descriptor.writable = true;\n              Object.defineProperty(target, descriptor.key, descriptor);\n            }\n          }\n\n          return function (Constructor, protoProps, staticProps) {\n            if (protoProps) defineProperties(Constructor.prototype, protoProps);\n            if (staticProps) defineProperties(Constructor, staticProps);\n            return Constructor;\n          };\n        }();\n\n        var _get = function get(object, property, receiver) {\n          if (object === null) object = Function.prototype;\n          var desc = Object.getOwnPropertyDescriptor(object, property);\n\n          if (desc === undefined) {\n            var parent = Object.getPrototypeOf(object);\n\n            if (parent === null) {\n              return undefined;\n            } else {\n              return get(parent, property, receiver);\n            }\n          } else if (\"value\" in desc) {\n            return desc.value;\n          } else {\n            var getter = desc.get;\n\n            if (getter === undefined) {\n              return undefined;\n            }\n\n            return getter.call(receiver);\n          }\n        };\n\n        function _toConsumableArray(arr) {\n          if (Array.isArray(arr)) {\n            for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) {\n              arr2[i] = arr[i];\n            }\n\n            return arr2;\n          } else {\n            return Array.from(arr);\n          }\n        }\n\n        function _classCallCheck(instance, Constructor) {\n          if (!(instance instanceof Constructor)) {\n            throw new TypeError(\"Cannot call a class as a function\");\n          }\n        }\n\n        function _possibleConstructorReturn(self, call) {\n          if (!self) {\n            throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n          }\n\n          return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self;\n        }\n\n        function _inherits(subClass, superClass) {\n          if (typeof superClass !== \"function\" && superClass !== null) {\n            throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass);\n          }\n\n          subClass.prototype = Object.create(superClass && superClass.prototype, {\n            constructor: {\n              value: subClass,\n              enumerable: false,\n              writable: true,\n              configurable: true\n            }\n          });\n          if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;\n        }\n\n        Object.defineProperty(exports, \"__esModule\", {\n          value: true\n        });\n        exports.CanvasForm = exports.CanvasSpace = void 0;\n\n        var Space_1 = __webpack_require__(\n        /*! ./Space */\n        \"./src/Space.ts\");\n\n        var Form_1 = __webpack_require__(\n        /*! ./Form */\n        \"./src/Form.ts\");\n\n        var Pt_1 = __webpack_require__(\n        /*! ./Pt */\n        \"./src/Pt.ts\");\n\n        var Util_1 = __webpack_require__(\n        /*! ./Util */\n        \"./src/Util.ts\");\n\n        var Typography_1 = __webpack_require__(\n        /*! ./Typography */\n        \"./src/Typography.ts\");\n\n        var Op_1 = __webpack_require__(\n        /*! ./Op */\n        \"./src/Op.ts\");\n\n        var Image_1 = __webpack_require__(\n        /*! ./Image */\n        \"./src/Image.ts\");\n\n        var CanvasSpace = function (_Space_1$MultiTouchSp) {\n          _inherits(CanvasSpace, _Space_1$MultiTouchSp);\n\n          function CanvasSpace(elem, callback) {\n            _classCallCheck(this, CanvasSpace);\n\n            var _this = _possibleConstructorReturn(this, (CanvasSpace.__proto__ || Object.getPrototypeOf(CanvasSpace)).call(this));\n\n            _this._pixelScale = 1;\n            _this._autoResize = true;\n            _this._bgcolor = \"#e1e9f0\";\n            _this._offscreen = false;\n            _this._initialResize = false;\n            var _selector = null;\n            var _existed = false;\n            _this.id = \"pt\";\n\n            if (elem instanceof Element) {\n              _selector = elem;\n              _this.id = \"pts_existing_space\";\n            } else {\n              var id = elem;\n              id = elem[0] === \"#\" || elem[0] === \".\" ? elem : \"#\" + elem;\n              _selector = document.querySelector(id);\n              _existed = true;\n              _this.id = id.substr(1);\n            }\n\n            if (!_selector) {\n              _this._container = _this._createElement(\"div\", _this.id + \"_container\");\n              _this._canvas = _this._createElement(\"canvas\", _this.id);\n\n              _this._container.appendChild(_this._canvas);\n\n              document.body.appendChild(_this._container);\n              _existed = false;\n            } else if (_selector.nodeName.toLowerCase() != \"canvas\") {\n              _this._container = _selector;\n              _this._canvas = _this._createElement(\"canvas\", _this.id + \"_canvas\");\n\n              _this._container.appendChild(_this._canvas);\n\n              _this._initialResize = true;\n            } else {\n              _this._canvas = _selector;\n              _this._container = _selector.parentElement;\n              _this._autoResize = false;\n            }\n\n            setTimeout(_this._ready.bind(_this, callback), 100);\n            _this._ctx = _this._canvas.getContext('2d');\n            return _this;\n          }\n\n          _createClass(CanvasSpace, [{\n            key: \"_createElement\",\n            value: function _createElement() {\n              var elem = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : \"div\";\n              var id = arguments[1];\n              var d = document.createElement(elem);\n              d.setAttribute(\"id\", id);\n              return d;\n            }\n          }, {\n            key: \"_ready\",\n            value: function _ready(callback) {\n              if (!this._container) throw new Error(\"Cannot initiate #\" + this.id + \" element\");\n              this._isReady = true;\n\n              this._resizeHandler(null);\n\n              this.clear(this._bgcolor);\n\n              this._canvas.dispatchEvent(new Event(\"ready\"));\n\n              for (var k in this.players) {\n                if (this.players.hasOwnProperty(k)) {\n                  if (this.players[k].start) this.players[k].start(this.bound.clone(), this);\n                }\n              }\n\n              this._pointer = this.center;\n              this._initialResize = false;\n              if (callback) callback(this.bound, this._canvas);\n            }\n          }, {\n            key: \"setup\",\n            value: function setup(opt) {\n              if (opt.bgcolor) this._bgcolor = opt.bgcolor;\n              this.autoResize = opt.resize != undefined ? opt.resize : false;\n\n              if (opt.retina !== false) {\n                var r1 = window ? window.devicePixelRatio || 1 : 1;\n                var r2 = this._ctx.webkitBackingStorePixelRatio || this._ctx.mozBackingStorePixelRatio || this._ctx.msBackingStorePixelRatio || this._ctx.oBackingStorePixelRatio || this._ctx.backingStorePixelRatio || 1;\n                this._pixelScale = Math.max(1, r1 / r2);\n              }\n\n              if (opt.offscreen) {\n                this._offscreen = true;\n                this._offCanvas = this._createElement(\"canvas\", this.id + \"_offscreen\");\n                this._offCtx = this._offCanvas.getContext('2d');\n              } else {\n                this._offscreen = false;\n              }\n\n              return this;\n            }\n          }, {\n            key: \"resize\",\n            value: function resize(b, evt) {\n              this.bound = b;\n              this._canvas.width = this.bound.size.x * this._pixelScale;\n              this._canvas.height = this.bound.size.y * this._pixelScale;\n              this._canvas.style.width = Math.floor(this.bound.size.x) + \"px\";\n              this._canvas.style.height = Math.floor(this.bound.size.y) + \"px\";\n\n              if (this._offscreen) {\n                this._offCanvas.width = this.bound.size.x * this._pixelScale;\n                this._offCanvas.height = this.bound.size.y * this._pixelScale;\n              }\n\n              if (this._pixelScale != 1) {\n                this._ctx.scale(this._pixelScale, this._pixelScale);\n\n                if (this._offscreen) {\n                  this._offCtx.scale(this._pixelScale, this._pixelScale);\n                }\n              }\n\n              for (var k in this.players) {\n                if (this.players.hasOwnProperty(k)) {\n                  var p = this.players[k];\n                  if (p.resize) p.resize(this.bound, evt);\n                }\n              }\n\n              this.render(this._ctx);\n              if (evt && !this.isPlaying) this.playOnce(0);\n              return this;\n            }\n          }, {\n            key: \"_resizeHandler\",\n            value: function _resizeHandler(evt) {\n              if (!window) return;\n              var b = this._autoResize || this._initialResize ? this._container.getBoundingClientRect() : this._canvas.getBoundingClientRect();\n\n              if (b) {\n                var box = Pt_1.Bound.fromBoundingRect(b);\n                box.center = box.center.add(window.pageXOffset, window.pageYOffset);\n                this.resize(box, evt);\n              }\n            }\n          }, {\n            key: \"getForm\",\n            value: function getForm() {\n              return new CanvasForm(this);\n            }\n          }, {\n            key: \"clear\",\n            value: function clear(bg) {\n              if (bg) this._bgcolor = bg;\n              var lastColor = this._ctx.fillStyle;\n\n              if (this._bgcolor) {\n                if (this._bgcolor === \"transparent\") {\n                  this._ctx.clearRect(-1, -1, this._canvas.width + 1, this._canvas.height + 1);\n                } else {\n                  if (this._bgcolor.indexOf(\"rgba\") === 0 || this._bgcolor.length === 9 && this._bgcolor.indexOf(\"#\") === 0) {\n                    this._ctx.clearRect(-1, -1, this._canvas.width + 1, this._canvas.height + 1);\n                  }\n\n                  this._ctx.fillStyle = this._bgcolor;\n\n                  this._ctx.fillRect(-1, -1, this._canvas.width + 1, this._canvas.height + 1);\n                }\n              }\n\n              this._ctx.fillStyle = lastColor;\n              return this;\n            }\n          }, {\n            key: \"clearOffscreen\",\n            value: function clearOffscreen(bg) {\n              if (this._offscreen) {\n                if (bg) {\n                  this._offCtx.fillStyle = bg;\n\n                  this._offCtx.fillRect(-1, -1, this._canvas.width + 1, this._canvas.height + 1);\n                } else {\n                  this._offCtx.clearRect(-1, -1, this._offCanvas.width + 1, this._offCanvas.height + 1);\n                }\n              }\n\n              return this;\n            }\n          }, {\n            key: \"playItems\",\n            value: function playItems(time) {\n              if (this._isReady) {\n                this._ctx.save();\n\n                if (this._offscreen) this._offCtx.save();\n\n                _get(CanvasSpace.prototype.__proto__ || Object.getPrototypeOf(CanvasSpace.prototype), \"playItems\", this).call(this, time);\n\n                this._ctx.restore();\n\n                if (this._offscreen) this._offCtx.restore();\n                this.render(this._ctx);\n              }\n            }\n          }, {\n            key: \"dispose\",\n            value: function dispose() {\n              if (!window) return;\n              window.removeEventListener('resize', this._resizeHandler.bind(this));\n              this.stop();\n              this.removeAll();\n              return this;\n            }\n          }, {\n            key: \"autoResize\",\n            set: function set(auto) {\n              if (!window) return;\n              this._autoResize = auto;\n\n              if (auto) {\n                window.addEventListener('resize', this._resizeHandler.bind(this));\n              } else {\n                window.removeEventListener('resize', this._resizeHandler.bind(this));\n              }\n            },\n            get: function get() {\n              return this._autoResize;\n            }\n          }, {\n            key: \"background\",\n            set: function set(bg) {\n              this._bgcolor = bg;\n            },\n            get: function get() {\n              return this._bgcolor;\n            }\n          }, {\n            key: \"pixelScale\",\n            get: function get() {\n              return this._pixelScale;\n            }\n          }, {\n            key: \"hasOffscreen\",\n            get: function get() {\n              return this._offscreen;\n            }\n          }, {\n            key: \"offscreenCtx\",\n            get: function get() {\n              return this._offCtx;\n            }\n          }, {\n            key: \"offscreenCanvas\",\n            get: function get() {\n              return this._offCanvas;\n            }\n          }, {\n            key: \"element\",\n            get: function get() {\n              return this._canvas;\n            }\n          }, {\n            key: \"parent\",\n            get: function get() {\n              return this._container;\n            }\n          }, {\n            key: \"ready\",\n            get: function get() {\n              return this._isReady;\n            }\n          }, {\n            key: \"ctx\",\n            get: function get() {\n              return this._ctx;\n            }\n          }]);\n\n          return CanvasSpace;\n        }(Space_1.MultiTouchSpace);\n\n        exports.CanvasSpace = CanvasSpace;\n\n        var CanvasForm = function (_Form_1$VisualForm) {\n          _inherits(CanvasForm, _Form_1$VisualForm);\n\n          function CanvasForm(space) {\n            _classCallCheck(this, CanvasForm);\n\n            var _this2 = _possibleConstructorReturn(this, (CanvasForm.__proto__ || Object.getPrototypeOf(CanvasForm)).call(this));\n\n            _this2._style = {\n              fillStyle: \"#f03\",\n              strokeStyle: \"#fff\",\n              lineWidth: 1,\n              lineJoin: \"bevel\",\n              lineCap: \"butt\",\n              globalAlpha: 1\n            };\n            _this2._space = space;\n\n            _this2._space.add({\n              start: function start() {\n                _this2._ctx = _this2._space.ctx;\n                _this2._ctx.fillStyle = _this2._style.fillStyle;\n                _this2._ctx.strokeStyle = _this2._style.strokeStyle;\n                _this2._ctx.lineJoin = \"bevel\";\n                _this2._ctx.font = _this2._font.value;\n                _this2._ready = true;\n              }\n            });\n\n            return _this2;\n          }\n\n          _createClass(CanvasForm, [{\n            key: \"useOffscreen\",\n            value: function useOffscreen() {\n              var off = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : true;\n              var clear = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n              if (clear) this._space.clearOffscreen(typeof clear == \"string\" ? clear : null);\n              this._ctx = this._space.hasOffscreen && off ? this._space.offscreenCtx : this._space.ctx;\n              return this;\n            }\n          }, {\n            key: \"renderOffscreen\",\n            value: function renderOffscreen() {\n              var offset = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [0, 0];\n\n              if (this._space.hasOffscreen) {\n                this._space.ctx.drawImage(this._space.offscreenCanvas, offset[0], offset[1], this._space.width, this._space.height);\n              }\n            }\n          }, {\n            key: \"alpha\",\n            value: function alpha(a) {\n              this._ctx.globalAlpha = a;\n              this._style.globalAlpha = a;\n              return this;\n            }\n          }, {\n            key: \"fill\",\n            value: function fill(c) {\n              if (typeof c == \"boolean\") {\n                this.filled = c;\n              } else {\n                this.filled = true;\n                this._style.fillStyle = c;\n                this._ctx.fillStyle = c;\n              }\n\n              return this;\n            }\n          }, {\n            key: \"stroke\",\n            value: function stroke(c, width, linejoin, linecap) {\n              if (typeof c == \"boolean\") {\n                this.stroked = c;\n              } else {\n                this.stroked = true;\n                this._style.strokeStyle = c;\n                this._ctx.strokeStyle = c;\n\n                if (width) {\n                  this._ctx.lineWidth = width;\n                  this._style.lineWidth = width;\n                }\n\n                if (linejoin) {\n                  this._ctx.lineJoin = linejoin;\n                  this._style.lineJoin = linejoin;\n                }\n\n                if (linecap) {\n                  this._ctx.lineCap = linecap;\n                  this._style.lineCap = linecap;\n                }\n              }\n\n              return this;\n            }\n          }, {\n            key: \"gradient\",\n            value: function gradient(stops) {\n              var _this3 = this;\n\n              var vals = [];\n              if (stops.length < 2) stops.push([0.99, \"#000\"], [1, \"#000\"]);\n\n              for (var i = 0, len = stops.length; i < len; i++) {\n                var t = typeof stops[i] === 'string' ? i * (1 / (stops.length - 1)) : stops[i][0];\n                var v = typeof stops[i] === 'string' ? stops[i] : stops[i][1];\n                vals.push([t, v]);\n              }\n\n              return function (area1, area2) {\n                area1 = area1.map(function (a) {\n                  return a.abs();\n                });\n                if (area2) area2.map(function (a) {\n                  return a.abs();\n                });\n                var grad = area2 ? _this3.ctx.createRadialGradient(area1[0][0], area1[0][1], area1[1][0], area2[0][0], area2[0][1], area2[1][0]) : _this3.ctx.createLinearGradient(area1[0][0], area1[0][1], area1[1][0], area1[1][1]);\n\n                for (var _i = 0, _len = vals.length; _i < _len; _i++) {\n                  grad.addColorStop(vals[_i][0], vals[_i][1]);\n                }\n\n                return grad;\n              };\n            }\n          }, {\n            key: \"composite\",\n            value: function composite() {\n              var mode = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 'source-over';\n              this.ctx.globalCompositeOperation = mode;\n              return this;\n            }\n          }, {\n            key: \"clip\",\n            value: function clip() {\n              this.ctx.clip();\n              return this;\n            }\n          }, {\n            key: \"dash\",\n            value: function dash() {\n              var segments = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : true;\n              var offset = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n\n              if (!segments) {\n                this._ctx.setLineDash([]);\n\n                this._ctx.lineDashOffset = 0;\n              } else {\n                if (segments === true) {\n                  segments = [5, 5];\n                }\n\n                this._ctx.setLineDash([segments[0], segments[1]]);\n\n                this._ctx.lineDashOffset = offset;\n              }\n\n              return this;\n            }\n          }, {\n            key: \"font\",\n            value: function font(sizeOrFont, weight, style, lineHeight, family) {\n              if (typeof sizeOrFont == \"number\") {\n                this._font.size = sizeOrFont;\n                if (family) this._font.face = family;\n                if (weight) this._font.weight = weight;\n                if (style) this._font.style = style;\n                if (lineHeight) this._font.lineHeight = lineHeight;\n              } else {\n                this._font = sizeOrFont;\n              }\n\n              this._ctx.font = this._font.value;\n              if (this._estimateTextWidth) this.fontWidthEstimate(true);\n              return this;\n            }\n          }, {\n            key: \"fontWidthEstimate\",\n            value: function fontWidthEstimate() {\n              var _this4 = this;\n\n              var estimate = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : true;\n              this._estimateTextWidth = estimate ? Typography_1.Typography.textWidthEstimator(function (c) {\n                return _this4._ctx.measureText(c).width;\n              }) : undefined;\n              return this;\n            }\n          }, {\n            key: \"getTextWidth\",\n            value: function getTextWidth(c) {\n              return !this._estimateTextWidth ? this._ctx.measureText(c + \" .\").width : this._estimateTextWidth(c);\n            }\n          }, {\n            key: \"_textTruncate\",\n            value: function _textTruncate(str, width) {\n              var tail = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : \"\";\n              return Typography_1.Typography.truncate(this.getTextWidth.bind(this), str, width, tail);\n            }\n          }, {\n            key: \"_textAlign\",\n            value: function _textAlign(box, vertical, offset, center) {\n              var _box = Util_1.Util.iterToArray(box);\n\n              if (!Util_1.Util.arrayCheck(_box)) return;\n              if (!center) center = Op_1.Rectangle.center(_box);\n              var px = _box[0][0];\n\n              if (this._ctx.textAlign == \"end\" || this._ctx.textAlign == \"right\") {\n                px = _box[1][0];\n              } else if (this._ctx.textAlign == \"center\" || this._ctx.textAlign == \"middle\") {\n                px = center[0];\n              }\n\n              var py = center[1];\n\n              if (vertical == \"top\" || vertical == \"start\") {\n                py = _box[0][1];\n              } else if (vertical == \"end\" || vertical == \"bottom\") {\n                py = _box[1][1];\n              }\n\n              return offset ? new Pt_1.Pt(px + offset[0], py + offset[1]) : new Pt_1.Pt(px, py);\n            }\n          }, {\n            key: \"reset\",\n            value: function reset() {\n              for (var k in this._style) {\n                if (this._style.hasOwnProperty(k)) {\n                  this._ctx[k] = this._style[k];\n                }\n              }\n\n              this._font = new Form_1.Font();\n              this._ctx.font = this._font.value;\n              return this;\n            }\n          }, {\n            key: \"_paint\",\n            value: function _paint() {\n              if (this._filled) this._ctx.fill();\n              if (this._stroked) this._ctx.stroke();\n            }\n          }, {\n            key: \"point\",\n            value: function point(p) {\n              var radius = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 5;\n              var shape = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : \"square\";\n              CanvasForm.point(this._ctx, p, radius, shape);\n\n              this._paint();\n\n              return this;\n            }\n          }, {\n            key: \"circle\",\n            value: function circle(pts) {\n              var p = Util_1.Util.iterToArray(pts);\n              CanvasForm.circle(this._ctx, p[0], p[1][0]);\n\n              this._paint();\n\n              return this;\n            }\n          }, {\n            key: \"ellipse\",\n            value: function ellipse(pt, radius) {\n              var rotation = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 0;\n              var startAngle = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : 0;\n              var endAngle = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : Util_1.Const.two_pi;\n              var cc = arguments.length > 5 && arguments[5] !== undefined ? arguments[5] : false;\n              CanvasForm.ellipse(this._ctx, pt, radius, rotation, startAngle, endAngle, cc);\n\n              this._paint();\n\n              return this;\n            }\n          }, {\n            key: \"arc\",\n            value: function arc(pt, radius, startAngle, endAngle, cc) {\n              CanvasForm.arc(this._ctx, pt, radius, startAngle, endAngle, cc);\n\n              this._paint();\n\n              return this;\n            }\n          }, {\n            key: \"square\",\n            value: function square(pt, halfsize) {\n              CanvasForm.square(this._ctx, pt, halfsize);\n\n              this._paint();\n\n              return this;\n            }\n          }, {\n            key: \"line\",\n            value: function line(pts) {\n              CanvasForm.line(this._ctx, pts);\n\n              this._paint();\n\n              return this;\n            }\n          }, {\n            key: \"polygon\",\n            value: function polygon(pts) {\n              CanvasForm.polygon(this._ctx, pts);\n\n              this._paint();\n\n              return this;\n            }\n          }, {\n            key: \"rect\",\n            value: function rect(pts) {\n              CanvasForm.rect(this._ctx, pts);\n\n              this._paint();\n\n              return this;\n            }\n          }, {\n            key: \"image\",\n            value: function image(ptOrRect, img, orig) {\n              if (img instanceof Image_1.Img) {\n                if (img.loaded) {\n                  CanvasForm.image(this._ctx, ptOrRect, img.image, orig);\n                }\n              } else {\n                CanvasForm.image(this._ctx, ptOrRect, img, orig);\n              }\n\n              return this;\n            }\n          }, {\n            key: \"imageData\",\n            value: function imageData(ptOrRect, img) {\n              CanvasForm.imageData(this._ctx, ptOrRect, img);\n              return this;\n            }\n          }, {\n            key: \"text\",\n            value: function text(pt, txt, maxWidth) {\n              CanvasForm.text(this._ctx, pt, txt, maxWidth);\n              return this;\n            }\n          }, {\n            key: \"textBox\",\n            value: function textBox(box, txt) {\n              var verticalAlign = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : \"middle\";\n              var tail = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : \"\";\n              var overrideBaseline = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : true;\n              if (overrideBaseline) this._ctx.textBaseline = verticalAlign;\n              var size = Op_1.Rectangle.size(box);\n\n              var t = this._textTruncate(txt, size[0], tail);\n\n              this.text(this._textAlign(box, verticalAlign), t[0]);\n              return this;\n            }\n          }, {\n            key: \"paragraphBox\",\n            value: function paragraphBox(box, txt) {\n              var lineHeight = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 1.2;\n\n              var _this5 = this;\n\n              var verticalAlign = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : \"top\";\n              var crop = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : true;\n              var b = Util_1.Util.iterToArray(box);\n              var size = Op_1.Rectangle.size(b);\n              this._ctx.textBaseline = \"top\";\n              var lstep = this._font.size * lineHeight;\n\n              var nextLine = function nextLine(sub) {\n                var buffer = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : [];\n                var cc = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 0;\n                if (!sub) return buffer;\n                if (crop && cc * lstep > size[1] - lstep * 2) return buffer;\n                if (cc > 10000) throw new Error(\"max recursion reached (10000)\");\n\n                var t = _this5._textTruncate(sub, size[0], \"\");\n\n                var newln = t[0].indexOf(\"\\n\");\n\n                if (newln >= 0) {\n                  buffer.push(t[0].substr(0, newln));\n                  return nextLine(sub.substr(newln + 1), buffer, cc + 1);\n                }\n\n                var dt = t[0].lastIndexOf(\" \") + 1;\n                if (dt <= 0 || t[1] === sub.length) dt = undefined;\n                var line = t[0].substr(0, dt);\n                buffer.push(line);\n                return t[1] <= 0 || t[1] === sub.length ? buffer : nextLine(sub.substr(dt || t[1]), buffer, cc + 1);\n              };\n\n              var lines = nextLine(txt);\n              var lsize = lines.length * lstep;\n              var lbox = b;\n\n              if (verticalAlign == \"middle\" || verticalAlign == \"center\") {\n                var lpad = (size[1] - lsize) / 2;\n                if (crop) lpad = Math.max(0, lpad);\n                lbox = new Pt_1.Group(b[0].$add(0, lpad), b[1].$subtract(0, lpad));\n              } else if (verticalAlign == \"bottom\") {\n                lbox = new Pt_1.Group(b[0].$add(0, size[1] - lsize), b[1]);\n              } else {\n                lbox = new Pt_1.Group(b[0], b[0].$add(size[0], lsize));\n              }\n\n              var center = Op_1.Rectangle.center(lbox);\n\n              for (var i = 0, len = lines.length; i < len; i++) {\n                this.text(this._textAlign(lbox, \"top\", [0, i * lstep], center), lines[i]);\n              }\n\n              return this;\n            }\n          }, {\n            key: \"alignText\",\n            value: function alignText() {\n              var alignment = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : \"left\";\n              var baseline = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : \"alphabetic\";\n              if (baseline == \"center\") baseline = \"middle\";\n              if (baseline == \"baseline\") baseline = \"alphabetic\";\n              this._ctx.textAlign = alignment;\n              this._ctx.textBaseline = baseline;\n              return this;\n            }\n          }, {\n            key: \"log\",\n            value: function log(txt) {\n              var w = this._ctx.measureText(txt).width + 20;\n              this.stroke(false).fill(\"rgba(0,0,0,.4)\").rect([[0, 0], [w, 20]]);\n              this.fill(\"#fff\").text([10, 14], txt);\n              return this;\n            }\n          }, {\n            key: \"space\",\n            get: function get() {\n              return this._space;\n            }\n          }, {\n            key: \"ctx\",\n            get: function get() {\n              return this._space.ctx;\n            }\n          }], [{\n            key: \"paint\",\n            value: function paint(ctx, fn, fill, stroke, strokeWidth) {\n              if (fill) ctx.fillStyle = fill;\n              if (stroke) ctx.strokeStyle = stroke;\n              if (strokeWidth) ctx.lineWidth = strokeWidth;\n              fn(ctx);\n              ctx.fill();\n              ctx.stroke();\n            }\n          }, {\n            key: \"point\",\n            value: function point(ctx, p) {\n              var radius = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 5;\n              var shape = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : \"square\";\n              if (!p) return;\n              if (!CanvasForm[shape]) throw new Error(shape + \" is not a static function of CanvasForm\");\n              CanvasForm[shape](ctx, p, radius);\n            }\n          }, {\n            key: \"circle\",\n            value: function circle(ctx, pt) {\n              var radius = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 10;\n              if (!pt) return;\n              ctx.beginPath();\n              ctx.arc(pt[0], pt[1], radius, 0, Util_1.Const.two_pi, false);\n              ctx.closePath();\n            }\n          }, {\n            key: \"ellipse\",\n            value: function ellipse(ctx, pt, radius) {\n              var rotation = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : 0;\n              var startAngle = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : 0;\n              var endAngle = arguments.length > 5 && arguments[5] !== undefined ? arguments[5] : Util_1.Const.two_pi;\n              var cc = arguments.length > 6 && arguments[6] !== undefined ? arguments[6] : false;\n              if (!pt || !radius) return;\n              ctx.beginPath();\n              ctx.ellipse(pt[0], pt[1], radius[0], radius[1], rotation, startAngle, endAngle, cc);\n            }\n          }, {\n            key: \"arc\",\n            value: function arc(ctx, pt, radius, startAngle, endAngle, cc) {\n              if (!pt) return;\n              ctx.beginPath();\n              ctx.arc(pt[0], pt[1], radius, startAngle, endAngle, cc);\n            }\n          }, {\n            key: \"square\",\n            value: function square(ctx, pt, halfsize) {\n              if (!pt) return;\n              var x1 = pt[0] - halfsize;\n              var y1 = pt[1] - halfsize;\n              var x2 = pt[0] + halfsize;\n              var y2 = pt[1] + halfsize;\n              ctx.beginPath();\n              ctx.moveTo(x1, y1);\n              ctx.lineTo(x1, y2);\n              ctx.lineTo(x2, y2);\n              ctx.lineTo(x2, y1);\n              ctx.closePath();\n            }\n          }, {\n            key: \"line\",\n            value: function line(ctx, pts) {\n              if (!Util_1.Util.arrayCheck(pts)) return;\n              var i = 0;\n              ctx.beginPath();\n              var _iteratorNormalCompletion = true;\n              var _didIteratorError = false;\n              var _iteratorError = undefined;\n\n              try {\n                for (var _iterator = pts[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n                  var it = _step.value;\n\n                  if (it) {\n                    if (i++ > 0) {\n                      ctx.lineTo(it[0], it[1]);\n                    } else {\n                      ctx.moveTo(it[0], it[1]);\n                    }\n                  }\n                }\n              } catch (err) {\n                _didIteratorError = true;\n                _iteratorError = err;\n              } finally {\n                try {\n                  if (!_iteratorNormalCompletion && _iterator.return) {\n                    _iterator.return();\n                  }\n                } finally {\n                  if (_didIteratorError) {\n                    throw _iteratorError;\n                  }\n                }\n              }\n            }\n          }, {\n            key: \"polygon\",\n            value: function polygon(ctx, pts) {\n              if (!Util_1.Util.arrayCheck(pts)) return;\n              CanvasForm.line(ctx, pts);\n              ctx.closePath();\n            }\n          }, {\n            key: \"rect\",\n            value: function rect(ctx, pts) {\n              var p = Util_1.Util.iterToArray(pts);\n              if (!Util_1.Util.arrayCheck(p)) return;\n              ctx.beginPath();\n              ctx.moveTo(p[0][0], p[0][1]);\n              ctx.lineTo(p[0][0], p[1][1]);\n              ctx.lineTo(p[1][0], p[1][1]);\n              ctx.lineTo(p[1][0], p[0][1]);\n              ctx.closePath();\n            }\n          }, {\n            key: \"image\",\n            value: function image(ctx, ptOrRect, img, orig) {\n              var t = Util_1.Util.iterToArray(ptOrRect);\n              var pos = void 0;\n\n              if (typeof t[0] === \"number\") {\n                pos = t;\n              } else {\n                if (orig) {\n                  var o = Util_1.Util.iterToArray(orig);\n                  pos = [o[0][0], o[0][1], o[1][0] - o[0][0], o[1][1] - o[0][1], t[0][0], t[0][1], t[1][0] - t[0][0], t[1][1] - t[0][1]];\n                } else {\n                  pos = [t[0][0], t[0][1], t[1][0] - t[0][0], t[1][1] - t[0][1]];\n                }\n              }\n\n              if (img instanceof Image_1.Img) {\n                if (img.loaded) {\n                  ctx.drawImage.apply(ctx, [img.image].concat(_toConsumableArray(pos)));\n                }\n              } else {\n                ctx.drawImage.apply(ctx, [img].concat(_toConsumableArray(pos)));\n              }\n            }\n          }, {\n            key: \"imageData\",\n            value: function imageData(ctx, ptOrRect, img) {\n              var t = Util_1.Util.iterToArray(ptOrRect);\n\n              if (typeof t[0] === \"number\") {\n                ctx.putImageData(img, t[0], t[1]);\n              } else {\n                ctx.putImageData(img, t[0][0], t[0][1], t[0][0], t[0][1], t[1][0], t[1][1]);\n              }\n            }\n          }, {\n            key: \"text\",\n            value: function text(ctx, pt, txt, maxWidth) {\n              if (!pt) return;\n              ctx.fillText(txt, pt[0], pt[1], maxWidth);\n            }\n          }]);\n\n          return CanvasForm;\n        }(Form_1.VisualForm);\n\n        exports.CanvasForm = CanvasForm;\n        /***/\n      },\n\n      /***/\n      \"./src/Color.ts\":\n      /*!**********************!*\\\n        !*** ./src/Color.ts ***!\n        \\**********************/\n\n      /*! no static exports found */\n\n      /***/\n      function srcColorTs(module, exports, __webpack_require__) {\n        \"use strict\";\n        /*! Source code licensed under Apache License 2.0. Copyright  2017-current William Ngan and contributors. (https://github.com/williamngan/pts) */\n\n        var _slicedToArray = function () {\n          function sliceIterator(arr, i) {\n            var _arr = [];\n            var _n = true;\n            var _d = false;\n            var _e = undefined;\n\n            try {\n              for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n                _arr.push(_s.value);\n\n                if (i && _arr.length === i) break;\n              }\n            } catch (err) {\n              _d = true;\n              _e = err;\n            } finally {\n              try {\n                if (!_n && _i[\"return\"]) _i[\"return\"]();\n              } finally {\n                if (_d) throw _e;\n              }\n            }\n\n            return _arr;\n          }\n\n          return function (arr, i) {\n            if (Array.isArray(arr)) {\n              return arr;\n            } else if (Symbol.iterator in Object(arr)) {\n              return sliceIterator(arr, i);\n            } else {\n              throw new TypeError(\"Invalid attempt to destructure non-iterable instance\");\n            }\n          };\n        }();\n\n        var _createClass = function () {\n          function defineProperties(target, props) {\n            for (var i = 0; i < props.length; i++) {\n              var descriptor = props[i];\n              descriptor.enumerable = descriptor.enumerable || false;\n              descriptor.configurable = true;\n              if (\"value\" in descriptor) descriptor.writable = true;\n              Object.defineProperty(target, descriptor.key, descriptor);\n            }\n          }\n\n          return function (Constructor, protoProps, staticProps) {\n            if (protoProps) defineProperties(Constructor.prototype, protoProps);\n            if (staticProps) defineProperties(Constructor, staticProps);\n            return Constructor;\n          };\n        }();\n\n        function _classCallCheck(instance, Constructor) {\n          if (!(instance instanceof Constructor)) {\n            throw new TypeError(\"Cannot call a class as a function\");\n          }\n        }\n\n        function _possibleConstructorReturn(self, call) {\n          if (!self) {\n            throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n          }\n\n          return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self;\n        }\n\n        function _inherits(subClass, superClass) {\n          if (typeof superClass !== \"function\" && superClass !== null) {\n            throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass);\n          }\n\n          subClass.prototype = Object.create(superClass && superClass.prototype, {\n            constructor: {\n              value: subClass,\n              enumerable: false,\n              writable: true,\n              configurable: true\n            }\n          });\n          if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;\n        }\n\n        Object.defineProperty(exports, \"__esModule\", {\n          value: true\n        });\n        exports.Color = void 0;\n\n        var Pt_1 = __webpack_require__(\n        /*! ./Pt */\n        \"./src/Pt.ts\");\n\n        var Util_1 = __webpack_require__(\n        /*! ./Util */\n        \"./src/Util.ts\");\n\n        var Num_1 = __webpack_require__(\n        /*! ./Num */\n        \"./src/Num.ts\");\n\n        var Color = function (_Pt_1$Pt) {\n          _inherits(Color, _Pt_1$Pt);\n\n          function Color() {\n            var _ref;\n\n            _classCallCheck(this, Color);\n\n            for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n              args[_key] = arguments[_key];\n            }\n\n            var _this = _possibleConstructorReturn(this, (_ref = Color.__proto__ || Object.getPrototypeOf(Color)).call.apply(_ref, [this].concat(args)));\n\n            _this._mode = \"rgb\";\n            _this._isNorm = false;\n            return _this;\n          }\n\n          _createClass(Color, [{\n            key: \"clone\",\n            value: function clone() {\n              var c = new Color(this);\n              c.toMode(this._mode);\n              return c;\n            }\n          }, {\n            key: \"toMode\",\n            value: function toMode(mode) {\n              var convert = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n\n              if (convert) {\n                var fname = this._mode.toUpperCase() + \"to\" + mode.toUpperCase();\n\n                if (Color[fname]) {\n                  this.to(Color[fname](this, this._isNorm, this._isNorm));\n                } else {\n                  throw new Error(\"Cannot convert color with \" + fname);\n                }\n              }\n\n              this._mode = mode;\n              return this;\n            }\n          }, {\n            key: \"normalize\",\n            value: function normalize() {\n              var toNorm = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : true;\n              if (this._isNorm == toNorm) return this;\n              var ranges = Color.ranges[this._mode];\n\n              for (var i = 0; i < 3; i++) {\n                this[i] = !toNorm ? Num_1.Num.mapToRange(this[i], 0, 1, ranges[i][0], ranges[i][1]) : Num_1.Num.mapToRange(this[i], ranges[i][0], ranges[i][1], 0, 1);\n              }\n\n              this._isNorm = toNorm;\n              return this;\n            }\n          }, {\n            key: \"$normalize\",\n            value: function $normalize() {\n              var toNorm = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : true;\n              return this.clone().normalize(toNorm);\n            }\n          }, {\n            key: \"toString\",\n            value: function toString() {\n              var format = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : \"mode\";\n\n              if (format == \"hex\") {\n                var _hex = function _hex(n) {\n                  var s = Math.floor(n).toString(16);\n                  return s.length < 2 ? '0' + s : s;\n                };\n\n                return \"#\" + _hex(this[0]) + _hex(this[1]) + _hex(this[2]);\n              } else if (format == \"rgba\") {\n                return \"rgba(\" + Math.floor(this[0]) + \",\" + Math.floor(this[1]) + \",\" + Math.floor(this[2]) + \",\" + this.alpha;\n              } else if (format == \"rgb\") {\n                return \"rgb(\" + Math.floor(this[0]) + \",\" + Math.floor(this[1]) + \",\" + Math.floor(this[2]);\n              } else {\n                return this._mode + \"(\" + this[0] + \",\" + this[1] + \",\" + this[2] + \",\" + this.alpha + \")\";\n              }\n            }\n          }, {\n            key: \"hex\",\n            get: function get() {\n              return this.toString(\"hex\");\n            }\n          }, {\n            key: \"rgb\",\n            get: function get() {\n              return this.toString(\"rgb\");\n            }\n          }, {\n            key: \"rgba\",\n            get: function get() {\n              return this.toString(\"rgba\");\n            }\n          }, {\n            key: \"mode\",\n            get: function get() {\n              return this._mode;\n            }\n          }, {\n            key: \"r\",\n            get: function get() {\n              return this[0];\n            },\n            set: function set(n) {\n              this[0] = n;\n            }\n          }, {\n            key: \"g\",\n            get: function get() {\n              return this[1];\n            },\n            set: function set(n) {\n              this[1] = n;\n            }\n          }, {\n            key: \"b\",\n            get: function get() {\n              return this[2];\n            },\n            set: function set(n) {\n              this[2] = n;\n            }\n          }, {\n            key: \"h\",\n            get: function get() {\n              return this._mode == \"lch\" ? this[2] : this[0];\n            },\n            set: function set(n) {\n              var i = this._mode == \"lch\" ? 2 : 0;\n              this[i] = n;\n            }\n          }, {\n            key: \"s\",\n            get: function get() {\n              return this[1];\n            },\n            set: function set(n) {\n              this[1] = n;\n            }\n          }, {\n            key: \"l\",\n            get: function get() {\n              return this._mode == \"hsl\" ? this[2] : this[0];\n            },\n            set: function set(n) {\n              var i = this._mode == \"hsl\" ? 2 : 0;\n              this[i] = n;\n            }\n          }, {\n            key: \"a\",\n            get: function get() {\n              return this[1];\n            },\n            set: function set(n) {\n              this[1] = n;\n            }\n          }, {\n            key: \"c\",\n            get: function get() {\n              return this[1];\n            },\n            set: function set(n) {\n              this[1] = n;\n            }\n          }, {\n            key: \"u\",\n            get: function get() {\n              return this[1];\n            },\n            set: function set(n) {\n              this[1] = n;\n            }\n          }, {\n            key: \"v\",\n            get: function get() {\n              return this[2];\n            },\n            set: function set(n) {\n              this[2] = n;\n            }\n          }, {\n            key: \"alpha\",\n            set: function set(n) {\n              if (this.length > 3) this[3] = n;\n            },\n            get: function get() {\n              return this.length > 3 ? this[3] : 1;\n            }\n          }, {\n            key: \"normalized\",\n            get: function get() {\n              return this._isNorm;\n            },\n            set: function set(b) {\n              this._isNorm = b;\n            }\n          }], [{\n            key: \"from\",\n            value: function from() {\n              var p = [1, 1, 1, 1];\n\n              for (var _len2 = arguments.length, args = Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n                args[_key2] = arguments[_key2];\n              }\n\n              var c = Util_1.Util.getArgs(args);\n\n              for (var i = 0, len = p.length; i < len; i++) {\n                if (i < c.length) p[i] = c[i];\n              }\n\n              return new Color(p);\n            }\n          }, {\n            key: \"fromHex\",\n            value: function fromHex(hex) {\n              if (hex[0] == \"#\") hex = hex.substr(1);\n\n              if (hex.length <= 3) {\n                var fn = function fn(i) {\n                  return hex[i] || \"F\";\n                };\n\n                hex = \"\" + fn(0) + fn(0) + fn(1) + fn(1) + fn(2) + fn(2);\n              }\n\n              var alpha = 1;\n\n              if (hex.length === 8) {\n                alpha = hex.substr(6) && 0xFF / 255;\n                hex = hex.substring(0, 6);\n              }\n\n              var hexVal = parseInt(hex, 16);\n              return new Color(hexVal >> 16, hexVal >> 8 & 0xFF, hexVal & 0xFF, alpha);\n            }\n          }, {\n            key: \"rgb\",\n            value: function rgb() {\n              return Color.from.apply(Color, arguments).toMode(\"rgb\");\n            }\n          }, {\n            key: \"hsl\",\n            value: function hsl() {\n              return Color.from.apply(Color, arguments).toMode(\"hsl\");\n            }\n          }, {\n            key: \"hsb\",\n            value: function hsb() {\n              return Color.from.apply(Color, arguments).toMode(\"hsb\");\n            }\n          }, {\n            key: \"lab\",\n            value: function lab() {\n              return Color.from.apply(Color, arguments).toMode(\"lab\");\n            }\n          }, {\n            key: \"lch\",\n            value: function lch() {\n              return Color.from.apply(Color, arguments).toMode(\"lch\");\n            }\n          }, {\n            key: \"luv\",\n            value: function luv() {\n              return Color.from.apply(Color, arguments).toMode(\"luv\");\n            }\n          }, {\n            key: \"xyz\",\n            value: function xyz() {\n              return Color.from.apply(Color, arguments).toMode(\"xyz\");\n            }\n          }, {\n            key: \"maxValues\",\n            value: function maxValues(mode) {\n              return Color.ranges[mode].zipSlice(1).$take([0, 1, 2]);\n            }\n          }, {\n            key: \"RGBtoHSL\",\n            value: function RGBtoHSL(rgb) {\n              var normalizedInput = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n              var normalizedOutput = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;\n\n              var _ref2 = !normalizedInput ? rgb.$normalize() : rgb,\n                  _ref3 = _slicedToArray(_ref2, 3),\n                  r = _ref3[0],\n                  g = _ref3[1],\n                  b = _ref3[2];\n\n              var max = Math.max(r, g, b);\n              var min = Math.min(r, g, b);\n              var h = (max + min) / 2;\n              var s = h;\n              var l = h;\n\n              if (max == min) {\n                h = 0;\n                s = 0;\n              } else {\n                var d = max - min;\n                s = l > 0.5 ? d / (2 - max - min) : d / (max + min);\n                h = 0;\n\n                if (max === r) {\n                  h = (g - b) / d + (g < b ? 6 : 0);\n                } else if (max === g) {\n                  h = (b - r) / d + 2;\n                } else if (max === b) {\n                  h = (r - g) / d + 4;\n                }\n              }\n\n              return Color.hsl(normalizedOutput ? h / 60 : h * 60, s, l, rgb.alpha);\n            }\n          }, {\n            key: \"HSLtoRGB\",\n            value: function HSLtoRGB(hsl) {\n              var normalizedInput = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n              var normalizedOutput = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;\n\n              var _hsl = _slicedToArray(hsl, 3),\n                  h = _hsl[0],\n                  s = _hsl[1],\n                  l = _hsl[2];\n\n              if (!normalizedInput) h = h / 360;\n              if (s == 0) return Color.rgb(l * 255, l * 255, l * 255, hsl.alpha);\n              var q = l <= 0.5 ? l * (1 + s) : l + s - l * s;\n              var p = 2 * l - q;\n\n              var convert = function convert(t) {\n                t = t < 0 ? t + 1 : t > 1 ? t - 1 : t;\n\n                if (t * 6 < 1) {\n                  return p + (q - p) * t * 6;\n                } else if (t * 2 < 1) {\n                  return q;\n                } else if (t * 3 < 2) {\n                  return p + (q - p) * (2 / 3 - t) * 6;\n                } else {\n                  return p;\n                }\n              };\n\n              var sc = normalizedOutput ? 1 : 255;\n              return Color.rgb(sc * convert(h + 1 / 3), sc * convert(h), sc * convert(h - 1 / 3), hsl.alpha);\n            }\n          }, {\n            key: \"RGBtoHSB\",\n            value: function RGBtoHSB(rgb) {\n              var normalizedInput = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n              var normalizedOutput = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;\n\n              var _ref4 = !normalizedInput ? rgb.$normalize() : rgb,\n                  _ref5 = _slicedToArray(_ref4, 3),\n                  r = _ref5[0],\n                  g = _ref5[1],\n                  b = _ref5[2];\n\n              var max = Math.max(r, g, b);\n              var min = Math.min(r, g, b);\n              var d = max - min;\n              var h = 0;\n              var s = max === 0 ? 0 : d / max;\n              var v = max;\n\n              if (max != min) {\n                if (max === r) {\n                  h = (g - b) / d + (g < b ? 6 : 0);\n                } else if (max === g) {\n                  h = (b - r) / d + 2;\n                } else if (max === b) {\n                  h = (r - g) / d + 4;\n                }\n              }\n\n              return Color.hsb(normalizedOutput ? h / 60 : h * 60, s, v, rgb.alpha);\n            }\n          }, {\n            key: \"HSBtoRGB\",\n            value: function HSBtoRGB(hsb) {\n              var normalizedInput = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n              var normalizedOutput = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;\n\n              var _hsb = _slicedToArray(hsb, 3),\n                  h = _hsb[0],\n                  s = _hsb[1],\n                  v = _hsb[2];\n\n              if (!normalizedInput) h = h / 360;\n              var i = Math.floor(h * 6);\n              var f = h * 6 - i;\n              var p = v * (1 - s);\n              var q = v * (1 - f * s);\n              var t = v * (1 - (1 - f) * s);\n              var pick = [[v, t, p], [q, v, p], [p, v, t], [p, q, v], [t, p, v], [v, p, q]];\n              var c = pick[i % 6];\n              var sc = normalizedOutput ? 1 : 255;\n              return Color.rgb(sc * c[0], sc * c[1], sc * c[2], hsb.alpha);\n            }\n          }, {\n            key: \"RGBtoLAB\",\n            value: function RGBtoLAB(rgb) {\n              var normalizedInput = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n              var normalizedOutput = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;\n              var c = normalizedInput ? rgb.$normalize(false) : rgb;\n              return Color.XYZtoLAB(Color.RGBtoXYZ(c), false, normalizedOutput);\n            }\n          }, {\n            key: \"LABtoRGB\",\n            value: function LABtoRGB(lab) {\n              var normalizedInput = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n              var normalizedOutput = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;\n              var c = normalizedInput ? lab.$normalize(false) : lab;\n              return Color.XYZtoRGB(Color.LABtoXYZ(c), false, normalizedOutput);\n            }\n          }, {\n            key: \"RGBtoLCH\",\n            value: function RGBtoLCH(rgb) {\n              var normalizedInput = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n              var normalizedOutput = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;\n              var c = normalizedInput ? rgb.$normalize(false) : rgb;\n              return Color.LABtoLCH(Color.RGBtoLAB(c), false, normalizedOutput);\n            }\n          }, {\n            key: \"LCHtoRGB\",\n            value: function LCHtoRGB(lch) {\n              var normalizedInput = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n              var normalizedOutput = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;\n              var c = normalizedInput ? lch.$normalize(false) : lch;\n              return Color.LABtoRGB(Color.LCHtoLAB(c), false, normalizedOutput);\n            }\n          }, {\n            key: \"RGBtoLUV\",\n            value: function RGBtoLUV(rgb) {\n              var normalizedInput = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n              var normalizedOutput = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;\n              var c = normalizedInput ? rgb.$normalize(false) : rgb;\n              return Color.XYZtoLUV(Color.RGBtoXYZ(c), false, normalizedOutput);\n            }\n          }, {\n            key: \"LUVtoRGB\",\n            value: function LUVtoRGB(luv) {\n              var normalizedInput = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n              var normalizedOutput = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;\n              var c = normalizedInput ? luv.$normalize(false) : luv;\n              return Color.XYZtoRGB(Color.LUVtoXYZ(c), false, normalizedOutput);\n            }\n          }, {\n            key: \"RGBtoXYZ\",\n            value: function RGBtoXYZ(rgb) {\n              var normalizedInput = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n              var normalizedOutput = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;\n              var c = !normalizedInput ? rgb.$normalize() : rgb.clone();\n\n              for (var i = 0; i < 3; i++) {\n                c[i] = c[i] > 0.04045 ? Math.pow((c[i] + 0.055) / 1.055, 2.4) : c[i] / 12.92;\n                if (!normalizedOutput) c[i] = c[i] * 100;\n              }\n\n              var cc = Color.xyz(c[0] * 0.4124564 + c[1] * 0.3575761 + c[2] * 0.1804375, c[0] * 0.2126729 + c[1] * 0.7151522 + c[2] * 0.0721750, c[0] * 0.0193339 + c[1] * 0.1191920 + c[2] * 0.9503041, rgb.alpha);\n              return normalizedOutput ? cc.normalize() : cc;\n            }\n          }, {\n            key: \"XYZtoRGB\",\n            value: function XYZtoRGB(xyz) {\n              var normalizedInput = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n              var normalizedOutput = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;\n\n              var _ref6 = !normalizedInput ? xyz.$normalize() : xyz,\n                  _ref7 = _slicedToArray(_ref6, 3),\n                  x = _ref7[0],\n                  y = _ref7[1],\n                  z = _ref7[2];\n\n              var rgb = [x * 3.2404542 + y * -1.5371385 + z * -0.4985314, x * -0.9692660 + y * 1.8760108 + z * 0.0415560, x * 0.0556434 + y * -0.2040259 + z * 1.0572252];\n\n              for (var i = 0; i < 3; i++) {\n                rgb[i] = rgb[i] < 0 ? 0 : rgb[i] > 0.0031308 ? 1.055 * Math.pow(rgb[i], 1 / 2.4) - 0.055 : 12.92 * rgb[i];\n                rgb[i] = Math.max(0, Math.min(1, rgb[i]));\n                if (!normalizedOutput) rgb[i] = Math.round(rgb[i] * 255);\n              }\n\n              var cc = Color.rgb(rgb[0], rgb[1], rgb[2], xyz.alpha);\n              return normalizedOutput ? cc.normalize() : cc;\n            }\n          }, {\n            key: \"XYZtoLAB\",\n            value: function XYZtoLAB(xyz) {\n              var normalizedInput = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n              var normalizedOutput = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;\n              var c = normalizedInput ? xyz.$normalize(false) : xyz.clone();\n              c.divide(Color.D65);\n\n              var fn = function fn(n) {\n                return n > 0.008856 ? Math.pow(n, 1 / 3) : 7.787 * n + 16 / 116;\n              };\n\n              var cy = fn(c[1]);\n              var cc = Color.lab(116 * cy - 16, 500 * (fn(c[0]) - cy), 200 * (cy - fn(c[2])), xyz.alpha);\n              return normalizedOutput ? cc.normalize() : cc;\n            }\n          }, {\n            key: \"LABtoXYZ\",\n            value: function LABtoXYZ(lab) {\n              var normalizedInput = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n              var normalizedOutput = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;\n              var c = normalizedInput ? lab.$normalize(false) : lab;\n              var y = (c[0] + 16) / 116;\n              var x = c[1] / 500 + y;\n              var z = y - c[2] / 200;\n\n              var fn = function fn(n) {\n                var nnn = n * n * n;\n                return nnn > 0.008856 ? nnn : (n - 16 / 116) / 7.787;\n              };\n\n              var d = Color.D65;\n              var cc = Color.xyz(Math.max(0, d[0] * fn(x)), Math.max(0, d[1] * fn(y)), Math.max(0, d[2] * fn(z)), lab.alpha);\n              return normalizedOutput ? cc.normalize() : cc;\n            }\n          }, {\n            key: \"XYZtoLUV\",\n            value: function XYZtoLUV(xyz) {\n              var normalizedInput = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n              var normalizedOutput = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;\n\n              var _ref8 = normalizedInput ? xyz.$normalize(false) : xyz,\n                  _ref9 = _slicedToArray(_ref8, 3),\n                  x = _ref9[0],\n                  y = _ref9[1],\n                  z = _ref9[2];\n\n              var u = 4 * x / (x + 15 * y + 3 * z);\n              var v = 9 * y / (x + 15 * y + 3 * z);\n              y = y / 100;\n              y = y > 0.008856 ? Math.pow(y, 1 / 3) : 7.787 * y + 16 / 116;\n              var refU = 4 * Color.D65[0] / (Color.D65[0] + 15 * Color.D65[1] + 3 * Color.D65[2]);\n              var refV = 9 * Color.D65[1] / (Color.D65[0] + 15 * Color.D65[1] + 3 * Color.D65[2]);\n              var L = 116 * y - 16;\n              return Color.luv(L, 13 * L * (u - refU), 13 * L * (v - refV), xyz.alpha);\n            }\n          }, {\n            key: \"LUVtoXYZ\",\n            value: function LUVtoXYZ(luv) {\n              var normalizedInput = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n              var normalizedOutput = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;\n\n              var _ref10 = normalizedInput ? luv.$normalize(false) : luv,\n                  _ref11 = _slicedToArray(_ref10, 3),\n                  l = _ref11[0],\n                  u = _ref11[1],\n                  v = _ref11[2];\n\n              var y = (l + 16) / 116;\n              var cubeY = y * y * y;\n              y = cubeY > 0.008856 ? cubeY : (y - 16 / 116) / 7.787;\n              var refU = 4 * Color.D65[0] / (Color.D65[0] + 15 * Color.D65[1] + 3 * Color.D65[2]);\n              var refV = 9 * Color.D65[1] / (Color.D65[0] + 15 * Color.D65[1] + 3 * Color.D65[2]);\n              u = u / (13 * l) + refU;\n              v = v / (13 * l) + refV;\n              y = y * 100;\n              var x = -1 * (9 * y * u) / ((u - 4) * v - u * v);\n              var z = (9 * y - 15 * v * y - v * x) / (3 * v);\n              return Color.xyz(x, y, z, luv.alpha);\n            }\n          }, {\n            key: \"LABtoLCH\",\n            value: function LABtoLCH(lab) {\n              var normalizedInput = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n              var normalizedOutput = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;\n              var c = normalizedInput ? lab.$normalize(false) : lab;\n              var h = Num_1.Geom.toDegree(Num_1.Geom.boundRadian(Math.atan2(c[2], c[1])));\n              return Color.lch(c[0], Math.sqrt(c[1] * c[1] + c[2] * c[2]), h, lab.alpha);\n            }\n          }, {\n            key: \"LCHtoLAB\",\n            value: function LCHtoLAB(lch) {\n              var normalizedInput = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n              var normalizedOutput = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;\n              var c = normalizedInput ? lch.$normalize(false) : lch;\n              var rad = Num_1.Geom.toRadian(c[2]);\n              return Color.lab(c[0], Math.cos(rad) * c[1], Math.sin(rad) * c[1], lch.alpha);\n            }\n          }]);\n\n          return Color;\n        }(Pt_1.Pt);\n\n        exports.Color = Color;\n        Color.D65 = new Pt_1.Pt(95.047, 100, 108.883, 1);\n        Color.ranges = {\n          rgb: new Pt_1.Group(new Pt_1.Pt(0, 255), new Pt_1.Pt(0, 255), new Pt_1.Pt(0, 255)),\n          hsl: new Pt_1.Group(new Pt_1.Pt(0, 360), new Pt_1.Pt(0, 1), new Pt_1.Pt(0, 1)),\n          hsb: new Pt_1.Group(new Pt_1.Pt(0, 360), new Pt_1.Pt(0, 1), new Pt_1.Pt(0, 1)),\n          lab: new Pt_1.Group(new Pt_1.Pt(0, 100), new Pt_1.Pt(-128, 127), new Pt_1.Pt(-128, 127)),\n          lch: new Pt_1.Group(new Pt_1.Pt(0, 100), new Pt_1.Pt(0, 100), new Pt_1.Pt(0, 360)),\n          luv: new Pt_1.Group(new Pt_1.Pt(0, 100), new Pt_1.Pt(-134, 220), new Pt_1.Pt(-140, 122)),\n          xyz: new Pt_1.Group(new Pt_1.Pt(0, 100), new Pt_1.Pt(0, 100), new Pt_1.Pt(0, 100))\n        };\n        /***/\n      },\n\n      /***/\n      \"./src/Create.ts\":\n      /*!***********************!*\\\n        !*** ./src/Create.ts ***!\n        \\***********************/\n\n      /*! no static exports found */\n\n      /***/\n      function srcCreateTs(module, exports, __webpack_require__) {\n        \"use strict\";\n        /*! Source code licensed under Apache License 2.0. Copyright  2017-current William Ngan and contributors. (https://github.com/williamngan/pts) */\n\n        var _createClass = function () {\n          function defineProperties(target, props) {\n            for (var i = 0; i < props.length; i++) {\n              var descriptor = props[i];\n              descriptor.enumerable = descriptor.enumerable || false;\n              descriptor.configurable = true;\n              if (\"value\" in descriptor) descriptor.writable = true;\n              Object.defineProperty(target, descriptor.key, descriptor);\n            }\n          }\n\n          return function (Constructor, protoProps, staticProps) {\n            if (protoProps) defineProperties(Constructor.prototype, protoProps);\n            if (staticProps) defineProperties(Constructor, staticProps);\n            return Constructor;\n          };\n        }();\n\n        function _possibleConstructorReturn(self, call) {\n          if (!self) {\n            throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n          }\n\n          return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self;\n        }\n\n        function _inherits(subClass, superClass) {\n          if (typeof superClass !== \"function\" && superClass !== null) {\n            throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass);\n          }\n\n          subClass.prototype = Object.create(superClass && superClass.prototype, {\n            constructor: {\n              value: subClass,\n              enumerable: false,\n              writable: true,\n              configurable: true\n            }\n          });\n          if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;\n        }\n\n        function _classCallCheck(instance, Constructor) {\n          if (!(instance instanceof Constructor)) {\n            throw new TypeError(\"Cannot call a class as a function\");\n          }\n        }\n\n        Object.defineProperty(exports, \"__esModule\", {\n          value: true\n        });\n        exports.Delaunay = exports.Noise = exports.Create = void 0;\n\n        var Pt_1 = __webpack_require__(\n        /*! ./Pt */\n        \"./src/Pt.ts\");\n\n        var Op_1 = __webpack_require__(\n        /*! ./Op */\n        \"./src/Op.ts\");\n\n        var Util_1 = __webpack_require__(\n        /*! ./Util */\n        \"./src/Util.ts\");\n\n        var Num_1 = __webpack_require__(\n        /*! ./Num */\n        \"./src/Num.ts\");\n\n        var LinearAlgebra_1 = __webpack_require__(\n        /*! ./LinearAlgebra */\n        \"./src/LinearAlgebra.ts\");\n\n        var Create = function () {\n          function Create() {\n            _classCallCheck(this, Create);\n          }\n\n          _createClass(Create, null, [{\n            key: \"distributeRandom\",\n            value: function distributeRandom(bound, count) {\n              var dimensions = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 2;\n              var pts = new Pt_1.Group();\n\n              for (var i = 0; i < count; i++) {\n                var p = [bound.x + Math.random() * bound.width];\n                if (dimensions > 1) p.push(bound.y + Math.random() * bound.height);\n                if (dimensions > 2) p.push(bound.z + Math.random() * bound.depth);\n                pts.push(new Pt_1.Pt(p));\n              }\n\n              return pts;\n            }\n          }, {\n            key: \"distributeLinear\",\n            value: function distributeLinear(line, count) {\n              var _line = Util_1.Util.iterToArray(line);\n\n              var ln = Op_1.Line.subpoints(_line, count - 2);\n              ln.unshift(_line[0]);\n              ln.push(_line[_line.length - 1]);\n              return ln;\n            }\n          }, {\n            key: \"gridPts\",\n            value: function gridPts(bound, columns, rows) {\n              var orientation = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : [0.5, 0.5];\n              if (columns === 0 || rows === 0) throw new Error(\"grid columns and rows cannot be 0\");\n              var unit = bound.size.$subtract(1).$divide(columns, rows);\n              var offset = unit.$multiply(orientation);\n              var g = new Pt_1.Group();\n\n              for (var r = 0; r < rows; r++) {\n                for (var c = 0; c < columns; c++) {\n                  g.push(bound.topLeft.$add(unit.$multiply(c, r)).add(offset));\n                }\n              }\n\n              return g;\n            }\n          }, {\n            key: \"gridCells\",\n            value: function gridCells(bound, columns, rows) {\n              if (columns === 0 || rows === 0) throw new Error(\"grid columns and rows cannot be 0\");\n              var unit = bound.size.$subtract(1).divide(columns, rows);\n              var g = [];\n\n              for (var r = 0; r < rows; r++) {\n                for (var c = 0; c < columns; c++) {\n                  g.push(new Pt_1.Group(bound.topLeft.$add(unit.$multiply(c, r)), bound.topLeft.$add(unit.$multiply(c, r).add(unit))));\n                }\n              }\n\n              return g;\n            }\n          }, {\n            key: \"radialPts\",\n            value: function radialPts(center, radius, count) {\n              var angleOffset = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : -Util_1.Const.half_pi;\n              var g = new Pt_1.Group();\n              var a = Util_1.Const.two_pi / count;\n\n              for (var i = 0; i < count; i++) {\n                g.push(new Pt_1.Pt(center).toAngle(a * i + angleOffset, radius, true));\n              }\n\n              return g;\n            }\n          }, {\n            key: \"noisePts\",\n            value: function noisePts(pts) {\n              var dx = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0.01;\n              var dy = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 0.01;\n              var rows = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : 0;\n              var columns = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : 0;\n              var seed = Math.random();\n              var g = new Pt_1.Group();\n              var i = 0;\n              var _iteratorNormalCompletion = true;\n              var _didIteratorError = false;\n              var _iteratorError = undefined;\n\n              try {\n                for (var _iterator = pts[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n                  var p = _step.value;\n                  var np = new Noise(p);\n                  var r = rows && rows > 0 ? Math.floor(i / rows) : i;\n                  var c = columns && columns > 0 ? i % columns : i;\n                  np.initNoise(dx * c, dy * r);\n                  np.seed(seed);\n                  g.push(np);\n                  i++;\n                }\n              } catch (err) {\n                _didIteratorError = true;\n                _iteratorError = err;\n              } finally {\n                try {\n                  if (!_iteratorNormalCompletion && _iterator.return) {\n                    _iterator.return();\n                  }\n                } finally {\n                  if (_didIteratorError) {\n                    throw _iteratorError;\n                  }\n                }\n              }\n\n              return g;\n            }\n          }, {\n            key: \"delaunay\",\n            value: function delaunay(pts) {\n              return Delaunay.from(pts);\n            }\n          }]);\n\n          return Create;\n        }();\n\n        exports.Create = Create;\n        var __noise_grad3 = [[1, 1, 0], [-1, 1, 0], [1, -1, 0], [-1, -1, 0], [1, 0, 1], [-1, 0, 1], [1, 0, -1], [-1, 0, -1], [0, 1, 1], [0, -1, 1], [0, 1, -1], [0, -1, -1]];\n        var __noise_permTable = [151, 160, 137, 91, 90, 15, 131, 13, 201, 95, 96, 53, 194, 233, 7, 225, 140, 36, 103, 30, 69, 142, 8, 99, 37, 240, 21, 10, 23, 190, 6, 148, 247, 120, 234, 75, 0, 26, 197, 62, 94, 252, 219, 203, 117, 35, 11, 32, 57, 177, 33, 88, 237, 149, 56, 87, 174, 20, 125, 136, 171, 168, 68, 175, 74, 165, 71, 134, 139, 48, 27, 166, 77, 146, 158, 231, 83, 111, 229, 122, 60, 211, 133, 230, 220, 105, 92, 41, 55, 46, 245, 40, 244, 102, 143, 54, 65, 25, 63, 161, 1, 216, 80, 73, 209, 76, 132, 187, 208, 89, 18, 169, 200, 196, 135, 130, 116, 188, 159, 86, 164, 100, 109, 198, 173, 186, 3, 64, 52, 217, 226, 250, 124, 123, 5, 202, 38, 147, 118, 126, 255, 82, 85, 212, 207, 206, 59, 227, 47, 16, 58, 17, 182, 189, 28, 42, 223, 183, 170, 213, 119, 248, 152, 2, 44, 154, 163, 70, 221, 153, 101, 155, 167, 43, 172, 9, 129, 22, 39, 253, 9, 98, 108, 110, 79, 113, 224, 232, 178, 185, 112, 104, 218, 246, 97, 228, 251, 34, 242, 193, 238, 210, 144, 12, 191, 179, 162, 241, 81, 51, 145, 235, 249, 14, 239, 107, 49, 192, 214, 31, 181, 199, 106, 157, 184, 84, 204, 176, 115, 121, 50, 45, 127, 4, 150, 254, 138, 236, 205, 93, 222, 114, 67, 29, 24, 72, 243, 141, 128, 195, 78, 66, 215, 61, 156, 180];\n\n        var Noise = function (_Pt_1$Pt) {\n          _inherits(Noise, _Pt_1$Pt);\n\n          function Noise() {\n            var _ref;\n\n            _classCallCheck(this, Noise);\n\n            for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n              args[_key] = arguments[_key];\n            }\n\n            var _this = _possibleConstructorReturn(this, (_ref = Noise.__proto__ || Object.getPrototypeOf(Noise)).call.apply(_ref, [this].concat(args)));\n\n            _this.perm = [];\n            _this._n = new Pt_1.Pt(0.01, 0.01);\n            _this.perm = __noise_permTable.concat(__noise_permTable);\n            return _this;\n          }\n\n          _createClass(Noise, [{\n            key: \"initNoise\",\n            value: function initNoise() {\n              for (var _len2 = arguments.length, args = Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n                args[_key2] = arguments[_key2];\n              }\n\n              this._n = new (Function.prototype.bind.apply(Pt_1.Pt, [null].concat(args)))();\n              return this;\n            }\n          }, {\n            key: \"step\",\n            value: function step() {\n              var x = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;\n              var y = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n\n              this._n.add(x, y);\n\n              return this;\n            }\n          }, {\n            key: \"seed\",\n            value: function seed(s) {\n              if (s > 0 && s < 1) s *= 65536;\n              s = Math.floor(s);\n              if (s < 256) s |= s << 8;\n\n              for (var i = 0; i < 255; i++) {\n                var v = i & 1 ? __noise_permTable[i] ^ s & 255 : __noise_permTable[i] ^ s >> 8 & 255;\n                this.perm[i] = this.perm[i + 256] = v;\n              }\n\n              return this;\n            }\n          }, {\n            key: \"noise2D\",\n            value: function noise2D() {\n              var i = Math.max(0, Math.floor(this._n[0])) % 255;\n              var j = Math.max(0, Math.floor(this._n[1])) % 255;\n              var x = this._n[0] % 255 - i;\n              var y = this._n[1] % 255 - j;\n              var n00 = LinearAlgebra_1.Vec.dot(__noise_grad3[(i + this.perm[j]) % 12], [x, y, 0]);\n              var n01 = LinearAlgebra_1.Vec.dot(__noise_grad3[(i + this.perm[j + 1]) % 12], [x, y - 1, 0]);\n              var n10 = LinearAlgebra_1.Vec.dot(__noise_grad3[(i + 1 + this.perm[j]) % 12], [x - 1, y, 0]);\n              var n11 = LinearAlgebra_1.Vec.dot(__noise_grad3[(i + 1 + this.perm[j + 1]) % 12], [x - 1, y - 1, 0]);\n\n              var _fade = function _fade(f) {\n                return f * f * f * (f * (f * 6 - 15) + 10);\n              };\n\n              var tx = _fade(x);\n\n              return Num_1.Num.lerp(Num_1.Num.lerp(n00, n10, tx), Num_1.Num.lerp(n01, n11, tx), _fade(y));\n            }\n          }]);\n\n          return Noise;\n        }(Pt_1.Pt);\n\n        exports.Noise = Noise;\n\n        var Delaunay = function (_Pt_1$Group) {\n          _inherits(Delaunay, _Pt_1$Group);\n\n          function Delaunay() {\n            _classCallCheck(this, Delaunay);\n\n            var _this2 = _possibleConstructorReturn(this, (Delaunay.__proto__ || Object.getPrototypeOf(Delaunay)).apply(this, arguments));\n\n            _this2._mesh = [];\n            return _this2;\n          }\n\n          _createClass(Delaunay, [{\n            key: \"delaunay\",\n            value: function delaunay() {\n              var _this3 = this;\n\n              var triangleOnly = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : true;\n              if (this.length < 3) return [];\n              this._mesh = [];\n              var n = this.length;\n              var indices = [];\n\n              for (var i = 0; i < n; i++) {\n                indices[i] = i;\n              }\n\n              indices.sort(function (i, j) {\n                return _this3[j][0] - _this3[i][0];\n              });\n              var pts = this.slice();\n\n              var st = this._superTriangle();\n\n              pts = pts.concat(st);\n              var opened = [this._circum(n, n + 1, n + 2, st)];\n              var closed = [];\n              var tris = [];\n\n              for (var _i = 0, len = indices.length; _i < len; _i++) {\n                var c = indices[_i];\n                var edges = [];\n                var j = opened.length;\n                if (!this._mesh[c]) this._mesh[c] = {};\n\n                while (j--) {\n                  var circum = opened[j];\n                  var radius = circum.circle[1][0];\n                  var d = pts[c].$subtract(circum.circle[0]);\n\n                  if (d[0] > 0 && d[0] * d[0] > radius * radius) {\n                    closed.push(circum);\n                    tris.push(circum.triangle);\n                    opened.splice(j, 1);\n                    continue;\n                  }\n\n                  if (d[0] * d[0] + d[1] * d[1] - radius * radius > Util_1.Const.epsilon) {\n                    continue;\n                  }\n\n                  edges.push(circum.i, circum.j, circum.j, circum.k, circum.k, circum.i);\n                  opened.splice(j, 1);\n                }\n\n                Delaunay._dedupe(edges);\n\n                j = edges.length;\n\n                while (j > 1) {\n                  opened.push(this._circum(edges[--j], edges[--j], c, false, pts));\n                }\n              }\n\n              for (var _i2 = 0, _len3 = opened.length; _i2 < _len3; _i2++) {\n                var o = opened[_i2];\n\n                if (o.i < n && o.j < n && o.k < n) {\n                  closed.push(o);\n                  tris.push(o.triangle);\n\n                  this._cache(o);\n                }\n              }\n\n              return triangleOnly ? tris : closed;\n            }\n          }, {\n            key: \"voronoi\",\n            value: function voronoi() {\n              var vs = [];\n              var n = this._mesh;\n\n              for (var i = 0, len = n.length; i < len; i++) {\n                vs.push(this.neighborPts(i, true));\n              }\n\n              return vs;\n            }\n          }, {\n            key: \"mesh\",\n            value: function mesh() {\n              return this._mesh;\n            }\n          }, {\n            key: \"neighborPts\",\n            value: function neighborPts(i) {\n              var sort = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n              var cs = new Pt_1.Group();\n              var n = this._mesh;\n\n              for (var k in n[i]) {\n                if (n[i].hasOwnProperty(k)) cs.push(n[i][k].circle[0]);\n              }\n\n              return sort ? Num_1.Geom.sortEdges(cs) : cs;\n            }\n          }, {\n            key: \"neighbors\",\n            value: function neighbors(i) {\n              var cs = [];\n              var n = this._mesh;\n\n              for (var k in n[i]) {\n                if (n[i].hasOwnProperty(k)) cs.push(n[i][k]);\n              }\n\n              return cs;\n            }\n          }, {\n            key: \"_cache\",\n            value: function _cache(o) {\n              this._mesh[o.i][Math.min(o.j, o.k) + \"-\" + Math.max(o.j, o.k)] = o;\n              this._mesh[o.j][Math.min(o.i, o.k) + \"-\" + Math.max(o.i, o.k)] = o;\n              this._mesh[o.k][Math.min(o.i, o.j) + \"-\" + Math.max(o.i, o.j)] = o;\n            }\n          }, {\n            key: \"_superTriangle\",\n            value: function _superTriangle() {\n              var minPt = this[0];\n              var maxPt = this[0];\n\n              for (var i = 1, len = this.length; i < len; i++) {\n                minPt = minPt.$min(this[i]);\n                maxPt = maxPt.$max(this[i]);\n              }\n\n              var d = maxPt.$subtract(minPt);\n              var mid = minPt.$add(maxPt).divide(2);\n              var dmax = Math.max(d[0], d[1]);\n              return new Pt_1.Group(mid.$subtract(20 * dmax, dmax), mid.$add(0, 20 * dmax), mid.$add(20 * dmax, -dmax));\n            }\n          }, {\n            key: \"_triangle\",\n            value: function _triangle(i, j, k) {\n              var pts = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : this;\n              return new Pt_1.Group(pts[i], pts[j], pts[k]);\n            }\n          }, {\n            key: \"_circum\",\n            value: function _circum(i, j, k, tri) {\n              var pts = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : this;\n\n              var t = tri || this._triangle(i, j, k, pts);\n\n              return {\n                i: i,\n                j: j,\n                k: k,\n                triangle: t,\n                circle: Op_1.Triangle.circumcircle(t)\n              };\n            }\n          }], [{\n            key: \"_dedupe\",\n            value: function _dedupe(edges) {\n              var j = edges.length;\n\n              while (j > 1) {\n                var b = edges[--j];\n                var a = edges[--j];\n                var i = j;\n\n                while (i > 1) {\n                  var n = edges[--i];\n                  var m = edges[--i];\n\n                  if (a == m && b == n || a == n && b == m) {\n                    edges.splice(j, 2);\n                    edges.splice(i, 2);\n                    break;\n                  }\n                }\n              }\n\n              return edges;\n            }\n          }]);\n\n          return Delaunay;\n        }(Pt_1.Group);\n\n        exports.Delaunay = Delaunay;\n        /***/\n      },\n\n      /***/\n      \"./src/Dom.ts\":\n      /*!********************!*\\\n        !*** ./src/Dom.ts ***!\n        \\********************/\n\n      /*! no static exports found */\n\n      /***/\n      function srcDomTs(module, exports, __webpack_require__) {\n        \"use strict\";\n        /*! Source code licensed under Apache License 2.0. Copyright  2017-current William Ngan and contributors. (https://github.com/williamngan/pts) */\n\n        var _get = function get(object, property, receiver) {\n          if (object === null) object = Function.prototype;\n          var desc = Object.getOwnPropertyDescriptor(object, property);\n\n          if (desc === undefined) {\n            var parent = Object.getPrototypeOf(object);\n\n            if (parent === null) {\n              return undefined;\n            } else {\n              return get(parent, property, receiver);\n            }\n          } else if (\"value\" in desc) {\n            return desc.value;\n          } else {\n            var getter = desc.get;\n\n            if (getter === undefined) {\n              return undefined;\n            }\n\n            return getter.call(receiver);\n          }\n        };\n\n        var _createClass = function () {\n          function defineProperties(target, props) {\n            for (var i = 0; i < props.length; i++) {\n              var descriptor = props[i];\n              descriptor.enumerable = descriptor.enumerable || false;\n              descriptor.configurable = true;\n              if (\"value\" in descriptor) descriptor.writable = true;\n              Object.defineProperty(target, descriptor.key, descriptor);\n            }\n          }\n\n          return function (Constructor, protoProps, staticProps) {\n            if (protoProps) defineProperties(Constructor.prototype, protoProps);\n            if (staticProps) defineProperties(Constructor, staticProps);\n            return Constructor;\n          };\n        }();\n\n        function _classCallCheck(instance, Constructor) {\n          if (!(instance instanceof Constructor)) {\n            throw new TypeError(\"Cannot call a class as a function\");\n          }\n        }\n\n        function _possibleConstructorReturn(self, call) {\n          if (!self) {\n            throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n          }\n\n          return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self;\n        }\n\n        function _inherits(subClass, superClass) {\n          if (typeof superClass !== \"function\" && superClass !== null) {\n            throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass);\n          }\n\n          subClass.prototype = Object.create(superClass && superClass.prototype, {\n            constructor: {\n              value: subClass,\n              enumerable: false,\n              writable: true,\n              configurable: true\n            }\n          });\n          if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;\n        }\n\n        Object.defineProperty(exports, \"__esModule\", {\n          value: true\n        });\n        exports.HTMLForm = exports.HTMLSpace = exports.DOMSpace = void 0;\n\n        var Space_1 = __webpack_require__(\n        /*! ./Space */\n        \"./src/Space.ts\");\n\n        var Form_1 = __webpack_require__(\n        /*! ./Form */\n        \"./src/Form.ts\");\n\n        var Util_1 = __webpack_require__(\n        /*! ./Util */\n        \"./src/Util.ts\");\n\n        var Pt_1 = __webpack_require__(\n        /*! ./Pt */\n        \"./src/Pt.ts\");\n\n        var DOMSpace = function (_Space_1$MultiTouchSp) {\n          _inherits(DOMSpace, _Space_1$MultiTouchSp);\n\n          function DOMSpace(elem, callback) {\n            _classCallCheck(this, DOMSpace);\n\n            var _this = _possibleConstructorReturn(this, (DOMSpace.__proto__ || Object.getPrototypeOf(DOMSpace)).call(this));\n\n            _this.id = \"domspace\";\n            _this._autoResize = true;\n            _this._bgcolor = \"#e1e9f0\";\n            _this._css = {};\n            var _selector = null;\n            var _existed = false;\n            _this.id = \"pts\";\n\n            if (elem instanceof Element) {\n              _selector = elem;\n              _this.id = \"pts_existing_space\";\n            } else {\n              _selector = document.querySelector(elem);\n              _existed = true;\n              _this.id = elem.substr(1);\n            }\n\n            if (!_selector) {\n              _this._container = DOMSpace.createElement(\"div\", \"pts_container\");\n              _this._canvas = DOMSpace.createElement(\"div\", \"pts_element\");\n\n              _this._container.appendChild(_this._canvas);\n\n              document.body.appendChild(_this._container);\n              _existed = false;\n            } else {\n              _this._canvas = _selector;\n              _this._container = _selector.parentElement;\n            }\n\n            setTimeout(_this._ready.bind(_this, callback), 50);\n            return _this;\n          }\n\n          _createClass(DOMSpace, [{\n            key: \"_ready\",\n            value: function _ready(callback) {\n              if (!this._container) throw new Error(\"Cannot initiate #\" + this.id + \" element\");\n              this._isReady = true;\n\n              this._resizeHandler(null);\n\n              this.clear(this._bgcolor);\n\n              this._canvas.dispatchEvent(new Event(\"ready\"));\n\n              for (var k in this.players) {\n                if (this.players.hasOwnProperty(k)) {\n                  if (this.players[k].start) this.players[k].start(this.bound.clone(), this);\n                }\n              }\n\n              this._pointer = this.center;\n              this.refresh(false);\n              if (callback) callback(this.bound, this._canvas);\n            }\n          }, {\n            key: \"setup\",\n            value: function setup(opt) {\n              if (opt.bgcolor) {\n                this._bgcolor = opt.bgcolor;\n              }\n\n              this.autoResize = opt.resize != undefined ? opt.resize : false;\n              return this;\n            }\n          }, {\n            key: \"getForm\",\n            value: function getForm() {\n              return null;\n            }\n          }, {\n            key: \"resize\",\n            value: function resize(b, evt) {\n              this.bound = b;\n              this.styles({\n                width: b.width + \"px\",\n                height: b.height + \"px\"\n              }, true);\n\n              for (var k in this.players) {\n                if (this.players.hasOwnProperty(k)) {\n                  var p = this.players[k];\n                  if (p.resize) p.resize(this.bound, evt);\n                }\n              }\n\n              return this;\n            }\n          }, {\n            key: \"_resizeHandler\",\n            value: function _resizeHandler(evt) {\n              var b = Pt_1.Bound.fromBoundingRect(this._container.getBoundingClientRect());\n\n              if (this._autoResize) {\n                this.styles({\n                  width: \"100%\",\n                  height: \"100%\"\n                }, true);\n              } else {\n                this.styles({\n                  width: b.width + \"px\",\n                  height: b.height + \"px\"\n                }, true);\n              }\n\n              this.resize(b, evt);\n            }\n          }, {\n            key: \"clear\",\n            value: function clear(bg) {\n              if (bg) this.background = bg;\n              this._canvas.innerHTML = \"\";\n              return this;\n            }\n          }, {\n            key: \"style\",\n            value: function style(key, val) {\n              var update = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;\n              this._css[key] = val;\n              if (update) this._canvas.style[key] = val;\n              return this;\n            }\n          }, {\n            key: \"styles\",\n            value: function styles(_styles) {\n              var update = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n\n              for (var k in _styles) {\n                if (_styles.hasOwnProperty(k)) this.style(k, _styles[k], update);\n              }\n\n              return this;\n            }\n          }, {\n            key: \"dispose\",\n            value: function dispose() {\n              window.removeEventListener('resize', this._resizeHandler.bind(this));\n              this.stop();\n              this.removeAll();\n              return this;\n            }\n          }, {\n            key: \"autoResize\",\n            set: function set(auto) {\n              this._autoResize = auto;\n\n              if (auto) {\n                window.addEventListener('resize', this._resizeHandler.bind(this));\n              } else {\n                delete this._css['width'];\n                delete this._css['height'];\n                window.removeEventListener('resize', this._resizeHandler.bind(this));\n              }\n            },\n            get: function get() {\n              return this._autoResize;\n            }\n          }, {\n            key: \"element\",\n            get: function get() {\n              return this._canvas;\n            }\n          }, {\n            key: \"parent\",\n            get: function get() {\n              return this._container;\n            }\n          }, {\n            key: \"ready\",\n            get: function get() {\n              return this._isReady;\n            }\n          }, {\n            key: \"background\",\n            set: function set(bg) {\n              this._bgcolor = bg;\n              this._container.style.backgroundColor = this._bgcolor;\n            },\n            get: function get() {\n              return this._bgcolor;\n            }\n          }], [{\n            key: \"createElement\",\n            value: function createElement() {\n              var elem = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : \"div\";\n              var id = arguments[1];\n              var appendTo = arguments[2];\n              var d = document.createElement(elem);\n              if (id) d.setAttribute(\"id\", id);\n              if (appendTo && appendTo.appendChild) appendTo.appendChild(d);\n              return d;\n            }\n          }, {\n            key: \"setAttr\",\n            value: function setAttr(elem, data) {\n              for (var k in data) {\n                if (data.hasOwnProperty(k)) {\n                  elem.setAttribute(k, data[k]);\n                }\n              }\n\n              return elem;\n            }\n          }, {\n            key: \"getInlineStyles\",\n            value: function getInlineStyles(data) {\n              var str = \"\";\n\n              for (var k in data) {\n                if (data.hasOwnProperty(k)) {\n                  if (data[k]) str += k + \": \" + data[k] + \"; \";\n                }\n              }\n\n              return str;\n            }\n          }]);\n\n          return DOMSpace;\n        }(Space_1.MultiTouchSpace);\n\n        exports.DOMSpace = DOMSpace;\n\n        var HTMLSpace = function (_DOMSpace) {\n          _inherits(HTMLSpace, _DOMSpace);\n\n          function HTMLSpace() {\n            _classCallCheck(this, HTMLSpace);\n\n            return _possibleConstructorReturn(this, (HTMLSpace.__proto__ || Object.getPrototypeOf(HTMLSpace)).apply(this, arguments));\n          }\n\n          _createClass(HTMLSpace, [{\n            key: \"getForm\",\n            value: function getForm() {\n              return new HTMLForm(this);\n            }\n          }, {\n            key: \"remove\",\n            value: function remove(player) {\n              var temp = this._container.querySelectorAll(\".\" + HTMLForm.scopeID(player));\n\n              temp.forEach(function (el) {\n                el.parentNode.removeChild(el);\n              });\n              return _get(HTMLSpace.prototype.__proto__ || Object.getPrototypeOf(HTMLSpace.prototype), \"remove\", this).call(this, player);\n            }\n          }, {\n            key: \"removeAll\",\n            value: function removeAll() {\n              this._container.innerHTML = \"\";\n              return _get(HTMLSpace.prototype.__proto__ || Object.getPrototypeOf(HTMLSpace.prototype), \"removeAll\", this).call(this);\n            }\n          }], [{\n            key: \"htmlElement\",\n            value: function htmlElement(parent, name, id) {\n              var autoClass = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : true;\n              if (!parent || !parent.appendChild) throw new Error(\"parent is not a valid DOM element\");\n              var elem = document.querySelector(\"#\" + id);\n\n              if (!elem) {\n                elem = document.createElement(name);\n                elem.setAttribute(\"id\", id);\n                if (autoClass) elem.setAttribute(\"class\", id.substring(0, id.indexOf(\"-\")));\n                parent.appendChild(elem);\n              }\n\n              return elem;\n            }\n          }]);\n\n          return HTMLSpace;\n        }(DOMSpace);\n\n        exports.HTMLSpace = HTMLSpace;\n\n        var HTMLForm = function (_Form_1$VisualForm) {\n          _inherits(HTMLForm, _Form_1$VisualForm);\n\n          function HTMLForm(space) {\n            _classCallCheck(this, HTMLForm);\n\n            var _this3 = _possibleConstructorReturn(this, (HTMLForm.__proto__ || Object.getPrototypeOf(HTMLForm)).call(this));\n\n            _this3._style = {\n              \"filled\": true,\n              \"stroked\": true,\n              \"background\": \"#f03\",\n              \"border-color\": \"#fff\",\n              \"color\": \"#000\",\n              \"border-width\": \"1px\",\n              \"border-radius\": \"0\",\n              \"border-style\": \"solid\",\n              \"opacity\": 1,\n              \"position\": \"absolute\",\n              \"top\": 0,\n              \"left\": 0,\n              \"width\": 0,\n              \"height\": 0\n            };\n            _this3._ctx = {\n              group: null,\n              groupID: \"pts\",\n              groupCount: 0,\n              currentID: \"pts0\",\n              currentClass: \"\",\n              style: {}\n            };\n            _this3._ready = false;\n            _this3._space = space;\n\n            _this3._space.add({\n              start: function start() {\n                _this3._ctx.group = _this3._space.element;\n                _this3._ctx.groupID = \"pts_dom_\" + HTMLForm.groupID++;\n                _this3._ctx.style = Object.assign({}, _this3._style);\n                _this3._ready = true;\n              }\n            });\n\n            return _this3;\n          }\n\n          _createClass(HTMLForm, [{\n            key: \"styleTo\",\n            value: function styleTo(k, v) {\n              var unit = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : '';\n              if (this._ctx.style[k] === undefined) throw new Error(k + \" style property doesn't exist\");\n              this._ctx.style[k] = \"\" + v + unit;\n            }\n          }, {\n            key: \"alpha\",\n            value: function alpha(a) {\n              this.styleTo(\"opacity\", a);\n              return this;\n            }\n          }, {\n            key: \"fill\",\n            value: function fill(c) {\n              if (typeof c == \"boolean\") {\n                this.styleTo(\"filled\", c);\n                if (!c) this.styleTo(\"background\", \"transparent\");\n              } else {\n                this.styleTo(\"filled\", true);\n                this.styleTo(\"background\", c);\n              }\n\n              return this;\n            }\n          }, {\n            key: \"stroke\",\n            value: function stroke(c, width, linejoin, linecap) {\n              if (typeof c == \"boolean\") {\n                this.styleTo(\"stroked\", c);\n                if (!c) this.styleTo(\"border-width\", 0);\n              } else {\n                this.styleTo(\"stroked\", true);\n                this.styleTo(\"border-color\", c);\n                this.styleTo(\"border-width\", (width || 1) + \"px\");\n              }\n\n              return this;\n            }\n          }, {\n            key: \"fillText\",\n            value: function fillText(c) {\n              this.styleTo(\"color\", c);\n              return this;\n            }\n          }, {\n            key: \"cls\",\n            value: function cls(c) {\n              if (typeof c == \"boolean\") {\n                this._ctx.currentClass = \"\";\n              } else {\n                this._ctx.currentClass = c;\n              }\n\n              return this;\n            }\n          }, {\n            key: \"font\",\n            value: function font(sizeOrFont, weight, style, lineHeight, family) {\n              if (typeof sizeOrFont == \"number\") {\n                this._font.size = sizeOrFont;\n                if (family) this._font.face = family;\n                if (weight) this._font.weight = weight;\n                if (style) this._font.style = style;\n                if (lineHeight) this._font.lineHeight = lineHeight;\n              } else {\n                this._font = sizeOrFont;\n              }\n\n              this._ctx.style['font'] = this._font.value;\n              return this;\n            }\n          }, {\n            key: \"reset\",\n            value: function reset() {\n              this._ctx.style = Object.assign({}, this._style);\n              this._font = new Form_1.Font(10, \"sans-serif\");\n              this._ctx.style['font'] = this._font.value;\n              return this;\n            }\n          }, {\n            key: \"updateScope\",\n            value: function updateScope(group_id, group) {\n              this._ctx.group = group;\n              this._ctx.groupID = group_id;\n              this._ctx.groupCount = 0;\n              this.nextID();\n              return this._ctx;\n            }\n          }, {\n            key: \"scope\",\n            value: function scope(item) {\n              if (!item || item.animateID == null) throw new Error(\"item not defined or not yet added to Space\");\n              return this.updateScope(HTMLForm.scopeID(item), this.space.element);\n            }\n          }, {\n            key: \"nextID\",\n            value: function nextID() {\n              this._ctx.groupCount++;\n              this._ctx.currentID = this._ctx.groupID + \"-\" + this._ctx.groupCount;\n              return this._ctx.currentID;\n            }\n          }, {\n            key: \"point\",\n            value: function point(pt) {\n              var radius = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 5;\n              var shape = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : \"square\";\n              this.nextID();\n              if (shape == \"circle\") this.styleTo(\"border-radius\", \"100%\");\n              HTMLForm.point(this._ctx, pt, radius, shape);\n              return this;\n            }\n          }, {\n            key: \"circle\",\n            value: function circle(pts) {\n              this.nextID();\n              this.styleTo(\"border-radius\", \"100%\");\n              HTMLForm.circle(this._ctx, pts[0], pts[1][0]);\n              return this;\n            }\n          }, {\n            key: \"square\",\n            value: function square(pt, halfsize) {\n              this.nextID();\n              HTMLForm.square(this._ctx, pt, halfsize);\n              return this;\n            }\n          }, {\n            key: \"rect\",\n            value: function rect(pts) {\n              this.nextID();\n              this.styleTo(\"border-radius\", \"0\");\n              HTMLForm.rect(this._ctx, pts);\n              return this;\n            }\n          }, {\n            key: \"text\",\n            value: function text(pt, txt) {\n              this.nextID();\n              HTMLForm.text(this._ctx, pt, txt);\n              return this;\n            }\n          }, {\n            key: \"log\",\n            value: function log(txt) {\n              this.fill(\"#000\").stroke(\"#fff\", 0.5).text([10, 14], txt);\n              return this;\n            }\n          }, {\n            key: \"arc\",\n            value: function arc(pt, radius, startAngle, endAngle, cc) {\n              Util_1.Util.warn(\"arc is not implemented in HTMLForm\");\n              return this;\n            }\n          }, {\n            key: \"line\",\n            value: function line(pts) {\n              Util_1.Util.warn(\"line is not implemented in HTMLForm\");\n              return this;\n            }\n          }, {\n            key: \"polygon\",\n            value: function polygon(pts) {\n              Util_1.Util.warn(\"polygon is not implemented in HTMLForm\");\n              return this;\n            }\n          }, {\n            key: \"space\",\n            get: function get() {\n              return this._space;\n            }\n          }], [{\n            key: \"getID\",\n            value: function getID(ctx) {\n              return ctx.currentID || \"p-\" + HTMLForm.domID++;\n            }\n          }, {\n            key: \"scopeID\",\n            value: function scopeID(item) {\n              return \"item-\" + item.animateID;\n            }\n          }, {\n            key: \"style\",\n            value: function style(elem, styles) {\n              var st = [];\n              if (!styles[\"filled\"]) st.push(\"background: none\");\n              if (!styles[\"stroked\"]) st.push(\"border: none\");\n\n              for (var k in styles) {\n                if (styles.hasOwnProperty(k) && k != \"filled\" && k != \"stroked\") {\n                  var v = styles[k];\n\n                  if (v) {\n                    if (!styles[\"filled\"] && k.indexOf('background') === 0) {\n                      continue;\n                    } else if (!styles[\"stroked\"] && k.indexOf('border-width') === 0) {\n                      continue;\n                    } else {\n                      st.push(k + \": \" + v);\n                    }\n                  }\n                }\n              }\n\n              return HTMLSpace.setAttr(elem, {\n                style: st.join(\";\")\n              });\n            }\n          }, {\n            key: \"rectStyle\",\n            value: function rectStyle(ctx, pt, size) {\n              ctx.style[\"left\"] = pt[0] + \"px\";\n              ctx.style[\"top\"] = pt[1] + \"px\";\n              ctx.style[\"width\"] = size[0] + \"px\";\n              ctx.style[\"height\"] = size[1] + \"px\";\n              return ctx;\n            }\n          }, {\n            key: \"textStyle\",\n            value: function textStyle(ctx, pt) {\n              ctx.style[\"left\"] = pt[0] + \"px\";\n              ctx.style[\"top\"] = pt[1] + \"px\";\n              return ctx;\n            }\n          }, {\n            key: \"point\",\n            value: function point(ctx, pt) {\n              var radius = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 5;\n              var shape = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : \"square\";\n\n              if (shape === \"circle\") {\n                return HTMLForm.circle(ctx, pt, radius);\n              } else {\n                return HTMLForm.square(ctx, pt, radius);\n              }\n            }\n          }, {\n            key: \"circle\",\n            value: function circle(ctx, pt) {\n              var radius = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 10;\n              var elem = HTMLSpace.htmlElement(ctx.group, \"div\", HTMLForm.getID(ctx));\n              HTMLSpace.setAttr(elem, {\n                class: \"pts-form pts-circle \" + ctx.currentClass\n              });\n              HTMLForm.rectStyle(ctx, new Pt_1.Pt(pt).$subtract(radius), new Pt_1.Pt(radius * 2, radius * 2));\n              HTMLForm.style(elem, ctx.style);\n              return elem;\n            }\n          }, {\n            key: \"square\",\n            value: function square(ctx, pt, halfsize) {\n              var elem = HTMLSpace.htmlElement(ctx.group, \"div\", HTMLForm.getID(ctx));\n              HTMLSpace.setAttr(elem, {\n                class: \"pts-form pts-square \" + ctx.currentClass\n              });\n              HTMLForm.rectStyle(ctx, new Pt_1.Pt(pt).$subtract(halfsize), new Pt_1.Pt(halfsize * 2, halfsize * 2));\n              HTMLForm.style(elem, ctx.style);\n              return elem;\n            }\n          }, {\n            key: \"rect\",\n            value: function rect(ctx, pts) {\n              var p = Util_1.Util.iterToArray(pts);\n              if (!Util_1.Util.arrayCheck(p)) return;\n              var elem = HTMLSpace.htmlElement(ctx.group, \"div\", HTMLForm.getID(ctx));\n              HTMLSpace.setAttr(elem, {\n                class: \"pts-form pts-rect \" + ctx.currentClass\n              });\n              HTMLForm.rectStyle(ctx, p[0], p[1]);\n              HTMLForm.style(elem, ctx.style);\n              return elem;\n            }\n          }, {\n            key: \"text\",\n            value: function text(ctx, pt, txt) {\n              var elem = HTMLSpace.htmlElement(ctx.group, \"div\", HTMLForm.getID(ctx));\n              HTMLSpace.setAttr(elem, {\n                class: \"pts-form pts-text \" + ctx.currentClass\n              });\n              elem.textContent = txt;\n              HTMLForm.textStyle(ctx, pt);\n              HTMLForm.style(elem, ctx.style);\n              return elem;\n            }\n          }]);\n\n          return HTMLForm;\n        }(Form_1.VisualForm);\n\n        exports.HTMLForm = HTMLForm;\n        HTMLForm.groupID = 0;\n        HTMLForm.domID = 0;\n        /***/\n      },\n\n      /***/\n      \"./src/Form.ts\":\n      /*!*********************!*\\\n        !*** ./src/Form.ts ***!\n        \\*********************/\n\n      /*! no static exports found */\n\n      /***/\n      function srcFormTs(module, exports, __webpack_require__) {\n        \"use strict\";\n        /*! Source code licensed under Apache License 2.0. Copyright  2017-current William Ngan and contributors. (https://github.com/williamngan/pts) */\n\n        var _createClass = function () {\n          function defineProperties(target, props) {\n            for (var i = 0; i < props.length; i++) {\n              var descriptor = props[i];\n              descriptor.enumerable = descriptor.enumerable || false;\n              descriptor.configurable = true;\n              if (\"value\" in descriptor) descriptor.writable = true;\n              Object.defineProperty(target, descriptor.key, descriptor);\n            }\n          }\n\n          return function (Constructor, protoProps, staticProps) {\n            if (protoProps) defineProperties(Constructor.prototype, protoProps);\n            if (staticProps) defineProperties(Constructor, staticProps);\n            return Constructor;\n          };\n        }();\n\n        function _possibleConstructorReturn(self, call) {\n          if (!self) {\n            throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n          }\n\n          return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self;\n        }\n\n        function _inherits(subClass, superClass) {\n          if (typeof superClass !== \"function\" && superClass !== null) {\n            throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass);\n          }\n\n          subClass.prototype = Object.create(superClass && superClass.prototype, {\n            constructor: {\n              value: subClass,\n              enumerable: false,\n              writable: true,\n              configurable: true\n            }\n          });\n          if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;\n        }\n\n        function _classCallCheck(instance, Constructor) {\n          if (!(instance instanceof Constructor)) {\n            throw new TypeError(\"Cannot call a class as a function\");\n          }\n        }\n\n        Object.defineProperty(exports, \"__esModule\", {\n          value: true\n        });\n        exports.Font = exports.VisualForm = exports.Form = void 0;\n\n        var Form = function () {\n          function Form() {\n            _classCallCheck(this, Form);\n\n            this._ready = false;\n          }\n\n          _createClass(Form, [{\n            key: \"ready\",\n            get: function get() {\n              return this._ready;\n            }\n          }]);\n\n          return Form;\n        }();\n\n        exports.Form = Form;\n\n        var VisualForm = function (_Form) {\n          _inherits(VisualForm, _Form);\n\n          function VisualForm() {\n            _classCallCheck(this, VisualForm);\n\n            var _this = _possibleConstructorReturn(this, (VisualForm.__proto__ || Object.getPrototypeOf(VisualForm)).apply(this, arguments));\n\n            _this._filled = true;\n            _this._stroked = true;\n            _this._font = new Font(14, \"sans-serif\");\n            return _this;\n          }\n\n          _createClass(VisualForm, [{\n            key: \"_multiple\",\n            value: function _multiple(groups, shape) {\n              if (!groups) return this;\n\n              for (var _len = arguments.length, rest = Array(_len > 2 ? _len - 2 : 0), _key = 2; _key < _len; _key++) {\n                rest[_key - 2] = arguments[_key];\n              }\n\n              for (var i = 0, len = groups.length; i < len; i++) {\n                this[shape].apply(this, [groups[i]].concat(rest));\n              }\n\n              return this;\n            }\n          }, {\n            key: \"alpha\",\n            value: function alpha(a) {\n              return this;\n            }\n          }, {\n            key: \"fill\",\n            value: function fill(c) {\n              return this;\n            }\n          }, {\n            key: \"fillOnly\",\n            value: function fillOnly(c) {\n              this.stroke(false);\n              return this.fill(c);\n            }\n          }, {\n            key: \"stroke\",\n            value: function stroke(c, width, linejoin, linecap) {\n              return this;\n            }\n          }, {\n            key: \"strokeOnly\",\n            value: function strokeOnly(c, width, linejoin, linecap) {\n              this.fill(false);\n              return this.stroke(c, width, linejoin, linecap);\n            }\n          }, {\n            key: \"points\",\n            value: function points(pts, radius, shape) {\n              if (!pts) return;\n\n              for (var i = 0, len = pts.length; i < len; i++) {\n                this.point(pts[i], radius, shape);\n              }\n\n              return this;\n            }\n          }, {\n            key: \"circles\",\n            value: function circles(groups) {\n              return this._multiple(groups, \"circle\");\n            }\n          }, {\n            key: \"squares\",\n            value: function squares(groups) {\n              return this._multiple(groups, \"square\");\n            }\n          }, {\n            key: \"lines\",\n            value: function lines(groups) {\n              return this._multiple(groups, \"line\");\n            }\n          }, {\n            key: \"polygons\",\n            value: function polygons(groups) {\n              return this._multiple(groups, \"polygon\");\n            }\n          }, {\n            key: \"rects\",\n            value: function rects(groups) {\n              return this._multiple(groups, \"rect\");\n            }\n          }, {\n            key: \"filled\",\n            get: function get() {\n              return this._filled;\n            },\n            set: function set(b) {\n              this._filled = b;\n            }\n          }, {\n            key: \"stroked\",\n            get: function get() {\n              return this._stroked;\n            },\n            set: function set(b) {\n              this._stroked = b;\n            }\n          }, {\n            key: \"currentFont\",\n            get: function get() {\n              return this._font;\n            }\n          }]);\n\n          return VisualForm;\n        }(Form);\n\n        exports.VisualForm = VisualForm;\n\n        var Font = function () {\n          function Font() {\n            var size = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 12;\n            var face = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : \"sans-serif\";\n            var weight = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : \"\";\n            var style = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : \"\";\n            var lineHeight = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : 1.5;\n\n            _classCallCheck(this, Font);\n\n            this.size = size;\n            this.face = face;\n            this.style = style;\n            this.weight = weight;\n            this.lineHeight = lineHeight;\n          }\n\n          _createClass(Font, [{\n            key: \"toString\",\n            value: function toString() {\n              return this.value;\n            }\n          }, {\n            key: \"value\",\n            get: function get() {\n              return this.style + \" \" + this.weight + \" \" + this.size + \"px/\" + this.lineHeight + \" \" + this.face;\n            }\n          }]);\n\n          return Font;\n        }();\n\n        exports.Font = Font;\n        /***/\n      },\n\n      /***/\n      \"./src/Image.ts\":\n      /*!**********************!*\\\n        !*** ./src/Image.ts ***!\n        \\**********************/\n\n      /*! no static exports found */\n\n      /***/\n      function srcImageTs(module, exports, __webpack_require__) {\n        \"use strict\";\n\n        var _createClass = function () {\n          function defineProperties(target, props) {\n            for (var i = 0; i < props.length; i++) {\n              var descriptor = props[i];\n              descriptor.enumerable = descriptor.enumerable || false;\n              descriptor.configurable = true;\n              if (\"value\" in descriptor) descriptor.writable = true;\n              Object.defineProperty(target, descriptor.key, descriptor);\n            }\n          }\n\n          return function (Constructor, protoProps, staticProps) {\n            if (protoProps) defineProperties(Constructor.prototype, protoProps);\n            if (staticProps) defineProperties(Constructor, staticProps);\n            return Constructor;\n          };\n        }();\n\n        function _classCallCheck(instance, Constructor) {\n          if (!(instance instanceof Constructor)) {\n            throw new TypeError(\"Cannot call a class as a function\");\n          }\n        }\n\n        Object.defineProperty(exports, \"__esModule\", {\n          value: true\n        });\n        exports.Img = void 0;\n\n        var Pt_1 = __webpack_require__(\n        /*! ./Pt */\n        \"./src/Pt.ts\");\n\n        var Img = function () {\n          function Img() {\n            var editable = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;\n            var pixelScale = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 1;\n\n            _classCallCheck(this, Img);\n\n            this._scale = 1;\n            this._loaded = false;\n            this._editable = editable;\n            this._scale = pixelScale;\n            this._img = new Image();\n          }\n\n          _createClass(Img, [{\n            key: \"load\",\n            value: function load(src) {\n              var _this = this;\n\n              return new Promise(function (resolve, reject) {\n                _this._img.src = src;\n\n                _this._img.onload = function () {\n                  if (_this._editable) {\n                    if (!_this._cv) _this._cv = document.createElement(\"canvas\");\n\n                    _this._drawToScale(_this._scale, _this._img);\n\n                    _this._data = _this._ctx.getImageData(0, 0, _this._cv.width, _this._cv.height);\n                  }\n\n                  _this._loaded = true;\n                  resolve(_this);\n                };\n\n                _this._img.onerror = function (evt) {\n                  reject(evt);\n                };\n              });\n            }\n          }, {\n            key: \"_drawToScale\",\n            value: function _drawToScale(canvasScale, img) {\n              var cms = typeof canvasScale === 'number' ? [canvasScale, canvasScale] : canvasScale;\n              var nw = img.width;\n              var nh = img.height;\n              this._cv.width = nw * cms[0];\n              this._cv.height = nh * cms[1];\n              this._ctx = this._cv.getContext('2d');\n              if (img) this._ctx.drawImage(img, 0, 0, nw, nh, 0, 0, this._cv.width, this._cv.height);\n            }\n          }, {\n            key: \"bitmap\",\n            value: function bitmap(size) {\n              var w = size ? size[0] : this._cv.width;\n              var h = size ? size[1] : this._cv.height;\n              return createImageBitmap(this._cv, 0, 0, w, h);\n            }\n          }, {\n            key: \"sync\",\n            value: function sync() {\n              var _this2 = this;\n\n              if (this._scale !== 1) {\n                this.bitmap().then(function (b) {\n                  _this2._drawToScale(1 / _this2._scale, b);\n\n                  _this2.load(_this2.toBase64());\n                });\n              } else {\n                this._img.src = this.toBase64();\n              }\n            }\n          }, {\n            key: \"pixel\",\n            value: function pixel(p) {\n              var rescale = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : true;\n              var s = typeof rescale == 'number' ? rescale : rescale ? this._scale : 1;\n              return Img.getPixel(this._data, [p[0] * s, p[1] * s]);\n            }\n          }, {\n            key: \"resize\",\n            value: function resize(sizeOrScale) {\n              var asScale = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n              var s = asScale ? sizeOrScale : [sizeOrScale[0] / this._img.naturalWidth, sizeOrScale[1] / this._img.naturalHeight];\n\n              this._drawToScale(s, this._img);\n\n              this._data = this._ctx.getImageData(0, 0, this._cv.width, this._cv.height);\n              return this;\n            }\n          }, {\n            key: \"crop\",\n            value: function crop(box) {\n              var p = box.topLeft.scale(this._scale);\n              var s = box.size.scale(this._scale);\n              return this._ctx.getImageData(p.x, p.y, s.x, s.y);\n            }\n          }, {\n            key: \"filter\",\n            value: function filter(css) {\n              this._ctx.filter = css;\n              return this;\n            }\n          }, {\n            key: \"toBase64\",\n            value: function toBase64() {\n              return this._cv.toDataURL();\n            }\n          }, {\n            key: \"current\",\n            get: function get() {\n              return this._editable ? this._cv : this._img;\n            }\n          }, {\n            key: \"image\",\n            get: function get() {\n              return this._img;\n            }\n          }, {\n            key: \"canvas\",\n            get: function get() {\n              return this._cv;\n            }\n          }, {\n            key: \"data\",\n            get: function get() {\n              return this._data;\n            }\n          }, {\n            key: \"ctx\",\n            get: function get() {\n              return this._ctx;\n            }\n          }, {\n            key: \"loaded\",\n            get: function get() {\n              return this._loaded;\n            }\n          }, {\n            key: \"pixelScale\",\n            get: function get() {\n              return this._scale;\n            }\n          }, {\n            key: \"imageSize\",\n            get: function get() {\n              return new Pt_1.Pt(this._img.width, this._img.height);\n            }\n          }, {\n            key: \"canvasSize\",\n            get: function get() {\n              return new Pt_1.Pt(this._cv.width, this._cv.height);\n            }\n          }], [{\n            key: \"load\",\n            value: function load(src) {\n              var editable = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n              var pixelScale = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 1;\n              var ready = arguments[3];\n              var img = new Img(editable, pixelScale);\n              img.load(src).then(function (res) {\n                if (ready) ready(res);\n              });\n              return img;\n            }\n          }, {\n            key: \"getPixel\",\n            value: function getPixel(imgData, p) {\n              var no = new Pt_1.Pt(0, 0, 0, 0);\n              if (p[0] >= imgData.width || p[1] >= imgData.height) return no;\n              var i = Math.floor(p[1]) * (imgData.width * 4) + Math.floor(p[0]) * 4;\n              var d = imgData.data;\n              if (i >= d.length - 4) return no;\n              return new Pt_1.Pt(d[i], d[i + 1], d[i + 2], d[i + 3]);\n            }\n          }, {\n            key: \"fromBlob\",\n            value: function fromBlob(blob) {\n              var editable = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n              var url = URL.createObjectURL(blob);\n              return new Img(editable).load(url);\n            }\n          }]);\n\n          return Img;\n        }();\n\n        exports.Img = Img;\n        /***/\n      },\n\n      /***/\n      \"./src/LinearAlgebra.ts\":\n      /*!******************************!*\\\n        !*** ./src/LinearAlgebra.ts ***!\n        \\******************************/\n\n      /*! no static exports found */\n\n      /***/\n      function srcLinearAlgebraTs(module, exports, __webpack_require__) {\n        \"use strict\";\n        /*! Source code licensed under Apache License 2.0. Copyright  2017-current William Ngan and contributors. (https://github.com/williamngan/pts) */\n\n        var _createClass = function () {\n          function defineProperties(target, props) {\n            for (var i = 0; i < props.length; i++) {\n              var descriptor = props[i];\n              descriptor.enumerable = descriptor.enumerable || false;\n              descriptor.configurable = true;\n              if (\"value\" in descriptor) descriptor.writable = true;\n              Object.defineProperty(target, descriptor.key, descriptor);\n            }\n          }\n\n          return function (Constructor, protoProps, staticProps) {\n            if (protoProps) defineProperties(Constructor.prototype, protoProps);\n            if (staticProps) defineProperties(Constructor, staticProps);\n            return Constructor;\n          };\n        }();\n\n        function _classCallCheck(instance, Constructor) {\n          if (!(instance instanceof Constructor)) {\n            throw new TypeError(\"Cannot call a class as a function\");\n          }\n        }\n\n        Object.defineProperty(exports, \"__esModule\", {\n          value: true\n        });\n        exports.Mat = exports.Vec = void 0;\n\n        var Pt_1 = __webpack_require__(\n        /*! ./Pt */\n        \"./src/Pt.ts\");\n\n        var Op_1 = __webpack_require__(\n        /*! ./Op */\n        \"./src/Op.ts\");\n\n        var Vec = function () {\n          function Vec() {\n            _classCallCheck(this, Vec);\n          }\n\n          _createClass(Vec, null, [{\n            key: \"add\",\n            value: function add(a, b) {\n              if (typeof b == \"number\") {\n                for (var i = 0, len = a.length; i < len; i++) {\n                  a[i] += b;\n                }\n              } else {\n                for (var _i = 0, _len = a.length; _i < _len; _i++) {\n                  a[_i] += b[_i] || 0;\n                }\n              }\n\n              return a;\n            }\n          }, {\n            key: \"subtract\",\n            value: function subtract(a, b) {\n              if (typeof b == \"number\") {\n                for (var i = 0, len = a.length; i < len; i++) {\n                  a[i] -= b;\n                }\n              } else {\n                for (var _i2 = 0, _len2 = a.length; _i2 < _len2; _i2++) {\n                  a[_i2] -= b[_i2] || 0;\n                }\n              }\n\n              return a;\n            }\n          }, {\n            key: \"multiply\",\n            value: function multiply(a, b) {\n              if (typeof b == \"number\") {\n                for (var i = 0, len = a.length; i < len; i++) {\n                  a[i] *= b;\n                }\n              } else {\n                if (a.length != b.length) {\n                  throw new Error(\"Cannot do element-wise multiply since the array lengths don't match: \" + a.toString() + \" multiply-with \" + b.toString());\n                }\n\n                for (var _i3 = 0, _len3 = a.length; _i3 < _len3; _i3++) {\n                  a[_i3] *= b[_i3];\n                }\n              }\n\n              return a;\n            }\n          }, {\n            key: \"divide\",\n            value: function divide(a, b) {\n              if (typeof b == \"number\") {\n                if (b === 0) throw new Error(\"Cannot divide by zero\");\n\n                for (var i = 0, len = a.length; i < len; i++) {\n                  a[i] /= b;\n                }\n              } else {\n                if (a.length != b.length) {\n                  throw new Error(\"Cannot do element-wise divide since the array lengths don't match. \" + a.toString() + \" divide-by \" + b.toString());\n                }\n\n                for (var _i4 = 0, _len4 = a.length; _i4 < _len4; _i4++) {\n                  a[_i4] /= b[_i4];\n                }\n              }\n\n              return a;\n            }\n          }, {\n            key: \"dot\",\n            value: function dot(a, b) {\n              if (a.length != b.length) throw new Error(\"Array lengths don't match\");\n              var d = 0;\n\n              for (var i = 0, len = a.length; i < len; i++) {\n                d += a[i] * b[i];\n              }\n\n              return d;\n            }\n          }, {\n            key: \"cross2D\",\n            value: function cross2D(a, b) {\n              return a[0] * b[1] - a[1] * b[0];\n            }\n          }, {\n            key: \"cross\",\n            value: function cross(a, b) {\n              return new Pt_1.Pt(a[1] * b[2] - a[2] * b[1], a[2] * b[0] - a[0] * b[2], a[0] * b[1] - a[1] * b[0]);\n            }\n          }, {\n            key: \"magnitude\",\n            value: function magnitude(a) {\n              return Math.sqrt(Vec.dot(a, a));\n            }\n          }, {\n            key: \"unit\",\n            value: function unit(a) {\n              var magnitude = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : undefined;\n              var m = magnitude === undefined ? Vec.magnitude(a) : magnitude;\n              if (m === 0) return Pt_1.Pt.make(a.length);\n              return Vec.divide(a, m);\n            }\n          }, {\n            key: \"abs\",\n            value: function abs(a) {\n              return Vec.map(a, Math.abs);\n            }\n          }, {\n            key: \"floor\",\n            value: function floor(a) {\n              return Vec.map(a, Math.floor);\n            }\n          }, {\n            key: \"ceil\",\n            value: function ceil(a) {\n              return Vec.map(a, Math.ceil);\n            }\n          }, {\n            key: \"round\",\n            value: function round(a) {\n              return Vec.map(a, Math.round);\n            }\n          }, {\n            key: \"max\",\n            value: function max(a) {\n              var m = Number.MIN_VALUE;\n              var index = 0;\n\n              for (var i = 0, len = a.length; i < len; i++) {\n                m = Math.max(m, a[i]);\n                if (m === a[i]) index = i;\n              }\n\n              return {\n                value: m,\n                index: index\n              };\n            }\n          }, {\n            key: \"min\",\n            value: function min(a) {\n              var m = Number.MAX_VALUE;\n              var index = 0;\n\n              for (var i = 0, len = a.length; i < len; i++) {\n                m = Math.min(m, a[i]);\n                if (m === a[i]) index = i;\n              }\n\n              return {\n                value: m,\n                index: index\n              };\n            }\n          }, {\n            key: \"sum\",\n            value: function sum(a) {\n              var s = 0;\n\n              for (var i = 0, len = a.length; i < len; i++) {\n                s += a[i];\n              }\n\n              return s;\n            }\n          }, {\n            key: \"map\",\n            value: function map(a, fn) {\n              for (var i = 0, len = a.length; i < len; i++) {\n                a[i] = fn(a[i], i, a);\n              }\n\n              return a;\n            }\n          }]);\n\n          return Vec;\n        }();\n\n        exports.Vec = Vec;\n\n        var Mat = function () {\n          function Mat() {\n            _classCallCheck(this, Mat);\n          }\n\n          _createClass(Mat, null, [{\n            key: \"add\",\n            value: function add(a, b) {\n              if (typeof b != \"number\") {\n                if (a[0].length != b[0].length) throw new Error(\"Cannot add matrix if rows' and columns' size don't match.\");\n                if (a.length != b.length) throw new Error(\"Cannot add matrix if rows' and columns' size don't match.\");\n              }\n\n              var g = new Pt_1.Group();\n              var isNum = typeof b == \"number\";\n\n              for (var i = 0, len = a.length; i < len; i++) {\n                g.push(a[i].$add(isNum ? b : b[i]));\n              }\n\n              return g;\n            }\n          }, {\n            key: \"multiply\",\n            value: function multiply(a, b) {\n              var transposed = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;\n              var elementwise = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : false;\n              var g = new Pt_1.Group();\n\n              if (typeof b != \"number\") {\n                if (elementwise) {\n                  if (a.length != b.length) throw new Error(\"Cannot multiply matrix element-wise because the matrices' sizes don't match.\");\n\n                  for (var ai = 0, alen = a.length; ai < alen; ai++) {\n                    g.push(a[ai].$multiply(b[ai]));\n                  }\n                } else {\n                  if (!transposed && a[0].length != b.length) throw new Error(\"Cannot multiply matrix if rows in matrix-a don't match columns in matrix-b.\");\n                  if (transposed && a[0].length != b[0].length) throw new Error(\"Cannot multiply matrix if transposed and the columns in both matrices don't match.\");\n                  if (!transposed) b = Mat.transpose(b);\n\n                  for (var _ai = 0, _alen = a.length; _ai < _alen; _ai++) {\n                    var p = Pt_1.Pt.make(b.length, 0);\n\n                    for (var bi = 0, blen = b.length; bi < blen; bi++) {\n                      p[bi] = Vec.dot(a[_ai], b[bi]);\n                    }\n\n                    g.push(p);\n                  }\n                }\n              } else {\n                for (var _ai2 = 0, _alen2 = a.length; _ai2 < _alen2; _ai2++) {\n                  g.push(a[_ai2].$multiply(b));\n                }\n              }\n\n              return g;\n            }\n          }, {\n            key: \"zipSlice\",\n            value: function zipSlice(g, index) {\n              var defaultValue = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;\n              var z = [];\n\n              for (var i = 0, len = g.length; i < len; i++) {\n                if (g[i].length - 1 < index && defaultValue === false) throw \"Index \" + index + \" is out of bounds\";\n                z.push(g[i][index] || defaultValue);\n              }\n\n              return new Pt_1.Pt(z);\n            }\n          }, {\n            key: \"zip\",\n            value: function zip(g) {\n              var defaultValue = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n              var useLongest = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;\n              var ps = new Pt_1.Group();\n              var len = useLongest ? g.reduce(function (a, b) {\n                return Math.max(a, b.length);\n              }, 0) : g[0].length;\n\n              for (var i = 0; i < len; i++) {\n                ps.push(Mat.zipSlice(g, i, defaultValue));\n              }\n\n              return ps;\n            }\n          }, {\n            key: \"transpose\",\n            value: function transpose(g) {\n              var defaultValue = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n              var useLongest = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;\n              return Mat.zip(g, defaultValue, useLongest);\n            }\n          }, {\n            key: \"transform2D\",\n            value: function transform2D(pt, m) {\n              var x = pt[0] * m[0][0] + pt[1] * m[1][0] + m[2][0];\n              var y = pt[0] * m[0][1] + pt[1] * m[1][1] + m[2][1];\n              return new Pt_1.Pt(x, y);\n            }\n          }, {\n            key: \"scale2DMatrix\",\n            value: function scale2DMatrix(x, y) {\n              return new Pt_1.Group(new Pt_1.Pt(x, 0, 0), new Pt_1.Pt(0, y, 0), new Pt_1.Pt(0, 0, 1));\n            }\n          }, {\n            key: \"rotate2DMatrix\",\n            value: function rotate2DMatrix(cosA, sinA) {\n              return new Pt_1.Group(new Pt_1.Pt(cosA, sinA, 0), new Pt_1.Pt(-sinA, cosA, 0), new Pt_1.Pt(0, 0, 1));\n            }\n          }, {\n            key: \"shear2DMatrix\",\n            value: function shear2DMatrix(tanX, tanY) {\n              return new Pt_1.Group(new Pt_1.Pt(1, tanX, 0), new Pt_1.Pt(tanY, 1, 0), new Pt_1.Pt(0, 0, 1));\n            }\n          }, {\n            key: \"translate2DMatrix\",\n            value: function translate2DMatrix(x, y) {\n              return new Pt_1.Group(new Pt_1.Pt(1, 0, 0), new Pt_1.Pt(0, 1, 0), new Pt_1.Pt(x, y, 1));\n            }\n          }, {\n            key: \"scaleAt2DMatrix\",\n            value: function scaleAt2DMatrix(sx, sy, at) {\n              var m = Mat.scale2DMatrix(sx, sy);\n              m[2][0] = -at[0] * sx + at[0];\n              m[2][1] = -at[1] * sy + at[1];\n              return m;\n            }\n          }, {\n            key: \"rotateAt2DMatrix\",\n            value: function rotateAt2DMatrix(cosA, sinA, at) {\n              var m = Mat.rotate2DMatrix(cosA, sinA);\n              m[2][0] = at[0] * (1 - cosA) + at[1] * sinA;\n              m[2][1] = at[1] * (1 - cosA) - at[0] * sinA;\n              return m;\n            }\n          }, {\n            key: \"shearAt2DMatrix\",\n            value: function shearAt2DMatrix(tanX, tanY, at) {\n              var m = Mat.shear2DMatrix(tanX, tanY);\n              m[2][0] = -at[1] * tanY;\n              m[2][1] = -at[0] * tanX;\n              return m;\n            }\n          }, {\n            key: \"reflectAt2DMatrix\",\n            value: function reflectAt2DMatrix(p1, p2) {\n              var intercept = Op_1.Line.intercept(p1, p2);\n\n              if (intercept == undefined) {\n                return [new Pt_1.Pt([-1, 0, 0]), new Pt_1.Pt([0, 1, 0]), new Pt_1.Pt([p1[0] + p2[0], 0, 1])];\n              } else {\n                var yi = intercept.yi;\n                var ang2 = Math.atan(intercept.slope) * 2;\n                var cosA = Math.cos(ang2);\n                var sinA = Math.sin(ang2);\n                return [new Pt_1.Pt([cosA, sinA, 0]), new Pt_1.Pt([sinA, -cosA, 0]), new Pt_1.Pt([-yi * sinA, yi + yi * cosA, 1])];\n              }\n            }\n          }]);\n\n          return Mat;\n        }();\n\n        exports.Mat = Mat;\n        /***/\n      },\n\n      /***/\n      \"./src/Num.ts\":\n      /*!********************!*\\\n        !*** ./src/Num.ts ***!\n        \\********************/\n\n      /*! no static exports found */\n\n      /***/\n      function srcNumTs(module, exports, __webpack_require__) {\n        \"use strict\";\n        /*! Source code licensed under Apache License 2.0. Copyright  2017-current William Ngan and contributors. (https://github.com/williamngan/pts) */\n\n        var _createClass = function () {\n          function defineProperties(target, props) {\n            for (var i = 0; i < props.length; i++) {\n              var descriptor = props[i];\n              descriptor.enumerable = descriptor.enumerable || false;\n              descriptor.configurable = true;\n              if (\"value\" in descriptor) descriptor.writable = true;\n              Object.defineProperty(target, descriptor.key, descriptor);\n            }\n          }\n\n          return function (Constructor, protoProps, staticProps) {\n            if (protoProps) defineProperties(Constructor.prototype, protoProps);\n            if (staticProps) defineProperties(Constructor, staticProps);\n            return Constructor;\n          };\n        }();\n\n        function _classCallCheck(instance, Constructor) {\n          if (!(instance instanceof Constructor)) {\n            throw new TypeError(\"Cannot call a class as a function\");\n          }\n        }\n\n        Object.defineProperty(exports, \"__esModule\", {\n          value: true\n        });\n        exports.Range = exports.Shaping = exports.Geom = exports.Num = void 0;\n\n        var Util_1 = __webpack_require__(\n        /*! ./Util */\n        \"./src/Util.ts\");\n\n        var Op_1 = __webpack_require__(\n        /*! ./Op */\n        \"./src/Op.ts\");\n\n        var Pt_1 = __webpack_require__(\n        /*! ./Pt */\n        \"./src/Pt.ts\");\n\n        var LinearAlgebra_1 = __webpack_require__(\n        /*! ./LinearAlgebra */\n        \"./src/LinearAlgebra.ts\");\n\n        var Num = function () {\n          function Num() {\n            _classCallCheck(this, Num);\n          }\n\n          _createClass(Num, null, [{\n            key: \"equals\",\n            value: function equals(a, b) {\n              var threshold = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 0.00001;\n              return Math.abs(a - b) < threshold;\n            }\n          }, {\n            key: \"lerp\",\n            value: function lerp(a, b, t) {\n              return (1 - t) * a + t * b;\n            }\n          }, {\n            key: \"clamp\",\n            value: function clamp(val, min, max) {\n              return Math.max(min, Math.min(max, val));\n            }\n          }, {\n            key: \"boundValue\",\n            value: function boundValue(val, min, max) {\n              var len = Math.abs(max - min);\n              var a = val % len;\n              if (a > max) a -= len;else if (a < min) a += len;\n              return a;\n            }\n          }, {\n            key: \"within\",\n            value: function within(p, a, b) {\n              return p >= Math.min(a, b) && p <= Math.max(a, b);\n            }\n          }, {\n            key: \"randomRange\",\n            value: function randomRange(a) {\n              var b = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n              var r = a > b ? a - b : b - a;\n              return a + Math.random() * r;\n            }\n          }, {\n            key: \"randomPt\",\n            value: function randomPt(a, b) {\n              var p = new Pt_1.Pt(a.length);\n              var range = b ? LinearAlgebra_1.Vec.subtract(b, a) : a;\n              var start = b ? a : new Pt_1.Pt(a.length).fill(0);\n\n              for (var i = 0, len = p.length; i < len; i++) {\n                p[i] = Math.random() * range[i] + start[i];\n              }\n\n              return p;\n            }\n          }, {\n            key: \"normalizeValue\",\n            value: function normalizeValue(n, a, b) {\n              var min = Math.min(a, b);\n              var max = Math.max(a, b);\n              return (n - min) / (max - min);\n            }\n          }, {\n            key: \"sum\",\n            value: function sum(pts) {\n              var _pts = Util_1.Util.iterToArray(pts);\n\n              var c = new Pt_1.Pt(_pts[0]);\n\n              for (var i = 1, len = _pts.length; i < len; i++) {\n                LinearAlgebra_1.Vec.add(c, _pts[i]);\n              }\n\n              return c;\n            }\n          }, {\n            key: \"average\",\n            value: function average(pts) {\n              var _pts = Util_1.Util.iterToArray(pts);\n\n              return Num.sum(_pts).divide(_pts.length);\n            }\n          }, {\n            key: \"cycle\",\n            value: function cycle(t) {\n              var method = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : Shaping.sineInOut;\n              return method(t > 0.5 ? 2 - t * 2 : t * 2);\n            }\n          }, {\n            key: \"mapToRange\",\n            value: function mapToRange(n, currA, currB, targetA, targetB) {\n              if (currA == currB) throw new Error(\"[currMin, currMax] must define a range that is not zero\");\n              var min = Math.min(targetA, targetB);\n              var max = Math.max(targetA, targetB);\n              return Num.normalizeValue(n, currA, currB) * (max - min) + min;\n            }\n          }]);\n\n          return Num;\n        }();\n\n        exports.Num = Num;\n\n        var Geom = function () {\n          function Geom() {\n            _classCallCheck(this, Geom);\n          }\n\n          _createClass(Geom, null, [{\n            key: \"boundAngle\",\n            value: function boundAngle(angle) {\n              return Num.boundValue(angle, 0, 360);\n            }\n          }, {\n            key: \"boundRadian\",\n            value: function boundRadian(radian) {\n              return Num.boundValue(radian, 0, Util_1.Const.two_pi);\n            }\n          }, {\n            key: \"toRadian\",\n            value: function toRadian(angle) {\n              return angle * Util_1.Const.deg_to_rad;\n            }\n          }, {\n            key: \"toDegree\",\n            value: function toDegree(radian) {\n              return radian * Util_1.Const.rad_to_deg;\n            }\n          }, {\n            key: \"boundingBox\",\n            value: function boundingBox(pts) {\n              var minPt = void 0,\n                  maxPt = void 0;\n              var _iteratorNormalCompletion = true;\n              var _didIteratorError = false;\n              var _iteratorError = undefined;\n\n              try {\n                for (var _iterator = pts[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n                  var p = _step.value;\n\n                  if (minPt == undefined) {\n                    minPt = p.clone();\n                    maxPt = p.clone();\n                  } else {\n                    minPt = minPt.$min(p);\n                    maxPt = maxPt.$max(p);\n                  }\n                }\n              } catch (err) {\n                _didIteratorError = true;\n                _iteratorError = err;\n              } finally {\n                try {\n                  if (!_iteratorNormalCompletion && _iterator.return) {\n                    _iterator.return();\n                  }\n                } finally {\n                  if (_didIteratorError) {\n                    throw _iteratorError;\n                  }\n                }\n              }\n\n              return new Pt_1.Group(minPt, maxPt);\n            }\n          }, {\n            key: \"centroid\",\n            value: function centroid(pts) {\n              return Num.average(pts);\n            }\n          }, {\n            key: \"anchor\",\n            value: function anchor(pts) {\n              var ptOrIndex = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n              var direction = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : \"to\";\n              var method = direction == \"to\" ? \"subtract\" : \"add\";\n              var i = 0;\n              var _iteratorNormalCompletion2 = true;\n              var _didIteratorError2 = false;\n              var _iteratorError2 = undefined;\n\n              try {\n                for (var _iterator2 = pts[Symbol.iterator](), _step2; !(_iteratorNormalCompletion2 = (_step2 = _iterator2.next()).done); _iteratorNormalCompletion2 = true) {\n                  var p = _step2.value;\n\n                  if (typeof ptOrIndex == \"number\") {\n                    if (ptOrIndex !== i) p[method](pts[ptOrIndex]);\n                  } else {\n                    p[method](ptOrIndex);\n                  }\n\n                  i++;\n                }\n              } catch (err) {\n                _didIteratorError2 = true;\n                _iteratorError2 = err;\n              } finally {\n                try {\n                  if (!_iteratorNormalCompletion2 && _iterator2.return) {\n                    _iterator2.return();\n                  }\n                } finally {\n                  if (_didIteratorError2) {\n                    throw _iteratorError2;\n                  }\n                }\n              }\n            }\n          }, {\n            key: \"interpolate\",\n            value: function interpolate(a, b) {\n              var t = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 0.5;\n              var len = Math.min(a.length, b.length);\n              var d = Pt_1.Pt.make(len);\n\n              for (var i = 0; i < len; i++) {\n                d[i] = a[i] * (1 - t) + b[i] * t;\n              }\n\n              return d;\n            }\n          }, {\n            key: \"perpendicular\",\n            value: function perpendicular(pt) {\n              var axis = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : Util_1.Const.xy;\n              var y = axis[1];\n              var x = axis[0];\n              var p = new Pt_1.Pt(pt);\n              var pa = new Pt_1.Pt(p);\n              pa[x] = -p[y];\n              pa[y] = p[x];\n              var pb = new Pt_1.Pt(p);\n              pb[x] = p[y];\n              pb[y] = -p[x];\n              return new Pt_1.Group(pa, pb);\n            }\n          }, {\n            key: \"isPerpendicular\",\n            value: function isPerpendicular(p1, p2) {\n              return new Pt_1.Pt(p1).dot(p2) === 0;\n            }\n          }, {\n            key: \"withinBound\",\n            value: function withinBound(pt, boundPt1, boundPt2) {\n              for (var i = 0, len = Math.min(pt.length, boundPt1.length, boundPt2.length); i < len; i++) {\n                if (!Num.within(pt[i], boundPt1[i], boundPt2[i])) return false;\n              }\n\n              return true;\n            }\n          }, {\n            key: \"sortEdges\",\n            value: function sortEdges(pts) {\n              var _pts = Util_1.Util.iterToArray(pts);\n\n              var bounds = Geom.boundingBox(_pts);\n              var center = bounds[1].add(bounds[0]).divide(2);\n\n              var fn = function fn(a, b) {\n                if (a.length < 2 || b.length < 2) throw new Error(\"Pt dimension cannot be less than 2\");\n                var da = a.$subtract(center);\n                var db = b.$subtract(center);\n                if (da[0] >= 0 && db[0] < 0) return 1;\n                if (da[0] < 0 && db[0] >= 0) return -1;\n\n                if (da[0] == 0 && db[0] == 0) {\n                  if (da[1] >= 0 || db[1] >= 0) return da[1] > db[1] ? 1 : -1;\n                  return db[1] > da[1] ? 1 : -1;\n                }\n\n                var det = da.$cross2D(db);\n                if (det < 0) return 1;\n                if (det > 0) return -1;\n                return da[0] * da[0] + da[1] * da[1] > db[0] * db[0] + db[1] * db[1] ? 1 : -1;\n              };\n\n              return _pts.sort(fn);\n            }\n          }, {\n            key: \"scale\",\n            value: function scale(ps, _scale, anchor) {\n              var pts = Util_1.Util.iterToArray(ps[0] !== undefined && typeof ps[0] == 'number' ? [ps] : ps);\n              var scs = typeof _scale == \"number\" ? Pt_1.Pt.make(pts[0].length, _scale) : _scale;\n              if (!anchor) anchor = Pt_1.Pt.make(pts[0].length, 0);\n\n              for (var i = 0, len = pts.length; i < len; i++) {\n                var p = pts[i];\n\n                for (var k = 0, lenP = p.length; k < lenP; k++) {\n                  p[k] = anchor && anchor[k] ? anchor[k] + (p[k] - anchor[k]) * scs[k] : p[k] * scs[k];\n                }\n              }\n\n              return Geom;\n            }\n          }, {\n            key: \"rotate2D\",\n            value: function rotate2D(ps, angle, anchor, axis) {\n              var pts = Util_1.Util.iterToArray(ps[0] !== undefined && typeof ps[0] == 'number' ? [ps] : ps);\n              var fn = anchor ? LinearAlgebra_1.Mat.rotateAt2DMatrix : LinearAlgebra_1.Mat.rotate2DMatrix;\n              if (!anchor) anchor = Pt_1.Pt.make(pts[0].length, 0);\n              var cos = Math.cos(angle);\n              var sin = Math.sin(angle);\n\n              for (var i = 0, len = pts.length; i < len; i++) {\n                var p = axis ? pts[i].$take(axis) : pts[i];\n                p.to(LinearAlgebra_1.Mat.transform2D(p, fn(cos, sin, anchor)));\n\n                if (axis) {\n                  for (var k = 0; k < axis.length; k++) {\n                    pts[i][axis[k]] = p[k];\n                  }\n                }\n              }\n\n              return Geom;\n            }\n          }, {\n            key: \"shear2D\",\n            value: function shear2D(ps, scale, anchor, axis) {\n              var pts = Util_1.Util.iterToArray(ps[0] !== undefined && typeof ps[0] == 'number' ? [ps] : ps);\n              var s = typeof scale == \"number\" ? [scale, scale] : scale;\n              if (!anchor) anchor = Pt_1.Pt.make(pts[0].length, 0);\n              var fn = anchor ? LinearAlgebra_1.Mat.shearAt2DMatrix : LinearAlgebra_1.Mat.shear2DMatrix;\n              var tanx = Math.tan(s[0]);\n              var tany = Math.tan(s[1]);\n\n              for (var i = 0, len = pts.length; i < len; i++) {\n                var p = axis ? pts[i].$take(axis) : pts[i];\n                p.to(LinearAlgebra_1.Mat.transform2D(p, fn(tanx, tany, anchor)));\n\n                if (axis) {\n                  for (var k = 0; k < axis.length; k++) {\n                    pts[i][axis[k]] = p[k];\n                  }\n                }\n              }\n\n              return Geom;\n            }\n          }, {\n            key: \"reflect2D\",\n            value: function reflect2D(ps, line, axis) {\n              var pts = Util_1.Util.iterToArray(ps[0] !== undefined && typeof ps[0] == 'number' ? [ps] : ps);\n\n              var _line = Util_1.Util.iterToArray(line);\n\n              var mat = LinearAlgebra_1.Mat.reflectAt2DMatrix(_line[0], _line[1]);\n\n              for (var i = 0, len = pts.length; i < len; i++) {\n                var p = axis ? pts[i].$take(axis) : pts[i];\n                p.to(LinearAlgebra_1.Mat.transform2D(p, mat));\n\n                if (axis) {\n                  for (var k = 0; k < axis.length; k++) {\n                    pts[i][axis[k]] = p[k];\n                  }\n                }\n              }\n\n              return Geom;\n            }\n          }, {\n            key: \"cosTable\",\n            value: function cosTable() {\n              var cos = new Float64Array(360);\n\n              for (var i = 0; i < 360; i++) {\n                cos[i] = Math.cos(i * Math.PI / 180);\n              }\n\n              var find = function find(rad) {\n                return cos[Math.floor(Geom.boundAngle(Geom.toDegree(rad)))];\n              };\n\n              return {\n                table: cos,\n                cos: find\n              };\n            }\n          }, {\n            key: \"sinTable\",\n            value: function sinTable() {\n              var sin = new Float64Array(360);\n\n              for (var i = 0; i < 360; i++) {\n                sin[i] = Math.sin(i * Math.PI / 180);\n              }\n\n              var find = function find(rad) {\n                return sin[Math.floor(Geom.boundAngle(Geom.toDegree(rad)))];\n              };\n\n              return {\n                table: sin,\n                sin: find\n              };\n            }\n          }]);\n\n          return Geom;\n        }();\n\n        exports.Geom = Geom;\n\n        var Shaping = function () {\n          function Shaping() {\n            _classCallCheck(this, Shaping);\n          }\n\n          _createClass(Shaping, null, [{\n            key: \"linear\",\n            value: function linear(t) {\n              var c = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 1;\n              return c * t;\n            }\n          }, {\n            key: \"quadraticIn\",\n            value: function quadraticIn(t) {\n              var c = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 1;\n              return c * t * t;\n            }\n          }, {\n            key: \"quadraticOut\",\n            value: function quadraticOut(t) {\n              var c = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 1;\n              return -c * t * (t - 2);\n            }\n          }, {\n            key: \"quadraticInOut\",\n            value: function quadraticInOut(t) {\n              var c = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 1;\n              var dt = t * 2;\n              return t < 0.5 ? c / 2 * t * t * 4 : -c / 2 * ((dt - 1) * (dt - 3) - 1);\n            }\n          }, {\n            key: \"cubicIn\",\n            value: function cubicIn(t) {\n              var c = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 1;\n              return c * t * t * t;\n            }\n          }, {\n            key: \"cubicOut\",\n            value: function cubicOut(t) {\n              var c = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 1;\n              var dt = t - 1;\n              return c * (dt * dt * dt + 1);\n            }\n          }, {\n            key: \"cubicInOut\",\n            value: function cubicInOut(t) {\n              var c = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 1;\n              var dt = t * 2;\n              return t < 0.5 ? c / 2 * dt * dt * dt : c / 2 * ((dt - 2) * (dt - 2) * (dt - 2) + 2);\n            }\n          }, {\n            key: \"exponentialIn\",\n            value: function exponentialIn(t) {\n              var c = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 1;\n              var p = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 0.25;\n              return c * Math.pow(t, 1 / p);\n            }\n          }, {\n            key: \"exponentialOut\",\n            value: function exponentialOut(t) {\n              var c = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 1;\n              var p = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 0.25;\n              return c * Math.pow(t, p);\n            }\n          }, {\n            key: \"sineIn\",\n            value: function sineIn(t) {\n              var c = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 1;\n              return -c * Math.cos(t * Util_1.Const.half_pi) + c;\n            }\n          }, {\n            key: \"sineOut\",\n            value: function sineOut(t) {\n              var c = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 1;\n              return c * Math.sin(t * Util_1.Const.half_pi);\n            }\n          }, {\n            key: \"sineInOut\",\n            value: function sineInOut(t) {\n              var c = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 1;\n              return -c / 2 * (Math.cos(Math.PI * t) - 1);\n            }\n          }, {\n            key: \"cosineApprox\",\n            value: function cosineApprox(t) {\n              var c = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 1;\n              var t2 = t * t;\n              var t4 = t2 * t2;\n              var t6 = t4 * t2;\n              return c * (4 * t6 / 9 - 17 * t4 / 9 + 22 * t2 / 9);\n            }\n          }, {\n            key: \"circularIn\",\n            value: function circularIn(t) {\n              var c = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 1;\n              return -c * (Math.sqrt(1 - t * t) - 1);\n            }\n          }, {\n            key: \"circularOut\",\n            value: function circularOut(t) {\n              var c = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 1;\n              var dt = t - 1;\n              return c * Math.sqrt(1 - dt * dt);\n            }\n          }, {\n            key: \"circularInOut\",\n            value: function circularInOut(t) {\n              var c = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 1;\n              var dt = t * 2;\n              return t < 0.5 ? -c / 2 * (Math.sqrt(1 - dt * dt) - 1) : c / 2 * (Math.sqrt(1 - (dt - 2) * (dt - 2)) + 1);\n            }\n          }, {\n            key: \"elasticIn\",\n            value: function elasticIn(t) {\n              var c = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 1;\n              var p = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 0.7;\n              var dt = t - 1;\n              var s = p / Util_1.Const.two_pi * 1.5707963267948966;\n              return c * (-Math.pow(2, 10 * dt) * Math.sin((dt - s) * Util_1.Const.two_pi / p));\n            }\n          }, {\n            key: \"elasticOut\",\n            value: function elasticOut(t) {\n              var c = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 1;\n              var p = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 0.7;\n              var s = p / Util_1.Const.two_pi * 1.5707963267948966;\n              return c * (Math.pow(2, -10 * t) * Math.sin((t - s) * Util_1.Const.two_pi / p)) + c;\n            }\n          }, {\n            key: \"elasticInOut\",\n            value: function elasticInOut(t) {\n              var c = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 1;\n              var p = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 0.6;\n              var dt = t * 2;\n              var s = p / Util_1.Const.two_pi * 1.5707963267948966;\n\n              if (t < 0.5) {\n                dt -= 1;\n                return c * (-0.5 * (Math.pow(2, 10 * dt) * Math.sin((dt - s) * Util_1.Const.two_pi / p)));\n              } else {\n                dt -= 1;\n                return c * (0.5 * (Math.pow(2, -10 * dt) * Math.sin((dt - s) * Util_1.Const.two_pi / p))) + c;\n              }\n            }\n          }, {\n            key: \"bounceIn\",\n            value: function bounceIn(t) {\n              var c = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 1;\n              return c - Shaping.bounceOut(1 - t, c);\n            }\n          }, {\n            key: \"bounceOut\",\n            value: function bounceOut(t) {\n              var c = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 1;\n\n              if (t < 1 / 2.75) {\n                return c * (7.5625 * t * t);\n              } else if (t < 2 / 2.75) {\n                t -= 1.5 / 2.75;\n                return c * (7.5625 * t * t + 0.75);\n              } else if (t < 2.5 / 2.75) {\n                t -= 2.25 / 2.75;\n                return c * (7.5625 * t * t + 0.9375);\n              } else {\n                t -= 2.625 / 2.75;\n                return c * (7.5625 * t * t + 0.984375);\n              }\n            }\n          }, {\n            key: \"bounceInOut\",\n            value: function bounceInOut(t) {\n              var c = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 1;\n              return t < 0.5 ? Shaping.bounceIn(t * 2, c) / 2 : Shaping.bounceOut(t * 2 - 1, c) / 2 + c / 2;\n            }\n          }, {\n            key: \"sigmoid\",\n            value: function sigmoid(t) {\n              var c = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 1;\n              var p = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 10;\n              var d = p * (t - 0.5);\n              return c / (1 + Math.exp(-d));\n            }\n          }, {\n            key: \"logSigmoid\",\n            value: function logSigmoid(t) {\n              var c = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 1;\n              var p = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 0.7;\n              p = Math.max(Util_1.Const.epsilon, Math.min(1 - Util_1.Const.epsilon, p));\n              p = 1 / (1 - p);\n              var A = 1 / (1 + Math.exp((t - 0.5) * p * -2));\n              var B = 1 / (1 + Math.exp(p));\n              var C = 1 / (1 + Math.exp(-p));\n              return c * (A - B) / (C - B);\n            }\n          }, {\n            key: \"seat\",\n            value: function seat(t) {\n              var c = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 1;\n              var p = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 0.5;\n\n              if (t < 0.5) {\n                return c * Math.pow(2 * t, 1 - p) / 2;\n              } else {\n                return c * (1 - Math.pow(2 * (1 - t), 1 - p) / 2);\n              }\n            }\n          }, {\n            key: \"quadraticBezier\",\n            value: function quadraticBezier(t) {\n              var c = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 1;\n              var p = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : [0.05, 0.95];\n              var a = typeof p != \"number\" ? p[0] : p;\n              var b = typeof p != \"number\" ? p[1] : 0.5;\n              var om2a = 1 - 2 * a;\n\n              if (om2a === 0) {\n                om2a = Util_1.Const.epsilon;\n              }\n\n              var d = (Math.sqrt(a * a + om2a * t) - a) / om2a;\n              return c * ((1 - 2 * b) * (d * d) + 2 * b * d);\n            }\n          }, {\n            key: \"cubicBezier\",\n            value: function cubicBezier(t) {\n              var c = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 1;\n              var p1 = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : [0.1, 0.7];\n              var p2 = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : [0.9, 0.2];\n              var curve = new Pt_1.Group(new Pt_1.Pt(0, 0), new Pt_1.Pt(p1), new Pt_1.Pt(p2), new Pt_1.Pt(1, 1));\n              return c * Op_1.Curve.bezierStep(new Pt_1.Pt(t * t * t, t * t, t, 1), Op_1.Curve.controlPoints(curve)).y;\n            }\n          }, {\n            key: \"quadraticTarget\",\n            value: function quadraticTarget(t) {\n              var c = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 1;\n              var p1 = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : [0.2, 0.35];\n              var a = Math.min(1 - Util_1.Const.epsilon, Math.max(Util_1.Const.epsilon, p1[0]));\n              var b = Math.min(1, Math.max(0, p1[1]));\n              var A = (1 - b) / (1 - a) - b / a;\n              var B = (A * (a * a) - b) / a;\n              var y = A * (t * t) - B * t;\n              return c * Math.min(1, Math.max(0, y));\n            }\n          }, {\n            key: \"cliff\",\n            value: function cliff(t) {\n              var c = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 1;\n              var p = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 0.5;\n              return t > p ? c : 0;\n            }\n          }, {\n            key: \"step\",\n            value: function step(fn, steps, t, c) {\n              var s = 1 / steps;\n              var tt = Math.floor(t / s) * s;\n\n              for (var _len = arguments.length, args = Array(_len > 4 ? _len - 4 : 0), _key = 4; _key < _len; _key++) {\n                args[_key - 4] = arguments[_key];\n              }\n\n              return fn.apply(undefined, [tt, c].concat(args));\n            }\n          }]);\n\n          return Shaping;\n        }();\n\n        exports.Shaping = Shaping;\n\n        var Range = function () {\n          function Range(g) {\n            _classCallCheck(this, Range);\n\n            this._dims = 0;\n            this._source = Pt_1.Group.fromPtArray(g);\n            this.calc();\n          }\n\n          _createClass(Range, [{\n            key: \"calc\",\n            value: function calc() {\n              if (!this._source) return;\n              var dims = this._source[0].length;\n              this._dims = dims;\n              var max = new Pt_1.Pt(dims);\n              var min = new Pt_1.Pt(dims);\n              var mag = new Pt_1.Pt(dims);\n\n              for (var i = 0; i < dims; i++) {\n                max[i] = Util_1.Const.min;\n                min[i] = Util_1.Const.max;\n                mag[i] = 0;\n\n                var s = this._source.zipSlice(i);\n\n                for (var k = 0, len = s.length; k < len; k++) {\n                  max[i] = Math.max(max[i], s[k]);\n                  min[i] = Math.min(min[i], s[k]);\n                  mag[i] = max[i] - min[i];\n                }\n              }\n\n              this._max = max;\n              this._min = min;\n              this._mag = mag;\n              return this;\n            }\n          }, {\n            key: \"mapTo\",\n            value: function mapTo(min, max, exclude) {\n              var target = new Pt_1.Group();\n\n              for (var i = 0, len = this._source.length; i < len; i++) {\n                var g = this._source[i];\n                var n = new Pt_1.Pt(this._dims);\n\n                for (var k = 0; k < this._dims; k++) {\n                  n[k] = exclude && exclude[k] ? g[k] : Num.mapToRange(g[k], this._min[k], this._max[k], min, max);\n                }\n\n                target.push(n);\n              }\n\n              return target;\n            }\n          }, {\n            key: \"append\",\n            value: function append(pts) {\n              var update = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : true;\n\n              var _pts = Util_1.Util.iterToArray(pts);\n\n              if (_pts[0].length !== this._dims) throw new Error(\"Dimensions don't match. \" + this._dims + \" dimensions in Range and \" + _pts[0].length + \" provided in parameter. \");\n              this._source = this._source.concat(_pts);\n              if (update) this.calc();\n              return this;\n            }\n          }, {\n            key: \"ticks\",\n            value: function ticks(count) {\n              var g = new Pt_1.Group();\n\n              for (var i = 0; i <= count; i++) {\n                var p = new Pt_1.Pt(this._dims);\n\n                for (var k = 0, len = this._max.length; k < len; k++) {\n                  p[k] = Num.lerp(this._min[k], this._max[k], i / count);\n                }\n\n                g.push(p);\n              }\n\n              return g;\n            }\n          }, {\n            key: \"max\",\n            get: function get() {\n              return this._max.clone();\n            }\n          }, {\n            key: \"min\",\n            get: function get() {\n              return this._min.clone();\n            }\n          }, {\n            key: \"magnitude\",\n            get: function get() {\n              return this._mag.clone();\n            }\n          }]);\n\n          return Range;\n        }();\n\n        exports.Range = Range;\n        /***/\n      },\n\n      /***/\n      \"./src/Op.ts\":\n      /*!*******************!*\\\n        !*** ./src/Op.ts ***!\n        \\*******************/\n\n      /*! no static exports found */\n\n      /***/\n      function srcOpTs(module, exports, __webpack_require__) {\n        \"use strict\";\n        /*! Source code licensed under Apache License 2.0. Copyright  2017-current William Ngan and contributors. (https://github.com/williamngan/pts) */\n\n        var _slicedToArray = function () {\n          function sliceIterator(arr, i) {\n            var _arr = [];\n            var _n = true;\n            var _d = false;\n            var _e = undefined;\n\n            try {\n              for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n                _arr.push(_s.value);\n\n                if (i && _arr.length === i) break;\n              }\n            } catch (err) {\n              _d = true;\n              _e = err;\n            } finally {\n              try {\n                if (!_n && _i[\"return\"]) _i[\"return\"]();\n              } finally {\n                if (_d) throw _e;\n              }\n            }\n\n            return _arr;\n          }\n\n          return function (arr, i) {\n            if (Array.isArray(arr)) {\n              return arr;\n            } else if (Symbol.iterator in Object(arr)) {\n              return sliceIterator(arr, i);\n            } else {\n              throw new TypeError(\"Invalid attempt to destructure non-iterable instance\");\n            }\n          };\n        }();\n\n        var _createClass = function () {\n          function defineProperties(target, props) {\n            for (var i = 0; i < props.length; i++) {\n              var descriptor = props[i];\n              descriptor.enumerable = descriptor.enumerable || false;\n              descriptor.configurable = true;\n              if (\"value\" in descriptor) descriptor.writable = true;\n              Object.defineProperty(target, descriptor.key, descriptor);\n            }\n          }\n\n          return function (Constructor, protoProps, staticProps) {\n            if (protoProps) defineProperties(Constructor.prototype, protoProps);\n            if (staticProps) defineProperties(Constructor, staticProps);\n            return Constructor;\n          };\n        }();\n\n        function _classCallCheck(instance, Constructor) {\n          if (!(instance instanceof Constructor)) {\n            throw new TypeError(\"Cannot call a class as a function\");\n          }\n        }\n\n        Object.defineProperty(exports, \"__esModule\", {\n          value: true\n        });\n        exports.Curve = exports.Polygon = exports.Triangle = exports.Circle = exports.Rectangle = exports.Line = void 0;\n\n        var Util_1 = __webpack_require__(\n        /*! ./Util */\n        \"./src/Util.ts\");\n\n        var Num_1 = __webpack_require__(\n        /*! ./Num */\n        \"./src/Num.ts\");\n\n        var Pt_1 = __webpack_require__(\n        /*! ./Pt */\n        \"./src/Pt.ts\");\n\n        var LinearAlgebra_1 = __webpack_require__(\n        /*! ./LinearAlgebra */\n        \"./src/LinearAlgebra.ts\");\n\n        var _errorLength = function _errorLength(obj) {\n          var param = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : \"expected\";\n          return Util_1.Util.warn(\"Group's length is less than \" + param, obj);\n        };\n\n        var _errorOutofBound = function _errorOutofBound(obj) {\n          var param = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : \"\";\n          return Util_1.Util.warn(\"Index \" + param + \" is out of bound in Group\", obj);\n        };\n\n        var Line = function () {\n          function Line() {\n            _classCallCheck(this, Line);\n          }\n\n          _createClass(Line, null, [{\n            key: \"fromAngle\",\n            value: function fromAngle(anchor, angle, magnitude) {\n              var g = new Pt_1.Group(new Pt_1.Pt(anchor), new Pt_1.Pt(anchor));\n              g[1].toAngle(angle, magnitude, true);\n              return g;\n            }\n          }, {\n            key: \"slope\",\n            value: function slope(p1, p2) {\n              return p2[0] - p1[0] === 0 ? undefined : (p2[1] - p1[1]) / (p2[0] - p1[0]);\n            }\n          }, {\n            key: \"intercept\",\n            value: function intercept(p1, p2) {\n              if (p2[0] - p1[0] === 0) {\n                return undefined;\n              } else {\n                var m = (p2[1] - p1[1]) / (p2[0] - p1[0]);\n                var c = p1[1] - m * p1[0];\n                return {\n                  slope: m,\n                  yi: c,\n                  xi: m === 0 ? undefined : -c / m\n                };\n              }\n            }\n          }, {\n            key: \"sideOfPt2D\",\n            value: function sideOfPt2D(line, pt) {\n              var _line = Util_1.Util.iterToArray(line);\n\n              return (_line[1][0] - _line[0][0]) * (pt[1] - _line[0][1]) - (pt[0] - _line[0][0]) * (_line[1][1] - _line[0][1]);\n            }\n          }, {\n            key: \"collinear\",\n            value: function collinear(p1, p2, p3) {\n              var threshold = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : 0.01;\n              var a = new Pt_1.Pt(0, 0, 0).to(p1).$subtract(p2);\n              var b = new Pt_1.Pt(0, 0, 0).to(p1).$subtract(p3);\n              return a.$cross(b).divide(1000).equals(new Pt_1.Pt(0, 0, 0), threshold);\n            }\n          }, {\n            key: \"magnitude\",\n            value: function magnitude(line) {\n              var _line = Util_1.Util.iterToArray(line);\n\n              return _line.length >= 2 ? _line[1].$subtract(_line[0]).magnitude() : 0;\n            }\n          }, {\n            key: \"magnitudeSq\",\n            value: function magnitudeSq(line) {\n              var _line = Util_1.Util.iterToArray(line);\n\n              return _line.length >= 2 ? _line[1].$subtract(_line[0]).magnitudeSq() : 0;\n            }\n          }, {\n            key: \"perpendicularFromPt\",\n            value: function perpendicularFromPt(line, pt) {\n              var asProjection = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;\n\n              var _line = Util_1.Util.iterToArray(line);\n\n              if (_line[0].equals(_line[1])) return undefined;\n\n              var a = _line[0].$subtract(_line[1]);\n\n              var b = _line[1].$subtract(pt);\n\n              var proj = b.$subtract(a.$project(b));\n              return asProjection ? proj : proj.$add(pt);\n            }\n          }, {\n            key: \"distanceFromPt\",\n            value: function distanceFromPt(line, pt) {\n              var _line = Util_1.Util.iterToArray(line);\n\n              var projectionVector = Line.perpendicularFromPt(_line, pt, true);\n\n              if (projectionVector) {\n                return projectionVector.magnitude();\n              } else {\n                return _line[0].$subtract(pt).magnitude();\n              }\n            }\n          }, {\n            key: \"intersectRay2D\",\n            value: function intersectRay2D(la, lb) {\n              var _la = Util_1.Util.iterToArray(la);\n\n              var _lb = Util_1.Util.iterToArray(lb);\n\n              var a = Line.intercept(_la[0], _la[1]);\n              var b = Line.intercept(_lb[0], _lb[1]);\n              var pa = _la[0];\n              var pb = _lb[0];\n\n              if (a == undefined) {\n                if (b == undefined) return undefined;\n                var y1 = -b.slope * (pb[0] - pa[0]) + pb[1];\n                return new Pt_1.Pt(pa[0], y1);\n              } else {\n                if (b == undefined) {\n                  var _y = -a.slope * (pa[0] - pb[0]) + pa[1];\n\n                  return new Pt_1.Pt(pb[0], _y);\n                } else if (b.slope != a.slope) {\n                  var px = (a.slope * pa[0] - b.slope * pb[0] + pb[1] - pa[1]) / (a.slope - b.slope);\n                  var py = a.slope * (px - pa[0]) + pa[1];\n                  return new Pt_1.Pt(px, py);\n                } else {\n                  if (a.yi == b.yi) {\n                    return new Pt_1.Pt(pa[0], pa[1]);\n                  } else {\n                    return undefined;\n                  }\n                }\n              }\n            }\n          }, {\n            key: \"intersectLine2D\",\n            value: function intersectLine2D(la, lb) {\n              var _la = Util_1.Util.iterToArray(la);\n\n              var _lb = Util_1.Util.iterToArray(lb);\n\n              var pt = Line.intersectRay2D(_la, _lb);\n              return pt && Num_1.Geom.withinBound(pt, _la[0], _la[1]) && Num_1.Geom.withinBound(pt, _lb[0], _lb[1]) ? pt : undefined;\n            }\n          }, {\n            key: \"intersectLineWithRay2D\",\n            value: function intersectLineWithRay2D(line, ray) {\n              var _line = Util_1.Util.iterToArray(line);\n\n              var _ray = Util_1.Util.iterToArray(ray);\n\n              var pt = Line.intersectRay2D(_line, _ray);\n              return pt && Num_1.Geom.withinBound(pt, _line[0], _line[1]) ? pt : undefined;\n            }\n          }, {\n            key: \"intersectPolygon2D\",\n            value: function intersectPolygon2D(lineOrRay, poly) {\n              var sourceIsRay = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;\n\n              var _lineOrRay = Util_1.Util.iterToArray(lineOrRay);\n\n              var _poly = Util_1.Util.iterToArray(poly);\n\n              var fn = sourceIsRay ? Line.intersectLineWithRay2D : Line.intersectLine2D;\n              var pts = new Pt_1.Group();\n\n              for (var i = 0, len = _poly.length; i < len; i++) {\n                var next = i === len - 1 ? 0 : i + 1;\n                var d = fn([_poly[i], _poly[next]], _lineOrRay);\n                if (d) pts.push(d);\n              }\n\n              return pts.length > 0 ? pts : undefined;\n            }\n          }, {\n            key: \"intersectLines2D\",\n            value: function intersectLines2D(lines1, lines2) {\n              var isRay = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;\n              var group = new Pt_1.Group();\n              var fn = isRay ? Line.intersectLineWithRay2D : Line.intersectLine2D;\n              var _iteratorNormalCompletion = true;\n              var _didIteratorError = false;\n              var _iteratorError = undefined;\n\n              try {\n                for (var _iterator = lines1[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n                  var l1 = _step.value;\n                  var _iteratorNormalCompletion2 = true;\n                  var _didIteratorError2 = false;\n                  var _iteratorError2 = undefined;\n\n                  try {\n                    for (var _iterator2 = lines2[Symbol.iterator](), _step2; !(_iteratorNormalCompletion2 = (_step2 = _iterator2.next()).done); _iteratorNormalCompletion2 = true) {\n                      var l2 = _step2.value;\n\n                      var _ip = fn(l1, l2);\n\n                      if (_ip) group.push(_ip);\n                    }\n                  } catch (err) {\n                    _didIteratorError2 = true;\n                    _iteratorError2 = err;\n                  } finally {\n                    try {\n                      if (!_iteratorNormalCompletion2 && _iterator2.return) {\n                        _iterator2.return();\n                      }\n                    } finally {\n                      if (_didIteratorError2) {\n                        throw _iteratorError2;\n                      }\n                    }\n                  }\n                }\n              } catch (err) {\n                _didIteratorError = true;\n                _iteratorError = err;\n              } finally {\n                try {\n                  if (!_iteratorNormalCompletion && _iterator.return) {\n                    _iterator.return();\n                  }\n                } finally {\n                  if (_didIteratorError) {\n                    throw _iteratorError;\n                  }\n                }\n              }\n\n              return group;\n            }\n          }, {\n            key: \"intersectGridWithRay2D\",\n            value: function intersectGridWithRay2D(ray, gridPt) {\n              var _ray = Util_1.Util.iterToArray(ray);\n\n              var t = Line.intercept(new Pt_1.Pt(_ray[0]).subtract(gridPt), new Pt_1.Pt(_ray[1]).subtract(gridPt));\n              var g = new Pt_1.Group();\n              if (t && t.xi) g.push(new Pt_1.Pt(gridPt[0] + t.xi, gridPt[1]));\n              if (t && t.yi) g.push(new Pt_1.Pt(gridPt[0], gridPt[1] + t.yi));\n              return g;\n            }\n          }, {\n            key: \"intersectGridWithLine2D\",\n            value: function intersectGridWithLine2D(line, gridPt) {\n              var _line = Util_1.Util.iterToArray(line);\n\n              var g = Line.intersectGridWithRay2D(_line, gridPt);\n              var gg = new Pt_1.Group();\n\n              for (var i = 0, len = g.length; i < len; i++) {\n                if (Num_1.Geom.withinBound(g[i], _line[0], _line[1])) gg.push(g[i]);\n              }\n\n              return gg;\n            }\n          }, {\n            key: \"intersectRect2D\",\n            value: function intersectRect2D(line, rect) {\n              var _line = Util_1.Util.iterToArray(line);\n\n              var _rect = Util_1.Util.iterToArray(rect);\n\n              var box = Num_1.Geom.boundingBox(Pt_1.Group.fromPtArray(_line));\n              if (!Rectangle.hasIntersectRect2D(box, _rect)) return new Pt_1.Group();\n              return Line.intersectLines2D([_line], Rectangle.sides(_rect));\n            }\n          }, {\n            key: \"subpoints\",\n            value: function subpoints(line, num) {\n              var _line = Util_1.Util.iterToArray(line);\n\n              var pts = new Pt_1.Group();\n\n              for (var i = 1; i <= num; i++) {\n                pts.push(Num_1.Geom.interpolate(_line[0], _line[1], i / (num + 1)));\n              }\n\n              return pts;\n            }\n          }, {\n            key: \"crop\",\n            value: function crop(line, size) {\n              var index = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 0;\n              var cropAsCircle = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : true;\n\n              var _line = Util_1.Util.iterToArray(line);\n\n              var tdx = index === 0 ? 1 : 0;\n\n              var ls = _line[tdx].$subtract(_line[index]);\n\n              if (ls[0] === 0 || size[0] === 0) return _line[index];\n\n              if (cropAsCircle) {\n                var d = ls.unit().multiply(size[1]);\n                return _line[index].$add(d);\n              } else {\n                var rect = Rectangle.fromCenter(_line[index], size);\n                var sides = Rectangle.sides(rect);\n                var sideIdx = 0;\n\n                if (Math.abs(ls[1] / ls[0]) > Math.abs(size[1] / size[0])) {\n                  sideIdx = ls[1] < 0 ? 0 : 2;\n                } else {\n                  sideIdx = ls[0] < 0 ? 3 : 1;\n                }\n\n                return Line.intersectRay2D(sides[sideIdx], _line);\n              }\n            }\n          }, {\n            key: \"marker\",\n            value: function marker(line, size) {\n              var graphic = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : \"arrow\" || false;\n              var atTail = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : true;\n\n              var _line = Util_1.Util.iterToArray(line);\n\n              var h = atTail ? 0 : 1;\n              var t = atTail ? 1 : 0;\n\n              var unit = _line[h].$subtract(_line[t]);\n\n              if (unit.magnitudeSq() === 0) return new Pt_1.Group();\n              unit.unit();\n              var ps = Num_1.Geom.perpendicular(unit).multiply(size[0]).add(_line[t]);\n\n              if (graphic == \"arrow\") {\n                ps.add(unit.$multiply(size[1]));\n                return new Pt_1.Group(_line[t], ps[0], ps[1]);\n              } else {\n                return new Pt_1.Group(ps[0], ps[1]);\n              }\n            }\n          }, {\n            key: \"toRect\",\n            value: function toRect(line) {\n              var _line = Util_1.Util.iterToArray(line);\n\n              return new Pt_1.Group(_line[0].$min(_line[1]), _line[0].$max(_line[1]));\n            }\n          }]);\n\n          return Line;\n        }();\n\n        exports.Line = Line;\n\n        var Rectangle = function () {\n          function Rectangle() {\n            _classCallCheck(this, Rectangle);\n          }\n\n          _createClass(Rectangle, null, [{\n            key: \"from\",\n            value: function from(topLeft, widthOrSize, height) {\n              return Rectangle.fromTopLeft(topLeft, widthOrSize, height);\n            }\n          }, {\n            key: \"fromTopLeft\",\n            value: function fromTopLeft(topLeft, widthOrSize, height) {\n              var size = typeof widthOrSize == \"number\" ? [widthOrSize, height || widthOrSize] : widthOrSize;\n              return new Pt_1.Group(new Pt_1.Pt(topLeft), new Pt_1.Pt(topLeft).add(size));\n            }\n          }, {\n            key: \"fromCenter\",\n            value: function fromCenter(center, widthOrSize, height) {\n              var half = typeof widthOrSize == \"number\" ? [widthOrSize / 2, (height || widthOrSize) / 2] : new Pt_1.Pt(widthOrSize).divide(2);\n              return new Pt_1.Group(new Pt_1.Pt(center).subtract(half), new Pt_1.Pt(center).add(half));\n            }\n          }, {\n            key: \"toCircle\",\n            value: function toCircle(pts) {\n              var within = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : true;\n              return Circle.fromRect(pts, within);\n            }\n          }, {\n            key: \"toSquare\",\n            value: function toSquare(pts) {\n              var enclose = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n\n              var _pts = Util_1.Util.iterToArray(pts);\n\n              var s = Rectangle.size(_pts);\n              var m = enclose ? s.maxValue().value : s.minValue().value;\n              return Rectangle.fromCenter(Rectangle.center(_pts), m, m);\n            }\n          }, {\n            key: \"size\",\n            value: function size(pts) {\n              var p = Util_1.Util.iterToArray(pts);\n              return p[0].$max(p[1]).subtract(p[0].$min(p[1]));\n            }\n          }, {\n            key: \"center\",\n            value: function center(pts) {\n              var p = Util_1.Util.iterToArray(pts);\n              var min = p[0].$min(p[1]);\n              var max = p[0].$max(p[1]);\n              return min.add(max.$subtract(min).divide(2));\n            }\n          }, {\n            key: \"corners\",\n            value: function corners(rect) {\n              var _rect = Util_1.Util.iterToArray(rect);\n\n              var p0 = _rect[0].$min(_rect[1]);\n\n              var p2 = _rect[0].$max(_rect[1]);\n\n              return new Pt_1.Group(p0, new Pt_1.Pt(p2.x, p0.y), p2, new Pt_1.Pt(p0.x, p2.y));\n            }\n          }, {\n            key: \"sides\",\n            value: function sides(rect) {\n              var _Rectangle$corners = Rectangle.corners(rect),\n                  _Rectangle$corners2 = _slicedToArray(_Rectangle$corners, 4),\n                  p0 = _Rectangle$corners2[0],\n                  p1 = _Rectangle$corners2[1],\n                  p2 = _Rectangle$corners2[2],\n                  p3 = _Rectangle$corners2[3];\n\n              return [new Pt_1.Group(p0, p1), new Pt_1.Group(p1, p2), new Pt_1.Group(p2, p3), new Pt_1.Group(p3, p0)];\n            }\n          }, {\n            key: \"boundingBox\",\n            value: function boundingBox(rects) {\n              var _rects = Util_1.Util.iterToArray(rects);\n\n              var merged = Util_1.Util.flatten(_rects, false);\n              var min = Pt_1.Pt.make(2, Number.MAX_VALUE);\n              var max = Pt_1.Pt.make(2, Number.MIN_VALUE);\n\n              for (var i = 0, len = merged.length; i < len; i++) {\n                var k = 0;\n                var _iteratorNormalCompletion3 = true;\n                var _didIteratorError3 = false;\n                var _iteratorError3 = undefined;\n\n                try {\n                  for (var _iterator3 = merged[i][Symbol.iterator](), _step3; !(_iteratorNormalCompletion3 = (_step3 = _iterator3.next()).done); _iteratorNormalCompletion3 = true) {\n                    var m = _step3.value;\n                    min[k] = Math.min(min[k], m[k]);\n                    max[k] = Math.max(max[k], m[k]);\n                    if (++k >= 2) break;\n                  }\n                } catch (err) {\n                  _didIteratorError3 = true;\n                  _iteratorError3 = err;\n                } finally {\n                  try {\n                    if (!_iteratorNormalCompletion3 && _iterator3.return) {\n                      _iterator3.return();\n                    }\n                  } finally {\n                    if (_didIteratorError3) {\n                      throw _iteratorError3;\n                    }\n                  }\n                }\n              }\n\n              return new Pt_1.Group(min, max);\n            }\n          }, {\n            key: \"polygon\",\n            value: function polygon(rect) {\n              return Rectangle.corners(rect);\n            }\n          }, {\n            key: \"quadrants\",\n            value: function quadrants(rect, center) {\n              var _rect = Util_1.Util.iterToArray(rect);\n\n              var corners = Rectangle.corners(_rect);\n\n              var _center = center != undefined ? new Pt_1.Pt(center) : Rectangle.center(_rect);\n\n              return corners.map(function (c) {\n                return new Pt_1.Group(c, _center).boundingBox();\n              });\n            }\n          }, {\n            key: \"halves\",\n            value: function halves(rect) {\n              var ratio = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0.5;\n              var asRows = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;\n\n              var _rect = Util_1.Util.iterToArray(rect);\n\n              var min = _rect[0].$min(_rect[1]);\n\n              var max = _rect[0].$max(_rect[1]);\n\n              var mid = asRows ? Num_1.Num.lerp(min[1], max[1], ratio) : Num_1.Num.lerp(min[0], max[0], ratio);\n              return asRows ? [new Pt_1.Group(min, new Pt_1.Pt(max[0], mid)), new Pt_1.Group(new Pt_1.Pt(min[0], mid), max)] : [new Pt_1.Group(min, new Pt_1.Pt(mid, max[1])), new Pt_1.Group(new Pt_1.Pt(mid, min[1]), max)];\n            }\n          }, {\n            key: \"withinBound\",\n            value: function withinBound(rect, pt) {\n              var _rect = Util_1.Util.iterToArray(rect);\n\n              return Num_1.Geom.withinBound(pt, _rect[0], _rect[1]);\n            }\n          }, {\n            key: \"hasIntersectRect2D\",\n            value: function hasIntersectRect2D(rect1, rect2) {\n              var resetBoundingBox = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;\n\n              var _rect1 = Util_1.Util.iterToArray(rect1);\n\n              var _rect2 = Util_1.Util.iterToArray(rect2);\n\n              if (resetBoundingBox) {\n                _rect1 = Num_1.Geom.boundingBox(_rect1);\n                _rect2 = Num_1.Geom.boundingBox(_rect2);\n              }\n\n              if (_rect1[0][0] > _rect2[1][0] || _rect2[0][0] > _rect1[1][0]) return false;\n              if (_rect1[0][1] > _rect2[1][1] || _rect2[0][1] > _rect1[1][1]) return false;\n              return true;\n            }\n          }, {\n            key: \"intersectRect2D\",\n            value: function intersectRect2D(rect1, rect2) {\n              var _rect1 = Util_1.Util.iterToArray(rect1);\n\n              var _rect2 = Util_1.Util.iterToArray(rect2);\n\n              if (!Rectangle.hasIntersectRect2D(_rect1, _rect2)) return new Pt_1.Group();\n              return Line.intersectLines2D(Rectangle.sides(_rect1), Rectangle.sides(_rect2));\n            }\n          }]);\n\n          return Rectangle;\n        }();\n\n        exports.Rectangle = Rectangle;\n\n        var Circle = function () {\n          function Circle() {\n            _classCallCheck(this, Circle);\n          }\n\n          _createClass(Circle, null, [{\n            key: \"fromRect\",\n            value: function fromRect(pts) {\n              var enclose = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n\n              var _pts = Util_1.Util.iterToArray(pts);\n\n              var r = 0;\n              var min = r = Rectangle.size(_pts).minValue().value / 2;\n\n              if (enclose) {\n                var max = Rectangle.size(_pts).maxValue().value / 2;\n                r = Math.sqrt(min * min + max * max);\n              } else {\n                r = min;\n              }\n\n              return new Pt_1.Group(Rectangle.center(_pts), new Pt_1.Pt(r, r));\n            }\n          }, {\n            key: \"fromTriangle\",\n            value: function fromTriangle(pts) {\n              var enclose = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n\n              if (enclose) {\n                return Triangle.circumcircle(pts);\n              } else {\n                return Triangle.incircle(pts);\n              }\n            }\n          }, {\n            key: \"fromCenter\",\n            value: function fromCenter(pt, radius) {\n              return new Pt_1.Group(new Pt_1.Pt(pt), new Pt_1.Pt(radius, radius));\n            }\n          }, {\n            key: \"withinBound\",\n            value: function withinBound(pts, pt) {\n              var threshold = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 0;\n\n              var _pts = Util_1.Util.iterToArray(pts);\n\n              var d = _pts[0].$subtract(pt);\n\n              return d.dot(d) + threshold < _pts[1].x * _pts[1].x;\n            }\n          }, {\n            key: \"intersectRay2D\",\n            value: function intersectRay2D(circle, ray) {\n              var _pts = Util_1.Util.iterToArray(circle);\n\n              var _ray = Util_1.Util.iterToArray(ray);\n\n              var d = _ray[0].$subtract(_ray[1]);\n\n              var f = _pts[0].$subtract(_ray[0]);\n\n              var a = d.dot(d);\n              var b = f.dot(d);\n\n              var c = f.dot(f) - _pts[1].x * _pts[1].x;\n\n              var p = b / a;\n              var q = c / a;\n              var disc = p * p - q;\n\n              if (disc < 0) {\n                return new Pt_1.Group();\n              } else {\n                var discSqrt = Math.sqrt(disc);\n                var t1 = -p + discSqrt;\n\n                var p1 = _ray[0].$subtract(d.$multiply(t1));\n\n                if (disc === 0) return new Pt_1.Group(p1);\n                var t2 = -p - discSqrt;\n\n                var p2 = _ray[0].$subtract(d.$multiply(t2));\n\n                return new Pt_1.Group(p1, p2);\n              }\n            }\n          }, {\n            key: \"intersectLine2D\",\n            value: function intersectLine2D(circle, line) {\n              var _pts = Util_1.Util.iterToArray(circle);\n\n              var _line = Util_1.Util.iterToArray(line);\n\n              var ps = Circle.intersectRay2D(_pts, _line);\n              var g = new Pt_1.Group();\n\n              if (ps.length > 0) {\n                for (var i = 0, len = ps.length; i < len; i++) {\n                  if (Rectangle.withinBound(_line, ps[i])) g.push(ps[i]);\n                }\n              }\n\n              return g;\n            }\n          }, {\n            key: \"intersectCircle2D\",\n            value: function intersectCircle2D(circle1, circle2) {\n              var _pts = Util_1.Util.iterToArray(circle1);\n\n              var _circle = Util_1.Util.iterToArray(circle2);\n\n              var dv = _circle[0].$subtract(_pts[0]);\n\n              var dr2 = dv.magnitudeSq();\n              var dr = Math.sqrt(dr2);\n              var ar = _pts[1].x;\n              var br = _circle[1].x;\n              var ar2 = ar * ar;\n              var br2 = br * br;\n\n              if (dr > ar + br) {\n                return new Pt_1.Group();\n              } else if (dr < Math.abs(ar - br)) {\n                return new Pt_1.Group(_pts[0].clone());\n              } else {\n                var a = (ar2 - br2 + dr2) / (2 * dr);\n                var h = Math.sqrt(ar2 - a * a);\n                var p = dv.$multiply(a / dr).add(_pts[0]);\n                return new Pt_1.Group(new Pt_1.Pt(p.x + h * dv.y / dr, p.y - h * dv.x / dr), new Pt_1.Pt(p.x - h * dv.y / dr, p.y + h * dv.x / dr));\n              }\n            }\n          }, {\n            key: \"intersectRect2D\",\n            value: function intersectRect2D(circle, rect) {\n              var _pts = Util_1.Util.iterToArray(circle);\n\n              var _rect = Util_1.Util.iterToArray(rect);\n\n              var sides = Rectangle.sides(_rect);\n              var g = [];\n\n              for (var i = 0, len = sides.length; i < len; i++) {\n                var ps = Circle.intersectLine2D(_pts, sides[i]);\n                if (ps.length > 0) g.push(ps);\n              }\n\n              return Util_1.Util.flatten(g);\n            }\n          }, {\n            key: \"toRect\",\n            value: function toRect(circle) {\n              var within = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n\n              var _pts = Util_1.Util.iterToArray(circle);\n\n              var r = _pts[1][0];\n\n              if (within) {\n                var half = Math.sqrt(r * r) / 2;\n                return new Pt_1.Group(_pts[0].$subtract(half), _pts[0].$add(half));\n              } else {\n                return new Pt_1.Group(_pts[0].$subtract(r), _pts[0].$add(r));\n              }\n            }\n          }, {\n            key: \"toTriangle\",\n            value: function toTriangle(circle) {\n              var within = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : true;\n\n              var _pts = Util_1.Util.iterToArray(circle);\n\n              if (within) {\n                var ang = -Math.PI / 2;\n                var inc = Math.PI * 2 / 3;\n                var g = new Pt_1.Group();\n\n                for (var i = 0; i < 3; i++) {\n                  g.push(_pts[0].clone().toAngle(ang, _pts[1][0], true));\n                  ang += inc;\n                }\n\n                return g;\n              } else {\n                return Triangle.fromCenter(_pts[0], _pts[1][0]);\n              }\n            }\n          }]);\n\n          return Circle;\n        }();\n\n        exports.Circle = Circle;\n\n        var Triangle = function () {\n          function Triangle() {\n            _classCallCheck(this, Triangle);\n          }\n\n          _createClass(Triangle, null, [{\n            key: \"fromRect\",\n            value: function fromRect(rect) {\n              var _rect = Util_1.Util.iterToArray(rect);\n\n              var top = _rect[0].$add(_rect[1]).divide(2);\n\n              top.y = _rect[0][1];\n\n              var left = _rect[1].clone();\n\n              left.x = _rect[0][0];\n              return new Pt_1.Group(top, _rect[1].clone(), left);\n            }\n          }, {\n            key: \"fromCircle\",\n            value: function fromCircle(circle) {\n              return Circle.toTriangle(circle, true);\n            }\n          }, {\n            key: \"fromCenter\",\n            value: function fromCenter(pt, size) {\n              return Triangle.fromCircle(Circle.fromCenter(pt, size));\n            }\n          }, {\n            key: \"medial\",\n            value: function medial(tri) {\n              var _pts = Util_1.Util.iterToArray(tri);\n\n              if (_pts.length < 3) return _errorLength(new Pt_1.Group(), 3);\n              return Polygon.midpoints(_pts, true);\n            }\n          }, {\n            key: \"oppositeSide\",\n            value: function oppositeSide(tri, index) {\n              var _pts = Util_1.Util.iterToArray(tri);\n\n              if (_pts.length < 3) return _errorLength(new Pt_1.Group(), 3);\n\n              if (index === 0) {\n                return Pt_1.Group.fromPtArray([_pts[1], _pts[2]]);\n              } else if (index === 1) {\n                return Pt_1.Group.fromPtArray([_pts[0], _pts[2]]);\n              } else {\n                return Pt_1.Group.fromPtArray([_pts[0], _pts[1]]);\n              }\n            }\n          }, {\n            key: \"altitude\",\n            value: function altitude(tri, index) {\n              var _pts = Util_1.Util.iterToArray(tri);\n\n              var opp = Triangle.oppositeSide(_pts, index);\n\n              if (opp.length > 1) {\n                return new Pt_1.Group(_pts[index], Line.perpendicularFromPt(opp, _pts[index]));\n              } else {\n                return new Pt_1.Group();\n              }\n            }\n          }, {\n            key: \"orthocenter\",\n            value: function orthocenter(tri) {\n              var _pts = Util_1.Util.iterToArray(tri);\n\n              if (_pts.length < 3) return _errorLength(undefined, 3);\n              var a = Triangle.altitude(_pts, 0);\n              var b = Triangle.altitude(_pts, 1);\n              return Line.intersectRay2D(a, b);\n            }\n          }, {\n            key: \"incenter\",\n            value: function incenter(tri) {\n              var _pts = Util_1.Util.iterToArray(tri);\n\n              if (_pts.length < 3) return _errorLength(undefined, 3);\n              var a = Polygon.bisector(_pts, 0).add(_pts[0]);\n              var b = Polygon.bisector(_pts, 1).add(_pts[1]);\n              return Line.intersectRay2D(new Pt_1.Group(_pts[0], a), new Pt_1.Group(_pts[1], b));\n            }\n          }, {\n            key: \"incircle\",\n            value: function incircle(tri, center) {\n              var _pts = Util_1.Util.iterToArray(tri);\n\n              var c = center ? center : Triangle.incenter(_pts);\n              var area = Polygon.area(_pts);\n              var perim = Polygon.perimeter(_pts, true);\n              var r = 2 * area / perim.total;\n              return Circle.fromCenter(c, r);\n            }\n          }, {\n            key: \"circumcenter\",\n            value: function circumcenter(tri) {\n              var _pts = Util_1.Util.iterToArray(tri);\n\n              var md = Triangle.medial(_pts);\n              var a = [md[0], Num_1.Geom.perpendicular(_pts[0].$subtract(md[0])).p1.$add(md[0])];\n              var b = [md[1], Num_1.Geom.perpendicular(_pts[1].$subtract(md[1])).p1.$add(md[1])];\n              return Line.intersectRay2D(a, b);\n            }\n          }, {\n            key: \"circumcircle\",\n            value: function circumcircle(tri, center) {\n              var _pts = Util_1.Util.iterToArray(tri);\n\n              var c = center ? center : Triangle.circumcenter(_pts);\n\n              var r = _pts[0].$subtract(c).magnitude();\n\n              return Circle.fromCenter(c, r);\n            }\n          }]);\n\n          return Triangle;\n        }();\n\n        exports.Triangle = Triangle;\n\n        var Polygon = function () {\n          function Polygon() {\n            _classCallCheck(this, Polygon);\n          }\n\n          _createClass(Polygon, null, [{\n            key: \"centroid\",\n            value: function centroid(pts) {\n              return Num_1.Geom.centroid(pts);\n            }\n          }, {\n            key: \"rectangle\",\n            value: function rectangle(center, widthOrSize, height) {\n              return Rectangle.corners(Rectangle.fromCenter(center, widthOrSize, height));\n            }\n          }, {\n            key: \"fromCenter\",\n            value: function fromCenter(center, radius, sides) {\n              var g = new Pt_1.Group();\n\n              for (var i = 0; i < sides; i++) {\n                var ang = Math.PI * 2 * i / sides;\n                g.push(new Pt_1.Pt(Math.cos(ang) * radius, Math.sin(ang) * radius).add(center));\n              }\n\n              return g;\n            }\n          }, {\n            key: \"lineAt\",\n            value: function lineAt(pts, index) {\n              var _pts = Util_1.Util.iterToArray(pts);\n\n              if (index < 0 || index >= _pts.length) throw new Error(\"index out of the Polygon's range\");\n              return new Pt_1.Group(_pts[index], index === _pts.length - 1 ? _pts[0] : _pts[index + 1]);\n            }\n          }, {\n            key: \"lines\",\n            value: function lines(poly) {\n              var closePath = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : true;\n\n              var _pts = Util_1.Util.iterToArray(poly);\n\n              if (_pts.length < 2) return _errorLength(new Pt_1.Group(), 2);\n              var sp = Util_1.Util.split(_pts, 2, 1);\n              if (closePath) sp.push(new Pt_1.Group(_pts[_pts.length - 1], _pts[0]));\n              return sp.map(function (g) {\n                return g;\n              });\n            }\n          }, {\n            key: \"midpoints\",\n            value: function midpoints(poly) {\n              var closePath = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n              var t = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 0.5;\n              var sides = Polygon.lines(poly, closePath);\n              var mids = sides.map(function (s) {\n                return Num_1.Geom.interpolate(s[0], s[1], t);\n              });\n              return mids;\n            }\n          }, {\n            key: \"adjacentSides\",\n            value: function adjacentSides(poly, index) {\n              var closePath = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;\n\n              var _pts = Util_1.Util.iterToArray(poly);\n\n              if (_pts.length < 2) return _errorLength(new Pt_1.Group(), 2);\n              if (index < 0 || index >= _pts.length) return _errorOutofBound(new Pt_1.Group(), index);\n              var gs = [];\n              var left = index - 1;\n              if (closePath && left < 0) left = _pts.length - 1;\n              if (left >= 0) gs.push(new Pt_1.Group(_pts[index], _pts[left]));\n              var right = index + 1;\n              if (closePath && right > _pts.length - 1) right = 0;\n              if (right <= _pts.length - 1) gs.push(new Pt_1.Group(_pts[index], _pts[right]));\n              return gs;\n            }\n          }, {\n            key: \"bisector\",\n            value: function bisector(poly, index) {\n              var sides = Polygon.adjacentSides(poly, index, true);\n\n              if (sides.length >= 2) {\n                var a = sides[0][1].$subtract(sides[0][0]).unit();\n                var b = sides[1][1].$subtract(sides[1][0]).unit();\n                return a.add(b).divide(2);\n              } else {\n                return undefined;\n              }\n            }\n          }, {\n            key: \"perimeter\",\n            value: function perimeter(poly) {\n              var closePath = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n              var lines = Polygon.lines(poly, closePath);\n              var mag = 0;\n              var p = Pt_1.Pt.make(lines.length, 0);\n\n              for (var i = 0, len = lines.length; i < len; i++) {\n                var m = Line.magnitude(lines[i]);\n                mag += m;\n                p[i] = m;\n              }\n\n              return {\n                total: mag,\n                segments: p\n              };\n            }\n          }, {\n            key: \"area\",\n            value: function area(pts) {\n              var _pts = Util_1.Util.iterToArray(pts);\n\n              if (_pts.length < 3) return _errorLength(new Pt_1.Group(), 3);\n\n              var det = function det(a, b) {\n                return a[0] * b[1] - a[1] * b[0];\n              };\n\n              var area = 0;\n\n              for (var i = 0, len = _pts.length; i < len; i++) {\n                if (i < _pts.length - 1) {\n                  area += det(_pts[i], _pts[i + 1]);\n                } else {\n                  area += det(_pts[i], _pts[0]);\n                }\n              }\n\n              return Math.abs(area / 2);\n            }\n          }, {\n            key: \"convexHull\",\n            value: function convexHull(pts) {\n              var sorted = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n\n              var _pts = Util_1.Util.iterToArray(pts);\n\n              if (_pts.length < 3) return _errorLength(new Pt_1.Group(), 3);\n\n              if (!sorted) {\n                _pts = _pts.slice();\n\n                _pts.sort(function (a, b) {\n                  return a[0] - b[0];\n                });\n              }\n\n              var left = function left(a, b, c) {\n                return (b[0] - a[0]) * (c[1] - a[1]) - (c[0] - a[0]) * (b[1] - a[1]) > 0;\n              };\n\n              var dq = [];\n              var bot = _pts.length - 2;\n              var top = bot + 3;\n              dq[bot] = _pts[2];\n              dq[top] = _pts[2];\n\n              if (left(_pts[0], _pts[1], _pts[2])) {\n                dq[bot + 1] = _pts[0];\n                dq[bot + 2] = _pts[1];\n              } else {\n                dq[bot + 1] = _pts[1];\n                dq[bot + 2] = _pts[0];\n              }\n\n              for (var i = 3, len = _pts.length; i < len; i++) {\n                var pt = _pts[i];\n\n                if (left(dq[bot], dq[bot + 1], pt) && left(dq[top - 1], dq[top], pt)) {\n                  continue;\n                }\n\n                while (!left(dq[bot], dq[bot + 1], pt)) {\n                  bot += 1;\n                }\n\n                bot -= 1;\n                dq[bot] = pt;\n\n                while (!left(dq[top - 1], dq[top], pt)) {\n                  top -= 1;\n                }\n\n                top += 1;\n                dq[top] = pt;\n              }\n\n              var hull = new Pt_1.Group();\n\n              for (var h = 0; h < top - bot; h++) {\n                hull.push(dq[bot + h]);\n              }\n\n              return hull;\n            }\n          }, {\n            key: \"network\",\n            value: function network(poly) {\n              var originIndex = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n\n              var _pts = Util_1.Util.iterToArray(poly);\n\n              var g = [];\n\n              for (var i = 0, len = _pts.length; i < len; i++) {\n                if (i != originIndex) g.push(new Pt_1.Group(_pts[originIndex], _pts[i]));\n              }\n\n              return g;\n            }\n          }, {\n            key: \"nearestPt\",\n            value: function nearestPt(poly, pt) {\n              var _near = Number.MAX_VALUE;\n\n              var _item = -1;\n\n              var i = 0;\n              var _iteratorNormalCompletion4 = true;\n              var _didIteratorError4 = false;\n              var _iteratorError4 = undefined;\n\n              try {\n                for (var _iterator4 = poly[Symbol.iterator](), _step4; !(_iteratorNormalCompletion4 = (_step4 = _iterator4.next()).done); _iteratorNormalCompletion4 = true) {\n                  var p = _step4.value;\n                  var d = p.$subtract(pt).magnitudeSq();\n\n                  if (d < _near) {\n                    _near = d;\n                    _item = i;\n                  }\n\n                  i++;\n                }\n              } catch (err) {\n                _didIteratorError4 = true;\n                _iteratorError4 = err;\n              } finally {\n                try {\n                  if (!_iteratorNormalCompletion4 && _iterator4.return) {\n                    _iterator4.return();\n                  }\n                } finally {\n                  if (_didIteratorError4) {\n                    throw _iteratorError4;\n                  }\n                }\n              }\n\n              return _item;\n            }\n          }, {\n            key: \"projectAxis\",\n            value: function projectAxis(poly, unitAxis) {\n              var _poly = Util_1.Util.iterToArray(poly);\n\n              var dot = unitAxis.dot(_poly[0]);\n              var d = new Pt_1.Pt(dot, dot);\n\n              for (var n = 1, len = _poly.length; n < len; n++) {\n                dot = unitAxis.dot(_poly[n]);\n                d = new Pt_1.Pt(Math.min(dot, d[0]), Math.max(dot, d[1]));\n              }\n\n              return d;\n            }\n          }, {\n            key: \"_axisOverlap\",\n            value: function _axisOverlap(poly1, poly2, unitAxis) {\n              var pa = Polygon.projectAxis(poly1, unitAxis);\n              var pb = Polygon.projectAxis(poly2, unitAxis);\n              return pa[0] < pb[0] ? pb[0] - pa[1] : pa[0] - pb[1];\n            }\n          }, {\n            key: \"hasIntersectPoint\",\n            value: function hasIntersectPoint(poly, pt) {\n              var _poly = Util_1.Util.iterToArray(poly);\n\n              var c = false;\n\n              for (var i = 0, len = _poly.length; i < len; i++) {\n                var ln = Polygon.lineAt(_poly, i);\n\n                if (ln[0][1] > pt[1] != ln[1][1] > pt[1] && pt[0] < (ln[1][0] - ln[0][0]) * (pt[1] - ln[0][1]) / (ln[1][1] - ln[0][1]) + ln[0][0]) {\n                  c = !c;\n                }\n              }\n\n              return c;\n            }\n          }, {\n            key: \"hasIntersectCircle\",\n            value: function hasIntersectCircle(poly, circle) {\n              var _poly = Util_1.Util.iterToArray(poly);\n\n              var _circle = Util_1.Util.iterToArray(circle);\n\n              var info = {\n                which: -1,\n                dist: 0,\n                normal: null,\n                edge: null,\n                vertex: null\n              };\n              var c = _circle[0];\n              var r = _circle[1][0];\n              var minDist = Number.MAX_SAFE_INTEGER;\n\n              for (var i = 0, len = _poly.length; i < len; i++) {\n                var edge = Polygon.lineAt(_poly, i);\n                var axis = new Pt_1.Pt(edge[0].y - edge[1].y, edge[1].x - edge[0].x).unit();\n                var poly2 = new Pt_1.Group(c.$add(axis.$multiply(r)), c.$subtract(axis.$multiply(r)));\n\n                var dist = Polygon._axisOverlap(_poly, poly2, axis);\n\n                if (dist > 0) {\n                  return null;\n                } else if (Math.abs(dist) < minDist) {\n                  var check = Rectangle.withinBound(edge, Line.perpendicularFromPt(edge, c)) || Circle.intersectLine2D(circle, edge).length > 0;\n\n                  if (check) {\n                    info.edge = edge;\n                    info.normal = axis;\n                    minDist = Math.abs(dist);\n                    info.which = i;\n                  }\n                }\n              }\n\n              if (!info.edge) return null;\n              var dir = c.$subtract(Polygon.centroid(_poly)).dot(info.normal);\n              if (dir < 0) info.normal.multiply(-1);\n              info.dist = minDist;\n              info.vertex = c;\n              return info;\n            }\n          }, {\n            key: \"hasIntersectPolygon\",\n            value: function hasIntersectPolygon(poly1, poly2) {\n              var _poly1 = Util_1.Util.iterToArray(poly1);\n\n              var _poly2 = Util_1.Util.iterToArray(poly2);\n\n              var info = {\n                which: -1,\n                dist: 0,\n                normal: new Pt_1.Pt(),\n                edge: new Pt_1.Group(),\n                vertex: new Pt_1.Pt()\n              };\n              var minDist = Number.MAX_SAFE_INTEGER;\n\n              for (var i = 0, plen = _poly1.length + _poly2.length; i < plen; i++) {\n                var edge = i < _poly1.length ? Polygon.lineAt(_poly1, i) : Polygon.lineAt(_poly2, i - _poly1.length);\n                var axis = new Pt_1.Pt(edge[0].y - edge[1].y, edge[1].x - edge[0].x).unit();\n\n                var dist = Polygon._axisOverlap(_poly1, _poly2, axis);\n\n                if (dist > 0) {\n                  return null;\n                } else if (Math.abs(dist) < minDist) {\n                  info.edge = edge;\n                  info.normal = axis;\n                  minDist = Math.abs(dist);\n                  info.which = i < _poly1.length ? 0 : 1;\n                }\n              }\n\n              info.dist = minDist;\n              var b1 = info.which === 0 ? _poly2 : _poly1;\n              var b2 = info.which === 0 ? _poly1 : _poly2;\n              var c1 = Polygon.centroid(b1);\n              var c2 = Polygon.centroid(b2);\n              var dir = c1.$subtract(c2).dot(info.normal);\n              if (dir < 0) info.normal.multiply(-1);\n              var smallest = Number.MAX_SAFE_INTEGER;\n\n              for (var _i = 0, len = b1.length; _i < len; _i++) {\n                var d = info.normal.dot(b1[_i].$subtract(c2));\n\n                if (d < smallest) {\n                  smallest = d;\n                  info.vertex = b1[_i];\n                }\n              }\n\n              return info;\n            }\n          }, {\n            key: \"intersectPolygon2D\",\n            value: function intersectPolygon2D(poly1, poly2) {\n              var _poly1 = Util_1.Util.iterToArray(poly1);\n\n              var _poly2 = Util_1.Util.iterToArray(poly2);\n\n              var lp = Polygon.lines(_poly1);\n              var g = [];\n\n              for (var i = 0, len = lp.length; i < len; i++) {\n                var ins = Line.intersectPolygon2D(lp[i], _poly2, false);\n                if (ins) g.push(ins);\n              }\n\n              return Util_1.Util.flatten(g, true);\n            }\n          }, {\n            key: \"toRects\",\n            value: function toRects(polys) {\n              var boxes = [];\n              var _iteratorNormalCompletion5 = true;\n              var _didIteratorError5 = false;\n              var _iteratorError5 = undefined;\n\n              try {\n                for (var _iterator5 = polys[Symbol.iterator](), _step5; !(_iteratorNormalCompletion5 = (_step5 = _iterator5.next()).done); _iteratorNormalCompletion5 = true) {\n                  var g = _step5.value;\n                  boxes.push(Num_1.Geom.boundingBox(g));\n                }\n              } catch (err) {\n                _didIteratorError5 = true;\n                _iteratorError5 = err;\n              } finally {\n                try {\n                  if (!_iteratorNormalCompletion5 && _iterator5.return) {\n                    _iterator5.return();\n                  }\n                } finally {\n                  if (_didIteratorError5) {\n                    throw _iteratorError5;\n                  }\n                }\n              }\n\n              var merged = Util_1.Util.flatten(boxes, false);\n              boxes.unshift(Num_1.Geom.boundingBox(merged));\n              return boxes;\n            }\n          }]);\n\n          return Polygon;\n        }();\n\n        exports.Polygon = Polygon;\n\n        var Curve = function () {\n          function Curve() {\n            _classCallCheck(this, Curve);\n          }\n\n          _createClass(Curve, null, [{\n            key: \"getSteps\",\n            value: function getSteps(steps) {\n              var ts = new Pt_1.Group();\n\n              for (var i = 0; i <= steps; i++) {\n                var t = i / steps;\n                ts.push(new Pt_1.Pt(t * t * t, t * t, t, 1));\n              }\n\n              return ts;\n            }\n          }, {\n            key: \"controlPoints\",\n            value: function controlPoints(pts) {\n              var index = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n              var copyStart = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;\n\n              var _pts = Util_1.Util.iterToArray(pts);\n\n              if (index > _pts.length - 1) return new Pt_1.Group();\n\n              var _index = function _index(i) {\n                return i < _pts.length - 1 ? i : _pts.length - 1;\n              };\n\n              var p0 = _pts[index];\n              index = copyStart ? index : index + 1;\n              return new Pt_1.Group(p0, _pts[_index(index++)], _pts[_index(index++)], _pts[_index(index++)]);\n            }\n          }, {\n            key: \"_calcPt\",\n            value: function _calcPt(ctrls, params) {\n              var x = ctrls.reduce(function (a, c, i) {\n                return a + c.x * params[i];\n              }, 0);\n              var y = ctrls.reduce(function (a, c, i) {\n                return a + c.y * params[i];\n              }, 0);\n\n              if (ctrls[0].length > 2) {\n                var z = ctrls.reduce(function (a, c, i) {\n                  return a + c.z * params[i];\n                }, 0);\n                return new Pt_1.Pt(x, y, z);\n              }\n\n              return new Pt_1.Pt(x, y);\n            }\n          }, {\n            key: \"catmullRom\",\n            value: function catmullRom(pts) {\n              var steps = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 10;\n\n              var _pts = Util_1.Util.iterToArray(pts);\n\n              if (_pts.length < 2) return new Pt_1.Group();\n              var ps = new Pt_1.Group();\n              var ts = Curve.getSteps(steps);\n              var c = Curve.controlPoints(_pts, 0, true);\n\n              for (var i = 0; i <= steps; i++) {\n                ps.push(Curve.catmullRomStep(ts[i], c));\n              }\n\n              var k = 0;\n\n              while (k < _pts.length - 2) {\n                var cp = Curve.controlPoints(_pts, k);\n\n                if (cp.length > 0) {\n                  for (var _i2 = 0; _i2 <= steps; _i2++) {\n                    ps.push(Curve.catmullRomStep(ts[_i2], cp));\n                  }\n\n                  k++;\n                }\n              }\n\n              return ps;\n            }\n          }, {\n            key: \"catmullRomStep\",\n            value: function catmullRomStep(step, ctrls) {\n              var m = new Pt_1.Group(new Pt_1.Pt(-0.5, 1, -0.5, 0), new Pt_1.Pt(1.5, -2.5, 0, 1), new Pt_1.Pt(-1.5, 2, 0.5, 0), new Pt_1.Pt(0.5, -0.5, 0, 0));\n              return Curve._calcPt(ctrls, LinearAlgebra_1.Mat.multiply([step], m, true)[0]);\n            }\n          }, {\n            key: \"cardinal\",\n            value: function cardinal(pts) {\n              var steps = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 10;\n              var tension = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 0.5;\n\n              var _pts = Util_1.Util.iterToArray(pts);\n\n              if (_pts.length < 2) return new Pt_1.Group();\n              var ps = new Pt_1.Group();\n              var ts = Curve.getSteps(steps);\n              var c = Curve.controlPoints(_pts, 0, true);\n\n              for (var i = 0; i <= steps; i++) {\n                ps.push(Curve.cardinalStep(ts[i], c, tension));\n              }\n\n              var k = 0;\n\n              while (k < _pts.length - 2) {\n                var cp = Curve.controlPoints(_pts, k);\n\n                if (cp.length > 0) {\n                  for (var _i3 = 0; _i3 <= steps; _i3++) {\n                    ps.push(Curve.cardinalStep(ts[_i3], cp, tension));\n                  }\n\n                  k++;\n                }\n              }\n\n              return ps;\n            }\n          }, {\n            key: \"cardinalStep\",\n            value: function cardinalStep(step, ctrls) {\n              var tension = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 0.5;\n              var m = new Pt_1.Group(new Pt_1.Pt(-1, 2, -1, 0), new Pt_1.Pt(-1, 1, 0, 0), new Pt_1.Pt(1, -2, 1, 0), new Pt_1.Pt(1, -1, 0, 0));\n              var h = LinearAlgebra_1.Mat.multiply([step], m, true)[0].multiply(tension);\n              var h2 = 2 * step[0] - 3 * step[1] + 1;\n              var h3 = -2 * step[0] + 3 * step[1];\n\n              var pt = Curve._calcPt(ctrls, h);\n\n              pt.x += h2 * ctrls[1].x + h3 * ctrls[2].x;\n              pt.y += h2 * ctrls[1].y + h3 * ctrls[2].y;\n              if (pt.length > 2) pt.z += h2 * ctrls[1].z + h3 * ctrls[2].z;\n              return pt;\n            }\n          }, {\n            key: \"bezier\",\n            value: function bezier(pts) {\n              var steps = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 10;\n\n              var _pts = Util_1.Util.iterToArray(pts);\n\n              if (_pts.length < 4) return new Pt_1.Group();\n              var ps = new Pt_1.Group();\n              var ts = Curve.getSteps(steps);\n              var k = 0;\n\n              while (k < _pts.length - 3) {\n                var c = Curve.controlPoints(_pts, k);\n\n                if (c.length > 0) {\n                  for (var i = 0; i <= steps; i++) {\n                    ps.push(Curve.bezierStep(ts[i], c));\n                  }\n\n                  k += 3;\n                }\n              }\n\n              return ps;\n            }\n          }, {\n            key: \"bezierStep\",\n            value: function bezierStep(step, ctrls) {\n              var m = new Pt_1.Group(new Pt_1.Pt(-1, 3, -3, 1), new Pt_1.Pt(3, -6, 3, 0), new Pt_1.Pt(-3, 3, 0, 0), new Pt_1.Pt(1, 0, 0, 0));\n              return Curve._calcPt(ctrls, LinearAlgebra_1.Mat.multiply([step], m, true)[0]);\n            }\n          }, {\n            key: \"bspline\",\n            value: function bspline(pts) {\n              var steps = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 10;\n              var tension = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 1;\n\n              var _pts = Util_1.Util.iterToArray(pts);\n\n              if (_pts.length < 2) return new Pt_1.Group();\n              var ps = new Pt_1.Group();\n              var ts = Curve.getSteps(steps);\n              var k = 0;\n\n              while (k < _pts.length - 3) {\n                var c = Curve.controlPoints(_pts, k);\n\n                if (c.length > 0) {\n                  if (tension !== 1) {\n                    for (var i = 0; i <= steps; i++) {\n                      ps.push(Curve.bsplineTensionStep(ts[i], c, tension));\n                    }\n                  } else {\n                    for (var _i4 = 0; _i4 <= steps; _i4++) {\n                      ps.push(Curve.bsplineStep(ts[_i4], c));\n                    }\n                  }\n\n                  k++;\n                }\n              }\n\n              return ps;\n            }\n          }, {\n            key: \"bsplineStep\",\n            value: function bsplineStep(step, ctrls) {\n              var m = new Pt_1.Group(new Pt_1.Pt(-0.16666666666666666, 0.5, -0.5, 0.16666666666666666), new Pt_1.Pt(0.5, -1, 0, 0.6666666666666666), new Pt_1.Pt(-0.5, 0.5, 0.5, 0.16666666666666666), new Pt_1.Pt(0.16666666666666666, 0, 0, 0));\n              return Curve._calcPt(ctrls, LinearAlgebra_1.Mat.multiply([step], m, true)[0]);\n            }\n          }, {\n            key: \"bsplineTensionStep\",\n            value: function bsplineTensionStep(step, ctrls) {\n              var tension = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 1;\n              var m = new Pt_1.Group(new Pt_1.Pt(-0.16666666666666666, 0.5, -0.5, 0.16666666666666666), new Pt_1.Pt(-1.5, 2, 0, -0.3333333333333333), new Pt_1.Pt(1.5, -2.5, 0.5, 0.16666666666666666), new Pt_1.Pt(0.16666666666666666, 0, 0, 0));\n              var h = LinearAlgebra_1.Mat.multiply([step], m, true)[0].multiply(tension);\n              var h2 = 2 * step[0] - 3 * step[1] + 1;\n              var h3 = -2 * step[0] + 3 * step[1];\n\n              var pt = Curve._calcPt(ctrls, h);\n\n              pt.x += h2 * ctrls[1].x + h3 * ctrls[2].x;\n              pt.y += h2 * ctrls[1].y + h3 * ctrls[2].y;\n              if (pt.length > 2) pt.z += h2 * ctrls[1].z + h3 * ctrls[2].z;\n              return pt;\n            }\n          }]);\n\n          return Curve;\n        }();\n\n        exports.Curve = Curve;\n        /***/\n      },\n\n      /***/\n      \"./src/Physics.ts\":\n      /*!************************!*\\\n        !*** ./src/Physics.ts ***!\n        \\************************/\n\n      /*! no static exports found */\n\n      /***/\n      function srcPhysicsTs(module, exports, __webpack_require__) {\n        \"use strict\";\n        /*! Source code licensed under Apache License 2.0. Copyright  2017-current William Ngan and contributors. (https://github.com/williamngan/pts) */\n\n        var _slicedToArray = function () {\n          function sliceIterator(arr, i) {\n            var _arr = [];\n            var _n = true;\n            var _d = false;\n            var _e = undefined;\n\n            try {\n              for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n                _arr.push(_s.value);\n\n                if (i && _arr.length === i) break;\n              }\n            } catch (err) {\n              _d = true;\n              _e = err;\n            } finally {\n              try {\n                if (!_n && _i[\"return\"]) _i[\"return\"]();\n              } finally {\n                if (_d) throw _e;\n              }\n            }\n\n            return _arr;\n          }\n\n          return function (arr, i) {\n            if (Array.isArray(arr)) {\n              return arr;\n            } else if (Symbol.iterator in Object(arr)) {\n              return sliceIterator(arr, i);\n            } else {\n              throw new TypeError(\"Invalid attempt to destructure non-iterable instance\");\n            }\n          };\n        }();\n\n        var _createClass = function () {\n          function defineProperties(target, props) {\n            for (var i = 0; i < props.length; i++) {\n              var descriptor = props[i];\n              descriptor.enumerable = descriptor.enumerable || false;\n              descriptor.configurable = true;\n              if (\"value\" in descriptor) descriptor.writable = true;\n              Object.defineProperty(target, descriptor.key, descriptor);\n            }\n          }\n\n          return function (Constructor, protoProps, staticProps) {\n            if (protoProps) defineProperties(Constructor.prototype, protoProps);\n            if (staticProps) defineProperties(Constructor, staticProps);\n            return Constructor;\n          };\n        }();\n\n        function _possibleConstructorReturn(self, call) {\n          if (!self) {\n            throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n          }\n\n          return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self;\n        }\n\n        function _inherits(subClass, superClass) {\n          if (typeof superClass !== \"function\" && superClass !== null) {\n            throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass);\n          }\n\n          subClass.prototype = Object.create(superClass && superClass.prototype, {\n            constructor: {\n              value: subClass,\n              enumerable: false,\n              writable: true,\n              configurable: true\n            }\n          });\n          if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;\n        }\n\n        function _classCallCheck(instance, Constructor) {\n          if (!(instance instanceof Constructor)) {\n            throw new TypeError(\"Cannot call a class as a function\");\n          }\n        }\n\n        Object.defineProperty(exports, \"__esModule\", {\n          value: true\n        });\n        exports.Body = exports.Particle = exports.World = void 0;\n\n        var Pt_1 = __webpack_require__(\n        /*! ./Pt */\n        \"./src/Pt.ts\");\n\n        var Op_1 = __webpack_require__(\n        /*! ./Op */\n        \"./src/Op.ts\");\n\n        var Num_1 = __webpack_require__(\n        /*! ./Num */\n        \"./src/Num.ts\");\n\n        var World = function () {\n          function World(bound) {\n            var friction = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 1;\n            var gravity = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 0;\n\n            _classCallCheck(this, World);\n\n            this._lastTime = null;\n            this._gravity = new Pt_1.Pt();\n            this._friction = 1;\n            this._damping = 0.75;\n            this._particles = [];\n            this._bodies = [];\n            this._pnames = [];\n            this._bnames = [];\n            this._bound = Pt_1.Bound.fromGroup(bound);\n            this._friction = friction;\n            this._gravity = typeof gravity === \"number\" ? new Pt_1.Pt(0, gravity) : new Pt_1.Pt(gravity);\n            return this;\n          }\n\n          _createClass(World, [{\n            key: \"body\",\n            value: function body(id) {\n              var idx = id;\n\n              if (typeof id === \"string\" && id.length > 0) {\n                idx = this._bnames.indexOf(id);\n              }\n\n              if (!(idx >= 0)) return undefined;\n              return this._bodies[idx];\n            }\n          }, {\n            key: \"particle\",\n            value: function particle(id) {\n              var idx = id;\n\n              if (typeof id === \"string\" && id.length > 0) {\n                idx = this._pnames.indexOf(id);\n              }\n\n              if (!(idx >= 0)) return undefined;\n              return this._particles[idx];\n            }\n          }, {\n            key: \"bodyIndex\",\n            value: function bodyIndex(name) {\n              return this._bnames.indexOf(name);\n            }\n          }, {\n            key: \"particleIndex\",\n            value: function particleIndex(name) {\n              return this._pnames.indexOf(name);\n            }\n          }, {\n            key: \"update\",\n            value: function update(ms) {\n              var dt = ms / 1000;\n\n              this._updateParticles(dt);\n\n              this._updateBodies(dt);\n            }\n          }, {\n            key: \"drawParticles\",\n            value: function drawParticles(fn) {\n              this._drawParticles = fn;\n            }\n          }, {\n            key: \"drawBodies\",\n            value: function drawBodies(fn) {\n              this._drawBodies = fn;\n            }\n          }, {\n            key: \"add\",\n            value: function add(p) {\n              var name = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : '';\n\n              if (p instanceof Body) {\n                this._bodies.push(p);\n\n                this._bnames.push(name);\n              } else {\n                this._particles.push(p);\n\n                this._pnames.push(name);\n              }\n\n              return this;\n            }\n          }, {\n            key: \"_index\",\n            value: function _index(fn, id) {\n              var index = 0;\n\n              if (typeof id === \"string\") {\n                index = fn(id);\n                if (index < 0) throw new Error(\"Cannot find index of \" + id + \". You can use particleIndex() or bodyIndex() function to check existence by name.\");\n              } else {\n                index = id;\n              }\n\n              return index;\n            }\n          }, {\n            key: \"removeBody\",\n            value: function removeBody(from) {\n              var count = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 1;\n\n              var index = this._index(this.bodyIndex.bind(this), from);\n\n              var param = index < 0 ? [index * -1 - 1, count] : [index, count];\n\n              this._bodies.splice(param[0], param[1]);\n\n              this._bnames.splice(param[0], param[1]);\n\n              return this;\n            }\n          }, {\n            key: \"removeParticle\",\n            value: function removeParticle(from) {\n              var count = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 1;\n\n              var index = this._index(this.particleIndex.bind(this), from);\n\n              var param = index < 0 ? [index * -1 - 1, count] : [index, count];\n\n              this._particles.splice(param[0], param[1]);\n\n              this._pnames.splice(param[0], param[1]);\n\n              return this;\n            }\n          }, {\n            key: \"integrate\",\n            value: function integrate(p, dt, prevDt) {\n              p.addForce(this._gravity);\n              p.verlet(dt, this._friction, prevDt);\n              return p;\n            }\n          }, {\n            key: \"_updateParticles\",\n            value: function _updateParticles(dt) {\n              for (var i = 0, len = this._particles.length; i < len; i++) {\n                var p = this._particles[i];\n                this.integrate(p, dt, this._lastTime);\n                World.boundConstraint(p, this._bound, this._damping);\n\n                for (var k = i + 1; k < len; k++) {\n                  if (i !== k) {\n                    var p2 = this._particles[k];\n                    p.collide(p2, this._damping);\n                  }\n                }\n\n                if (this._drawParticles) this._drawParticles(p, i);\n              }\n\n              this._lastTime = dt;\n            }\n          }, {\n            key: \"_updateBodies\",\n            value: function _updateBodies(dt) {\n              for (var i = 0, len = this._bodies.length; i < len; i++) {\n                var bds = this._bodies[i];\n\n                if (bds) {\n                  for (var k = 0, klen = bds.length; k < klen; k++) {\n                    var bk = bds[k];\n                    World.boundConstraint(bk, this._bound, this._damping);\n                    this.integrate(bk, dt, this._lastTime);\n                  }\n\n                  for (var _k = i + 1; _k < len; _k++) {\n                    bds.processBody(this._bodies[_k]);\n                  }\n\n                  for (var m = 0, mlen = this._particles.length; m < mlen; m++) {\n                    bds.processParticle(this._particles[m]);\n                  }\n\n                  bds.processEdges();\n                  if (this._drawBodies) this._drawBodies(bds, i);\n                }\n              }\n            }\n          }, {\n            key: \"bound\",\n            get: function get() {\n              return this._bound;\n            },\n            set: function set(bound) {\n              this._bound = bound;\n            }\n          }, {\n            key: \"gravity\",\n            get: function get() {\n              return this._gravity;\n            },\n            set: function set(g) {\n              this._gravity = g;\n            }\n          }, {\n            key: \"friction\",\n            get: function get() {\n              return this._friction;\n            },\n            set: function set(f) {\n              this._friction = f;\n            }\n          }, {\n            key: \"damping\",\n            get: function get() {\n              return this._damping;\n            },\n            set: function set(f) {\n              this._damping = f;\n            }\n          }, {\n            key: \"bodyCount\",\n            get: function get() {\n              return this._bodies.length;\n            }\n          }, {\n            key: \"particleCount\",\n            get: function get() {\n              return this._particles.length;\n            }\n          }], [{\n            key: \"edgeConstraint\",\n            value: function edgeConstraint(p1, p2, dist) {\n              var stiff = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : 1;\n              var precise = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : false;\n              var m1 = 1 / (p1.mass || 1);\n              var m2 = 1 / (p2.mass || 1);\n              var mm = m1 + m2;\n              var delta = p2.$subtract(p1);\n              var distSq = dist * dist;\n              var d = precise ? dist / delta.magnitude() - 1 : distSq / (delta.dot(delta) + distSq) - 0.5;\n              var f = delta.$multiply(d * stiff);\n              p1.subtract(f.$multiply(m1 / mm));\n              p2.add(f.$multiply(m2 / mm));\n              return p1;\n            }\n          }, {\n            key: \"boundConstraint\",\n            value: function boundConstraint(p, rect) {\n              var damping = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 0.75;\n              var bound = Num_1.Geom.boundingBox(rect);\n              var np = p.$min(bound[1].subtract(p.radius)).$max(bound[0].add(p.radius));\n\n              if (np[0] === bound[0][0] || np[0] === bound[1][0]) {\n                var c = p.changed.$multiply(damping);\n                p.previous = np.$subtract(new Pt_1.Pt(-c[0], c[1]));\n              } else if (np[1] === bound[0][1] || np[1] === bound[1][1]) {\n                var _c = p.changed.$multiply(damping);\n\n                p.previous = np.$subtract(new Pt_1.Pt(_c[0], -_c[1]));\n              }\n\n              p.to(np);\n            }\n          }]);\n\n          return World;\n        }();\n\n        exports.World = World;\n\n        var Particle = function (_Pt_1$Pt) {\n          _inherits(Particle, _Pt_1$Pt);\n\n          function Particle() {\n            var _ref;\n\n            _classCallCheck(this, Particle);\n\n            for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n              args[_key] = arguments[_key];\n            }\n\n            var _this = _possibleConstructorReturn(this, (_ref = Particle.__proto__ || Object.getPrototypeOf(Particle)).call.apply(_ref, [this].concat(args)));\n\n            _this._mass = 1;\n            _this._radius = 0;\n            _this._force = new Pt_1.Pt();\n            _this._prev = new Pt_1.Pt();\n            _this._lock = false;\n            _this._prev = _this.clone();\n            return _this;\n          }\n\n          _createClass(Particle, [{\n            key: \"size\",\n            value: function size(r) {\n              this._mass = r;\n              this._radius = r;\n              return this;\n            }\n          }, {\n            key: \"addForce\",\n            value: function addForce() {\n              var _force;\n\n              (_force = this._force).add.apply(_force, arguments);\n\n              return this._force;\n            }\n          }, {\n            key: \"verlet\",\n            value: function verlet(dt, friction, lastDt) {\n              if (this._lock) {\n                this.to(this._lockPt);\n              } else {\n                var lt = lastDt ? lastDt : dt;\n\n                var a = this._force.multiply(dt * (dt + lt) / 2);\n\n                var v = this.changed.multiply(friction * dt / lt).add(a);\n                this._prev = this.clone();\n                this.add(v);\n                this._force = new Pt_1.Pt();\n              }\n\n              return this;\n            }\n          }, {\n            key: \"hit\",\n            value: function hit() {\n              for (var _len2 = arguments.length, args = Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n                args[_key2] = arguments[_key2];\n              }\n\n              this._prev.subtract(new (Function.prototype.bind.apply(Pt_1.Pt, [null].concat(args)))().$divide(Math.sqrt(this._mass)));\n\n              return this;\n            }\n          }, {\n            key: \"collide\",\n            value: function collide(p2) {\n              var damp = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 1;\n              var p1 = this;\n              var dp = p1.$subtract(p2);\n              var distSq = dp.magnitudeSq();\n              var dr = p1.radius + p2.radius;\n\n              if (distSq < dr * dr) {\n                var c1 = p1.changed;\n                var c2 = p2.changed;\n                var dist = Math.sqrt(distSq);\n                var d = dp.$multiply((dist - dr) / dist / 2);\n                var np1 = p1.$subtract(d);\n                var np2 = p2.$add(d);\n                p1.to(np1);\n                p2.to(np2);\n                var f1 = damp * dp.dot(c1) / distSq;\n                var f2 = damp * dp.dot(c2) / distSq;\n                var dm1 = p1.mass / (p1.mass + p2.mass);\n                var dm2 = p2.mass / (p1.mass + p2.mass);\n                c1.add(new Pt_1.Pt(f2 * dp[0] - f1 * dp[0], f2 * dp[1] - f1 * dp[1]).$multiply(dm2));\n                c2.add(new Pt_1.Pt(f1 * dp[0] - f2 * dp[0], f1 * dp[1] - f2 * dp[1]).$multiply(dm1));\n                p1.previous = p1.$subtract(c1);\n                p2.previous = p2.$subtract(c2);\n              }\n            }\n          }, {\n            key: \"toString\",\n            value: function toString() {\n              return \"Particle: \" + this[0] + \" \" + this[1] + \" | previous \" + this._prev[0] + \" \" + this._prev[1] + \" | mass \" + this._mass;\n            }\n          }, {\n            key: \"mass\",\n            get: function get() {\n              return this._mass;\n            },\n            set: function set(m) {\n              this._mass = m;\n            }\n          }, {\n            key: \"radius\",\n            get: function get() {\n              return this._radius;\n            },\n            set: function set(f) {\n              this._radius = f;\n            }\n          }, {\n            key: \"previous\",\n            get: function get() {\n              return this._prev;\n            },\n            set: function set(p) {\n              this._prev = p;\n            }\n          }, {\n            key: \"force\",\n            get: function get() {\n              return this._force;\n            },\n            set: function set(g) {\n              this._force = g;\n            }\n          }, {\n            key: \"body\",\n            get: function get() {\n              return this._body;\n            },\n            set: function set(b) {\n              this._body = b;\n            }\n          }, {\n            key: \"lock\",\n            get: function get() {\n              return this._lock;\n            },\n            set: function set(b) {\n              this._lock = b;\n              this._lockPt = new Pt_1.Pt(this);\n            }\n          }, {\n            key: \"changed\",\n            get: function get() {\n              return this.$subtract(this._prev);\n            }\n          }, {\n            key: \"position\",\n            set: function set(p) {\n              this.previous.to(this);\n              if (this._lock) this._lockPt = p;\n              this.to(p);\n            }\n          }]);\n\n          return Particle;\n        }(Pt_1.Pt);\n\n        exports.Particle = Particle;\n\n        var Body = function (_Pt_1$Group) {\n          _inherits(Body, _Pt_1$Group);\n\n          function Body() {\n            _classCallCheck(this, Body);\n\n            var _this2 = _possibleConstructorReturn(this, (Body.__proto__ || Object.getPrototypeOf(Body)).call(this));\n\n            _this2._cs = [];\n            _this2._stiff = 1;\n            _this2._locks = {};\n            _this2._mass = 1;\n            return _this2;\n          }\n\n          _createClass(Body, [{\n            key: \"init\",\n            value: function init(body) {\n              var stiff = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 1;\n              var c = new Pt_1.Pt();\n              var _iteratorNormalCompletion = true;\n              var _didIteratorError = false;\n              var _iteratorError = undefined;\n\n              try {\n                for (var _iterator = body[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n                  var li = _step.value;\n                  var p = new Particle(li);\n                  p.body = this;\n                  c.add(li);\n                  this.push(p);\n                }\n              } catch (err) {\n                _didIteratorError = true;\n                _iteratorError = err;\n              } finally {\n                try {\n                  if (!_iteratorNormalCompletion && _iterator.return) {\n                    _iterator.return();\n                  }\n                } finally {\n                  if (_didIteratorError) {\n                    throw _iteratorError;\n                  }\n                }\n              }\n\n              this._stiff = stiff;\n              return this;\n            }\n          }, {\n            key: \"autoMass\",\n            value: function autoMass() {\n              this.mass = Math.sqrt(Op_1.Polygon.area(this)) / 10;\n              return this;\n            }\n          }, {\n            key: \"link\",\n            value: function link(index1, index2, stiff) {\n              if (index1 < 0 || index1 >= this.length) throw new Error(\"index1 is not in the Group's indices\");\n              if (index2 < 0 || index2 >= this.length) throw new Error(\"index1 is not in the Group's indices\");\n              var d = this[index1].$subtract(this[index2]).magnitude();\n\n              this._cs.push([index1, index2, d, stiff || this._stiff]);\n\n              return this;\n            }\n          }, {\n            key: \"linkAll\",\n            value: function linkAll(stiff) {\n              var half = this.length / 2;\n\n              for (var i = 0, len = this.length; i < len; i++) {\n                var n = i >= len - 1 ? 0 : i + 1;\n                this.link(i, n, stiff);\n\n                if (len > 4) {\n                  var nd = Math.floor(half / 2) + 1;\n                  var n2 = i >= len - nd ? i % len : i + nd;\n                  this.link(i, n2, stiff);\n                }\n\n                if (i <= half - 1) {\n                  this.link(i, Math.min(this.length - 1, i + Math.floor(half)));\n                }\n              }\n            }\n          }, {\n            key: \"linksToLines\",\n            value: function linksToLines() {\n              var gs = [];\n\n              for (var i = 0, len = this._cs.length; i < len; i++) {\n                var ln = this._cs[i];\n                gs.push(new Pt_1.Group(this[ln[0]], this[ln[1]]));\n              }\n\n              return gs;\n            }\n          }, {\n            key: \"processEdges\",\n            value: function processEdges() {\n              for (var i = 0, len = this._cs.length; i < len; i++) {\n                var _cs$i = _slicedToArray(this._cs[i], 4),\n                    m = _cs$i[0],\n                    n = _cs$i[1],\n                    d = _cs$i[2],\n                    s = _cs$i[3];\n\n                World.edgeConstraint(this[m], this[n], d, s);\n              }\n            }\n          }, {\n            key: \"processBody\",\n            value: function processBody(b) {\n              var b1 = this;\n              var b2 = b;\n              var hit = Op_1.Polygon.hasIntersectPolygon(b1, b2);\n\n              if (hit) {\n                var cv = hit.normal.$multiply(hit.dist);\n                var t = void 0;\n                var eg = hit.edge;\n\n                if (Math.abs(eg[0][0] - eg[1][0]) > Math.abs(eg[0][1] - eg[1][1])) {\n                  t = (hit.vertex[0] - cv[0] - eg[0][0]) / (eg[1][0] - eg[0][0]);\n                } else {\n                  t = (hit.vertex[1] - cv[1] - eg[0][1]) / (eg[1][1] - eg[0][1]);\n                }\n\n                var lambda = 1 / (t * t + (1 - t) * (1 - t));\n                var m0 = hit.vertex.body.mass || 1;\n                var m1 = hit.edge[0].body.mass || 1;\n                var mr0 = m0 / (m0 + m1);\n                var mr1 = m1 / (m0 + m1);\n                eg[0].subtract(cv.$multiply(mr0 * (1 - t) * lambda / 2));\n                eg[1].subtract(cv.$multiply(mr0 * t * lambda / 2));\n                hit.vertex.add(cv.$multiply(mr1));\n              }\n            }\n          }, {\n            key: \"processParticle\",\n            value: function processParticle(b) {\n              var b1 = this;\n              var b2 = b;\n              var hit = Op_1.Polygon.hasIntersectCircle(b1, Op_1.Circle.fromCenter(b, b.radius));\n\n              if (hit) {\n                var cv = hit.normal.$multiply(hit.dist);\n                var t = void 0;\n                var eg = hit.edge;\n\n                if (Math.abs(eg[0][0] - eg[1][0]) > Math.abs(eg[0][1] - eg[1][1])) {\n                  t = (hit.vertex[0] - cv[0] - eg[0][0]) / (eg[1][0] - eg[0][0]);\n                } else {\n                  t = (hit.vertex[1] - cv[1] - eg[0][1]) / (eg[1][1] - eg[0][1]);\n                }\n\n                var lambda = 1 / (t * t + (1 - t) * (1 - t));\n                var m0 = hit.vertex.mass || b2.mass || 1;\n                var m1 = hit.edge[0].body.mass || 1;\n                var mr0 = m0 / (m0 + m1);\n                var mr1 = m1 / (m0 + m1);\n                eg[0].subtract(cv.$multiply(mr0 * (1 - t) * lambda / 2));\n                eg[1].subtract(cv.$multiply(mr0 * t * lambda / 2));\n                var c1 = b.changed.add(cv.$multiply(mr1));\n                b.previous = b.$subtract(c1);\n              }\n            }\n          }, {\n            key: \"mass\",\n            get: function get() {\n              return this._mass;\n            },\n            set: function set(m) {\n              this._mass = m;\n\n              for (var i = 0, len = this.length; i < len; i++) {\n                this[i].mass = this._mass;\n              }\n            }\n          }], [{\n            key: \"fromGroup\",\n            value: function fromGroup(body) {\n              var stiff = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 1;\n              var autoLink = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : true;\n              var autoMass = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : true;\n              var b = new Body().init(body);\n              if (autoLink) b.linkAll(stiff);\n              if (autoMass) b.autoMass();\n              return b;\n            }\n          }]);\n\n          return Body;\n        }(Pt_1.Group);\n\n        exports.Body = Body;\n        /***/\n      },\n\n      /***/\n      \"./src/Play.ts\":\n      /*!*********************!*\\\n        !*** ./src/Play.ts ***!\n        \\*********************/\n\n      /*! no static exports found */\n\n      /***/\n      function srcPlayTs(module, exports, __webpack_require__) {\n        \"use strict\";\n\n        var _createClass = function () {\n          function defineProperties(target, props) {\n            for (var i = 0; i < props.length; i++) {\n              var descriptor = props[i];\n              descriptor.enumerable = descriptor.enumerable || false;\n              descriptor.configurable = true;\n              if (\"value\" in descriptor) descriptor.writable = true;\n              Object.defineProperty(target, descriptor.key, descriptor);\n            }\n          }\n\n          return function (Constructor, protoProps, staticProps) {\n            if (protoProps) defineProperties(Constructor.prototype, protoProps);\n            if (staticProps) defineProperties(Constructor, staticProps);\n            return Constructor;\n          };\n        }();\n\n        function _classCallCheck(instance, Constructor) {\n          if (!(instance instanceof Constructor)) {\n            throw new TypeError(\"Cannot call a class as a function\");\n          }\n        }\n\n        var __awaiter = undefined && undefined.__awaiter || function (thisArg, _arguments, P, generator) {\n          function adopt(value) {\n            return value instanceof P ? value : new P(function (resolve) {\n              resolve(value);\n            });\n          }\n\n          return new (P || (P = Promise))(function (resolve, reject) {\n            function fulfilled(value) {\n              try {\n                step(generator.next(value));\n              } catch (e) {\n                reject(e);\n              }\n            }\n\n            function rejected(value) {\n              try {\n                step(generator[\"throw\"](value));\n              } catch (e) {\n                reject(e);\n              }\n            }\n\n            function step(result) {\n              result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected);\n            }\n\n            step((generator = generator.apply(thisArg, _arguments || [])).next());\n          });\n        };\n\n        Object.defineProperty(exports, \"__esModule\", {\n          value: true\n        });\n        exports.Sound = exports.Tempo = void 0;\n\n        var Pt_1 = __webpack_require__(\n        /*! ./Pt */\n        \"./src/Pt.ts\");\n\n        var Num_1 = __webpack_require__(\n        /*! ./Num */\n        \"./src/Num.ts\");\n\n        var Tempo = function () {\n          function Tempo(bpm) {\n            _classCallCheck(this, Tempo);\n\n            this._listeners = {};\n            this._listenerInc = 0;\n            this.bpm = bpm;\n          }\n\n          _createClass(Tempo, [{\n            key: \"_createID\",\n            value: function _createID(listener) {\n              var id = '';\n\n              if (typeof listener === 'function') {\n                id = '_b' + this._listenerInc++;\n              } else {\n                id = listener.name || '_b' + this._listenerInc++;\n              }\n\n              return id;\n            }\n          }, {\n            key: \"every\",\n            value: function every(beats) {\n              var self = this;\n              var p = Array.isArray(beats) ? beats[0] : beats;\n              return {\n                start: function start(fn) {\n                  var offset = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n                  var name = arguments[2];\n\n                  var id = name || self._createID(fn);\n\n                  self._listeners[id] = {\n                    name: id,\n                    beats: beats,\n                    period: p,\n                    index: 0,\n                    offset: offset,\n                    duration: -1,\n                    continuous: false,\n                    fn: fn\n                  };\n                  return this;\n                },\n                progress: function progress(fn) {\n                  var offset = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n                  var name = arguments[2];\n\n                  var id = name || self._createID(fn);\n\n                  self._listeners[id] = {\n                    name: id,\n                    beats: beats,\n                    period: p,\n                    index: 0,\n                    offset: offset,\n                    duration: -1,\n                    continuous: true,\n                    fn: fn\n                  };\n                  return this;\n                }\n              };\n            }\n          }, {\n            key: \"track\",\n            value: function track(time) {\n              for (var k in this._listeners) {\n                if (this._listeners.hasOwnProperty(k)) {\n                  var li = this._listeners[k];\n\n                  var _t = li.offset ? time + li.offset : time;\n\n                  var ms = li.period * this._ms;\n                  var isStart = false;\n\n                  if (_t > li.duration + ms) {\n                    li.duration = _t - _t % this._ms;\n\n                    if (Array.isArray(li.beats)) {\n                      li.index = (li.index + 1) % li.beats.length;\n                      li.period = li.beats[li.index];\n                    }\n\n                    isStart = true;\n                  }\n\n                  var count = Math.max(0, Math.ceil(Math.floor(li.duration / this._ms) / li.period));\n                  var params = li.continuous ? [count, Num_1.Num.clamp((_t - li.duration) / ms, 0, 1), _t, isStart] : [count];\n\n                  if (li.continuous || isStart) {\n                    var done = li.fn.apply(li, params);\n                    if (done) delete this._listeners[li.name];\n                  }\n                }\n              }\n            }\n          }, {\n            key: \"stop\",\n            value: function stop(name) {\n              if (this._listeners[name]) delete this._listeners[name];\n            }\n          }, {\n            key: \"animate\",\n            value: function animate(time, ftime) {\n              this.track(time);\n            }\n          }, {\n            key: \"resize\",\n            value: function resize(bound, evt) {\n              return;\n            }\n          }, {\n            key: \"action\",\n            value: function action(type, px, py, evt) {\n              return;\n            }\n          }, {\n            key: \"bpm\",\n            get: function get() {\n              return this._bpm;\n            },\n            set: function set(n) {\n              this._bpm = n;\n              this._ms = 60000 / this._bpm;\n            }\n          }, {\n            key: \"ms\",\n            get: function get() {\n              return this._ms;\n            },\n            set: function set(n) {\n              this._bpm = Math.floor(60000 / n);\n              this._ms = 60000 / this._bpm;\n            }\n          }], [{\n            key: \"fromBeat\",\n            value: function fromBeat(ms) {\n              return new Tempo(60000 / ms);\n            }\n          }]);\n\n          return Tempo;\n        }();\n\n        exports.Tempo = Tempo;\n\n        var Sound = function () {\n          function Sound(type) {\n            _classCallCheck(this, Sound);\n\n            this._playing = false;\n            this._type = type;\n\n            var _ctx = window.AudioContext || window.webkitAudioContext || false;\n\n            if (!_ctx) throw new Error(\"Your browser doesn't support Web Audio. (No AudioContext)\");\n            this._ctx = _ctx ? new _ctx() : undefined;\n          }\n\n          _createClass(Sound, [{\n            key: \"createBuffer\",\n            value: function createBuffer(buf) {\n              var _this = this;\n\n              this._node = this._ctx.createBufferSource();\n              if (buf !== undefined) this._buffer = buf;\n              this._node.buffer = this._buffer;\n\n              this._node.onended = function () {\n                _this._playing = false;\n              };\n\n              return this;\n            }\n          }, {\n            key: \"_gen\",\n            value: function _gen(type, val) {\n              this._node = this._ctx.createOscillator();\n              var osc = this._node;\n              osc.type = type;\n\n              if (type === 'custom') {\n                osc.setPeriodicWave(val);\n              } else {\n                osc.frequency.value = val;\n              }\n\n              return this;\n            }\n          }, {\n            key: \"connect\",\n            value: function connect(node) {\n              this._node.connect(node);\n\n              return this;\n            }\n          }, {\n            key: \"setOutputNode\",\n            value: function setOutputNode(outputNode) {\n              this._outputNode = outputNode;\n              return this;\n            }\n          }, {\n            key: \"removeOutputNode\",\n            value: function removeOutputNode() {\n              this._outputNode = null;\n              return this;\n            }\n          }, {\n            key: \"analyze\",\n            value: function analyze() {\n              var size = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 256;\n              var minDb = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : -100;\n              var maxDb = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : -30;\n              var smooth = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : 0.8;\n\n              var a = this._ctx.createAnalyser();\n\n              a.fftSize = size * 2;\n              a.minDecibels = minDb;\n              a.maxDecibels = maxDb;\n              a.smoothingTimeConstant = smooth;\n              this.analyzer = {\n                node: a,\n                size: a.frequencyBinCount,\n                data: new Uint8Array(a.frequencyBinCount)\n              };\n\n              this._node.connect(this.analyzer.node);\n\n              return this;\n            }\n          }, {\n            key: \"_domain\",\n            value: function _domain(time) {\n              if (this.analyzer) {\n                if (time) {\n                  this.analyzer.node.getByteTimeDomainData(this.analyzer.data);\n                } else {\n                  this.analyzer.node.getByteFrequencyData(this.analyzer.data);\n                }\n\n                return this.analyzer.data;\n              }\n\n              return new Uint8Array(0);\n            }\n          }, {\n            key: \"_domainTo\",\n            value: function _domainTo(time, size) {\n              var position = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : [0, 0];\n              var trim = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : [0, 0];\n              var data = time ? this.timeDomain() : this.freqDomain();\n              var g = new Pt_1.Group();\n\n              for (var i = trim[0], len = data.length - trim[1]; i < len; i++) {\n                g.push(new Pt_1.Pt(position[0] + size[0] * i / len, position[1] + size[1] * data[i] / 255));\n              }\n\n              return g;\n            }\n          }, {\n            key: \"timeDomain\",\n            value: function timeDomain() {\n              return this._domain(true);\n            }\n          }, {\n            key: \"timeDomainTo\",\n            value: function timeDomainTo(size) {\n              var position = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : [0, 0];\n              var trim = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : [0, 0];\n              return this._domainTo(true, size, position, trim);\n            }\n          }, {\n            key: \"freqDomain\",\n            value: function freqDomain() {\n              return this._domain(false);\n            }\n          }, {\n            key: \"freqDomainTo\",\n            value: function freqDomainTo(size) {\n              var position = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : [0, 0];\n              var trim = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : [0, 0];\n              return this._domainTo(false, size, position, trim);\n            }\n          }, {\n            key: \"reset\",\n            value: function reset() {\n              this.stop();\n\n              this._node.disconnect();\n\n              return this;\n            }\n          }, {\n            key: \"start\",\n            value: function start() {\n              var timeAt = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;\n              if (this._ctx.state === 'suspended') this._ctx.resume();\n\n              if (this._type === \"file\") {\n                if (!!this._buffer) {\n                  this._node.start(timeAt);\n\n                  this._timestamp = this._ctx.currentTime + timeAt;\n                } else {\n                  this._source.play();\n\n                  if (timeAt > 0) this._source.currentTime = timeAt;\n                }\n              } else if (this._type === \"gen\") {\n                this._gen(this._node.type, this._node.frequency.value);\n\n                this._node.start();\n\n                if (this.analyzer) this._node.connect(this.analyzer.node);\n              }\n\n              (this._outputNode || this._node).connect(this._ctx.destination);\n\n              this._playing = true;\n              return this;\n            }\n          }, {\n            key: \"stop\",\n            value: function stop() {\n              if (this._playing) (this._outputNode || this._node).disconnect(this._ctx.destination);\n\n              if (this._type === \"file\") {\n                if (!!this._buffer) {\n                  if (this.progress < 1) this._node.stop();\n                } else {\n                  this._source.pause();\n                }\n              } else if (this._type === \"gen\") {\n                this._node.stop();\n              } else if (this._type === \"input\") {\n                this._stream.getAudioTracks().forEach(function (track) {\n                  return track.stop();\n                });\n              }\n\n              this._playing = false;\n              return this;\n            }\n          }, {\n            key: \"toggle\",\n            value: function toggle() {\n              if (this._playing) {\n                this.stop();\n              } else {\n                this.start();\n              }\n\n              return this;\n            }\n          }, {\n            key: \"ctx\",\n            get: function get() {\n              return this._ctx;\n            }\n          }, {\n            key: \"node\",\n            get: function get() {\n              return this._node;\n            }\n          }, {\n            key: \"outputNode\",\n            get: function get() {\n              return this._outputNode;\n            }\n          }, {\n            key: \"stream\",\n            get: function get() {\n              return this._stream;\n            }\n          }, {\n            key: \"source\",\n            get: function get() {\n              return this._source;\n            }\n          }, {\n            key: \"buffer\",\n            get: function get() {\n              return this._buffer;\n            },\n            set: function set(b) {\n              this._buffer = b;\n            }\n          }, {\n            key: \"type\",\n            get: function get() {\n              return this._type;\n            }\n          }, {\n            key: \"playing\",\n            get: function get() {\n              return this._playing;\n            }\n          }, {\n            key: \"progress\",\n            get: function get() {\n              var dur = 0;\n              var curr = 0;\n\n              if (!!this._buffer) {\n                dur = this._buffer.duration;\n                curr = this._timestamp ? this._ctx.currentTime - this._timestamp : 0;\n              } else {\n                dur = this._source.duration;\n                curr = this._source.currentTime;\n              }\n\n              return curr / dur;\n            }\n          }, {\n            key: \"playable\",\n            get: function get() {\n              return this._type === \"input\" ? this._node !== undefined : !!this._buffer || this._source.readyState === 4;\n            }\n          }, {\n            key: \"binSize\",\n            get: function get() {\n              return this.analyzer.size;\n            }\n          }, {\n            key: \"sampleRate\",\n            get: function get() {\n              return this._ctx.sampleRate;\n            }\n          }, {\n            key: \"frequency\",\n            get: function get() {\n              return this._type === \"gen\" ? this._node.frequency.value : 0;\n            },\n            set: function set(f) {\n              if (this._type === \"gen\") this._node.frequency.value = f;\n            }\n          }], [{\n            key: \"from\",\n            value: function from(node, ctx) {\n              var type = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : \"gen\";\n              var stream = arguments[3];\n              var s = new Sound(type);\n              s._node = node;\n              s._ctx = ctx;\n              if (stream) s._stream = stream;\n              return s;\n            }\n          }, {\n            key: \"load\",\n            value: function load(source) {\n              var crossOrigin = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : \"anonymous\";\n              return new Promise(function (resolve, reject) {\n                var s = new Sound(\"file\");\n                s._source = typeof source === 'string' ? new Audio(source) : source;\n                s._source.autoplay = false;\n                s._source.crossOrigin = crossOrigin;\n\n                s._source.addEventListener(\"ended\", function () {\n                  s._playing = false;\n                });\n\n                s._source.addEventListener('error', function () {\n                  reject(\"Error loading sound\");\n                });\n\n                s._source.addEventListener('canplaythrough', function () {\n                  s._node = s._ctx.createMediaElementSource(s._source);\n                  resolve(s);\n                });\n              });\n            }\n          }, {\n            key: \"loadAsBuffer\",\n            value: function loadAsBuffer(url) {\n              return new Promise(function (resolve, reject) {\n                var request = new XMLHttpRequest();\n                request.open('GET', url, true);\n                request.responseType = 'arraybuffer';\n                var s = new Sound(\"file\");\n\n                request.onload = function () {\n                  s._ctx.decodeAudioData(request.response, function (buffer) {\n                    s.createBuffer(buffer);\n                    resolve(s);\n                  }, function (err) {\n                    return reject(\"Error decoding audio\");\n                  });\n                };\n\n                request.send();\n              });\n            }\n          }, {\n            key: \"generate\",\n            value: function generate(type, val) {\n              var s = new Sound(\"gen\");\n              return s._gen(type, val);\n            }\n          }, {\n            key: \"input\",\n            value: function input(constraint) {\n              return __awaiter(this, void 0, void 0, _regeneratorRuntime.mark(function _callee() {\n                var s, c;\n                return _regeneratorRuntime.wrap(function _callee$(_context) {\n                  while (1) {\n                    switch (_context.prev = _context.next) {\n                      case 0:\n                        _context.prev = 0;\n                        s = new Sound(\"input\");\n\n                        if (s) {\n                          _context.next = 4;\n                          break;\n                        }\n\n                        return _context.abrupt(\"return\", undefined);\n\n                      case 4:\n                        c = constraint ? constraint : {\n                          audio: true,\n                          video: false\n                        };\n                        _context.next = 7;\n                        return navigator.mediaDevices.getUserMedia(c);\n\n                      case 7:\n                        s._stream = _context.sent;\n                        s._node = s._ctx.createMediaStreamSource(s._stream);\n                        return _context.abrupt(\"return\", s);\n\n                      case 12:\n                        _context.prev = 12;\n                        _context.t0 = _context[\"catch\"](0);\n                        console.error(\"Cannot get audio from input device.\");\n                        return _context.abrupt(\"return\", Promise.resolve(null));\n\n                      case 16:\n                      case \"end\":\n                        return _context.stop();\n                    }\n                  }\n                }, _callee, this, [[0, 12]]);\n              }));\n            }\n          }]);\n\n          return Sound;\n        }();\n\n        exports.Sound = Sound;\n        /***/\n      },\n\n      /***/\n      \"./src/Pt.ts\":\n      /*!*******************!*\\\n        !*** ./src/Pt.ts ***!\n        \\*******************/\n\n      /*! no static exports found */\n\n      /***/\n      function srcPtTs(module, exports, __webpack_require__) {\n        \"use strict\";\n        /*! Source code licensed under Apache License 2.0. Copyright  2017-current William Ngan and contributors. (https://github.com/williamngan/pts) */\n\n        var _createClass = function () {\n          function defineProperties(target, props) {\n            for (var i = 0; i < props.length; i++) {\n              var descriptor = props[i];\n              descriptor.enumerable = descriptor.enumerable || false;\n              descriptor.configurable = true;\n              if (\"value\" in descriptor) descriptor.writable = true;\n              Object.defineProperty(target, descriptor.key, descriptor);\n            }\n          }\n\n          return function (Constructor, protoProps, staticProps) {\n            if (protoProps) defineProperties(Constructor.prototype, protoProps);\n            if (staticProps) defineProperties(Constructor, staticProps);\n            return Constructor;\n          };\n        }();\n\n        function _toConsumableArray(arr) {\n          if (Array.isArray(arr)) {\n            for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) {\n              arr2[i] = arr[i];\n            }\n\n            return arr2;\n          } else {\n            return Array.from(arr);\n          }\n        }\n\n        function _extendableBuiltin3(cls) {\n          function ExtendableBuiltin() {\n            var instance = Reflect.construct(cls, Array.from(arguments));\n            Object.setPrototypeOf(instance, Object.getPrototypeOf(this));\n            return instance;\n          }\n\n          ExtendableBuiltin.prototype = Object.create(cls.prototype, {\n            constructor: {\n              value: cls,\n              enumerable: false,\n              writable: true,\n              configurable: true\n            }\n          });\n\n          if (Object.setPrototypeOf) {\n            Object.setPrototypeOf(ExtendableBuiltin, cls);\n          } else {\n            ExtendableBuiltin.__proto__ = cls;\n          }\n\n          return ExtendableBuiltin;\n        }\n\n        function _classCallCheck(instance, Constructor) {\n          if (!(instance instanceof Constructor)) {\n            throw new TypeError(\"Cannot call a class as a function\");\n          }\n        }\n\n        function _possibleConstructorReturn(self, call) {\n          if (!self) {\n            throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n          }\n\n          return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self;\n        }\n\n        function _inherits(subClass, superClass) {\n          if (typeof superClass !== \"function\" && superClass !== null) {\n            throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass);\n          }\n\n          subClass.prototype = Object.create(superClass && superClass.prototype, {\n            constructor: {\n              value: subClass,\n              enumerable: false,\n              writable: true,\n              configurable: true\n            }\n          });\n          if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;\n        }\n\n        function _extendableBuiltin(cls) {\n          function ExtendableBuiltin() {\n            var instance = Reflect.construct(cls, Array.from(arguments));\n            Object.setPrototypeOf(instance, Object.getPrototypeOf(this));\n            return instance;\n          }\n\n          ExtendableBuiltin.prototype = Object.create(cls.prototype, {\n            constructor: {\n              value: cls,\n              enumerable: false,\n              writable: true,\n              configurable: true\n            }\n          });\n\n          if (Object.setPrototypeOf) {\n            Object.setPrototypeOf(ExtendableBuiltin, cls);\n          } else {\n            ExtendableBuiltin.__proto__ = cls;\n          }\n\n          return ExtendableBuiltin;\n        }\n\n        Object.defineProperty(exports, \"__esModule\", {\n          value: true\n        });\n        exports.Bound = exports.Group = exports.Pt = void 0;\n\n        var Util_1 = __webpack_require__(\n        /*! ./Util */\n        \"./src/Util.ts\");\n\n        var Num_1 = __webpack_require__(\n        /*! ./Num */\n        \"./src/Num.ts\");\n\n        var LinearAlgebra_1 = __webpack_require__(\n        /*! ./LinearAlgebra */\n        \"./src/LinearAlgebra.ts\");\n\n        var Pt = function (_extendableBuiltin2) {\n          _inherits(Pt, _extendableBuiltin2);\n\n          function Pt() {\n            _classCallCheck(this, Pt);\n\n            for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n              args[_key] = arguments[_key];\n            }\n\n            if (args.length === 1 && typeof args[0] == \"number\") {\n              var _this = _possibleConstructorReturn(this, (Pt.__proto__ || Object.getPrototypeOf(Pt)).call(this, args[0]));\n            } else {\n              var _this = _possibleConstructorReturn(this, (Pt.__proto__ || Object.getPrototypeOf(Pt)).call(this, args.length > 0 ? Util_1.Util.getArgs(args) : [0, 0]));\n            }\n\n            return _possibleConstructorReturn(_this);\n          }\n\n          _createClass(Pt, [{\n            key: \"clone\",\n            value: function clone() {\n              return new Pt(this);\n            }\n          }, {\n            key: \"equals\",\n            value: function equals(p) {\n              var threshold = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0.000001;\n\n              for (var i = 0, len = this.length; i < len; i++) {\n                if (Math.abs(this[i] - p[i]) > threshold) return false;\n              }\n\n              return true;\n            }\n          }, {\n            key: \"to\",\n            value: function to() {\n              for (var _len2 = arguments.length, args = Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n                args[_key2] = arguments[_key2];\n              }\n\n              var p = Util_1.Util.getArgs(args);\n\n              for (var i = 0, len = Math.min(this.length, p.length); i < len; i++) {\n                this[i] = p[i];\n              }\n\n              return this;\n            }\n          }, {\n            key: \"$to\",\n            value: function $to() {\n              var _clone;\n\n              return (_clone = this.clone()).to.apply(_clone, arguments);\n            }\n          }, {\n            key: \"toAngle\",\n            value: function toAngle(radian, magnitude) {\n              var anchorFromPt = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;\n              var m = magnitude != undefined ? magnitude : this.magnitude();\n              var change = [Math.cos(radian) * m, Math.sin(radian) * m];\n              return anchorFromPt ? this.add(change) : this.to(change);\n            }\n          }, {\n            key: \"op\",\n            value: function op(fn) {\n              var self = this;\n              return function () {\n                for (var _len3 = arguments.length, params = Array(_len3), _key3 = 0; _key3 < _len3; _key3++) {\n                  params[_key3] = arguments[_key3];\n                }\n\n                return fn.apply(undefined, [self].concat(params));\n              };\n            }\n          }, {\n            key: \"ops\",\n            value: function ops(fns) {\n              var _ops = [];\n\n              for (var i = 0, len = fns.length; i < len; i++) {\n                _ops.push(this.op(fns[i]));\n              }\n\n              return _ops;\n            }\n          }, {\n            key: \"$take\",\n            value: function $take(axis) {\n              var p = [];\n\n              for (var i = 0, len = axis.length; i < len; i++) {\n                p.push(this[axis[i]] || 0);\n              }\n\n              return new Pt(p);\n            }\n          }, {\n            key: \"$concat\",\n            value: function $concat() {\n              for (var _len4 = arguments.length, args = Array(_len4), _key4 = 0; _key4 < _len4; _key4++) {\n                args[_key4] = arguments[_key4];\n              }\n\n              return new Pt(this.toArray().concat(Util_1.Util.getArgs(args)));\n            }\n          }, {\n            key: \"add\",\n            value: function add() {\n              for (var _len5 = arguments.length, args = Array(_len5), _key5 = 0; _key5 < _len5; _key5++) {\n                args[_key5] = arguments[_key5];\n              }\n\n              args.length === 1 && typeof args[0] == \"number\" ? LinearAlgebra_1.Vec.add(this, args[0]) : LinearAlgebra_1.Vec.add(this, Util_1.Util.getArgs(args));\n              return this;\n            }\n          }, {\n            key: \"$add\",\n            value: function $add() {\n              var _clone2;\n\n              return (_clone2 = this.clone()).add.apply(_clone2, arguments);\n            }\n          }, {\n            key: \"subtract\",\n            value: function subtract() {\n              for (var _len6 = arguments.length, args = Array(_len6), _key6 = 0; _key6 < _len6; _key6++) {\n                args[_key6] = arguments[_key6];\n              }\n\n              args.length === 1 && typeof args[0] == \"number\" ? LinearAlgebra_1.Vec.subtract(this, args[0]) : LinearAlgebra_1.Vec.subtract(this, Util_1.Util.getArgs(args));\n              return this;\n            }\n          }, {\n            key: \"$subtract\",\n            value: function $subtract() {\n              var _clone3;\n\n              return (_clone3 = this.clone()).subtract.apply(_clone3, arguments);\n            }\n          }, {\n            key: \"multiply\",\n            value: function multiply() {\n              for (var _len7 = arguments.length, args = Array(_len7), _key7 = 0; _key7 < _len7; _key7++) {\n                args[_key7] = arguments[_key7];\n              }\n\n              args.length === 1 && typeof args[0] == \"number\" ? LinearAlgebra_1.Vec.multiply(this, args[0]) : LinearAlgebra_1.Vec.multiply(this, Util_1.Util.getArgs(args));\n              return this;\n            }\n          }, {\n            key: \"$multiply\",\n            value: function $multiply() {\n              var _clone4;\n\n              return (_clone4 = this.clone()).multiply.apply(_clone4, arguments);\n            }\n          }, {\n            key: \"divide\",\n            value: function divide() {\n              for (var _len8 = arguments.length, args = Array(_len8), _key8 = 0; _key8 < _len8; _key8++) {\n                args[_key8] = arguments[_key8];\n              }\n\n              args.length === 1 && typeof args[0] == \"number\" ? LinearAlgebra_1.Vec.divide(this, args[0]) : LinearAlgebra_1.Vec.divide(this, Util_1.Util.getArgs(args));\n              return this;\n            }\n          }, {\n            key: \"$divide\",\n            value: function $divide() {\n              var _clone5;\n\n              return (_clone5 = this.clone()).divide.apply(_clone5, arguments);\n            }\n          }, {\n            key: \"magnitudeSq\",\n            value: function magnitudeSq() {\n              return LinearAlgebra_1.Vec.dot(this, this);\n            }\n          }, {\n            key: \"magnitude\",\n            value: function magnitude() {\n              return LinearAlgebra_1.Vec.magnitude(this);\n            }\n          }, {\n            key: \"unit\",\n            value: function unit() {\n              var magnitude = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : undefined;\n              LinearAlgebra_1.Vec.unit(this, magnitude);\n              return this;\n            }\n          }, {\n            key: \"$unit\",\n            value: function $unit() {\n              var magnitude = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : undefined;\n              return this.clone().unit(magnitude);\n            }\n          }, {\n            key: \"dot\",\n            value: function dot() {\n              for (var _len9 = arguments.length, args = Array(_len9), _key9 = 0; _key9 < _len9; _key9++) {\n                args[_key9] = arguments[_key9];\n              }\n\n              return LinearAlgebra_1.Vec.dot(this, Util_1.Util.getArgs(args));\n            }\n          }, {\n            key: \"$cross2D\",\n            value: function $cross2D() {\n              for (var _len10 = arguments.length, args = Array(_len10), _key10 = 0; _key10 < _len10; _key10++) {\n                args[_key10] = arguments[_key10];\n              }\n\n              return LinearAlgebra_1.Vec.cross2D(this, Util_1.Util.getArgs(args));\n            }\n          }, {\n            key: \"$cross\",\n            value: function $cross() {\n              for (var _len11 = arguments.length, args = Array(_len11), _key11 = 0; _key11 < _len11; _key11++) {\n                args[_key11] = arguments[_key11];\n              }\n\n              return LinearAlgebra_1.Vec.cross(this, Util_1.Util.getArgs(args));\n            }\n          }, {\n            key: \"$project\",\n            value: function $project() {\n              return this.$multiply(this.dot.apply(this, arguments) / this.magnitudeSq());\n            }\n          }, {\n            key: \"projectScalar\",\n            value: function projectScalar() {\n              return this.dot.apply(this, arguments) / this.magnitude();\n            }\n          }, {\n            key: \"abs\",\n            value: function abs() {\n              LinearAlgebra_1.Vec.abs(this);\n              return this;\n            }\n          }, {\n            key: \"$abs\",\n            value: function $abs() {\n              return this.clone().abs();\n            }\n          }, {\n            key: \"floor\",\n            value: function floor() {\n              LinearAlgebra_1.Vec.floor(this);\n              return this;\n            }\n          }, {\n            key: \"$floor\",\n            value: function $floor() {\n              return this.clone().floor();\n            }\n          }, {\n            key: \"ceil\",\n            value: function ceil() {\n              LinearAlgebra_1.Vec.ceil(this);\n              return this;\n            }\n          }, {\n            key: \"$ceil\",\n            value: function $ceil() {\n              return this.clone().ceil();\n            }\n          }, {\n            key: \"round\",\n            value: function round() {\n              LinearAlgebra_1.Vec.round(this);\n              return this;\n            }\n          }, {\n            key: \"$round\",\n            value: function $round() {\n              return this.clone().round();\n            }\n          }, {\n            key: \"minValue\",\n            value: function minValue() {\n              return LinearAlgebra_1.Vec.min(this);\n            }\n          }, {\n            key: \"maxValue\",\n            value: function maxValue() {\n              return LinearAlgebra_1.Vec.max(this);\n            }\n          }, {\n            key: \"$min\",\n            value: function $min() {\n              for (var _len12 = arguments.length, args = Array(_len12), _key12 = 0; _key12 < _len12; _key12++) {\n                args[_key12] = arguments[_key12];\n              }\n\n              var p = Util_1.Util.getArgs(args);\n              var m = this.clone();\n\n              for (var i = 0, len = Math.min(this.length, p.length); i < len; i++) {\n                m[i] = Math.min(this[i], p[i]);\n              }\n\n              return m;\n            }\n          }, {\n            key: \"$max\",\n            value: function $max() {\n              for (var _len13 = arguments.length, args = Array(_len13), _key13 = 0; _key13 < _len13; _key13++) {\n                args[_key13] = arguments[_key13];\n              }\n\n              var p = Util_1.Util.getArgs(args);\n              var m = this.clone();\n\n              for (var i = 0, len = Math.min(this.length, p.length); i < len; i++) {\n                m[i] = Math.max(this[i], p[i]);\n              }\n\n              return m;\n            }\n          }, {\n            key: \"angle\",\n            value: function angle() {\n              var axis = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : Util_1.Const.xy;\n              return Math.atan2(this[axis[1]], this[axis[0]]);\n            }\n          }, {\n            key: \"angleBetween\",\n            value: function angleBetween(p) {\n              var axis = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : Util_1.Const.xy;\n              return Num_1.Geom.boundRadian(this.angle(axis)) - Num_1.Geom.boundRadian(p.angle(axis));\n            }\n          }, {\n            key: \"scale\",\n            value: function scale(_scale, anchor) {\n              Num_1.Geom.scale(this, _scale, anchor || Pt.make(this.length, 0));\n              return this;\n            }\n          }, {\n            key: \"rotate2D\",\n            value: function rotate2D(angle, anchor, axis) {\n              Num_1.Geom.rotate2D(this, angle, anchor || Pt.make(this.length, 0), axis);\n              return this;\n            }\n          }, {\n            key: \"shear2D\",\n            value: function shear2D(scale, anchor, axis) {\n              Num_1.Geom.shear2D(this, scale, anchor || Pt.make(this.length, 0), axis);\n              return this;\n            }\n          }, {\n            key: \"reflect2D\",\n            value: function reflect2D(line, axis) {\n              Num_1.Geom.reflect2D(this, line, axis);\n              return this;\n            }\n          }, {\n            key: \"toString\",\n            value: function toString() {\n              return \"Pt(\" + this.join(\", \") + \")\";\n            }\n          }, {\n            key: \"toArray\",\n            value: function toArray() {\n              return [].slice.call(this);\n            }\n          }, {\n            key: \"toGroup\",\n            value: function toGroup() {\n              return new Group(Pt.make(this.length), this.clone());\n            }\n          }, {\n            key: \"toBound\",\n            value: function toBound() {\n              return new Bound(Pt.make(this.length), this.clone());\n            }\n          }, {\n            key: \"id\",\n            get: function get() {\n              return this._id;\n            },\n            set: function set(s) {\n              this._id = s;\n            }\n          }, {\n            key: \"x\",\n            get: function get() {\n              return this[0];\n            },\n            set: function set(n) {\n              this[0] = n;\n            }\n          }, {\n            key: \"y\",\n            get: function get() {\n              return this[1];\n            },\n            set: function set(n) {\n              this[1] = n;\n            }\n          }, {\n            key: \"z\",\n            get: function get() {\n              return this[2];\n            },\n            set: function set(n) {\n              this[2] = n;\n            }\n          }, {\n            key: \"w\",\n            get: function get() {\n              return this[3];\n            },\n            set: function set(n) {\n              this[3] = n;\n            }\n          }], [{\n            key: \"make\",\n            value: function make(dimensions) {\n              var defaultValue = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n              var randomize = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;\n              var p = new Float32Array(dimensions);\n              if (defaultValue) p.fill(defaultValue);\n\n              if (randomize) {\n                for (var i = 0, len = p.length; i < len; i++) {\n                  p[i] = p[i] * Math.random();\n                }\n              }\n\n              return new Pt(p);\n            }\n          }]);\n\n          return Pt;\n        }(_extendableBuiltin(Float32Array));\n\n        exports.Pt = Pt;\n\n        var Group = function (_extendableBuiltin4) {\n          _inherits(Group, _extendableBuiltin4);\n\n          function Group() {\n            var _ref;\n\n            _classCallCheck(this, Group);\n\n            for (var _len14 = arguments.length, args = Array(_len14), _key14 = 0; _key14 < _len14; _key14++) {\n              args[_key14] = arguments[_key14];\n            }\n\n            return _possibleConstructorReturn(this, (_ref = Group.__proto__ || Object.getPrototypeOf(Group)).call.apply(_ref, [this].concat(args)));\n          }\n\n          _createClass(Group, [{\n            key: \"clone\",\n            value: function clone() {\n              var group = new Group();\n\n              for (var i = 0, len = this.length; i < len; i++) {\n                group.push(this[i].clone());\n              }\n\n              return group;\n            }\n          }, {\n            key: \"split\",\n            value: function split(chunkSize, stride) {\n              var loopBack = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;\n              var sp = Util_1.Util.split(this, chunkSize, stride, loopBack);\n              return sp;\n            }\n          }, {\n            key: \"insert\",\n            value: function insert(pts) {\n              var index = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n              Group.prototype.splice.apply(this, [index, 0].concat(_toConsumableArray(pts)));\n              return this;\n            }\n          }, {\n            key: \"remove\",\n            value: function remove() {\n              var index = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;\n              var count = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 1;\n              var param = index < 0 ? [index * -1 - 1, count] : [index, count];\n              return Group.prototype.splice.apply(this, param);\n            }\n          }, {\n            key: \"segments\",\n            value: function segments() {\n              var pts_per_segment = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 2;\n              var stride = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 1;\n              var loopBack = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;\n              return this.split(pts_per_segment, stride, loopBack);\n            }\n          }, {\n            key: \"lines\",\n            value: function lines() {\n              return this.segments(2, 1);\n            }\n          }, {\n            key: \"centroid\",\n            value: function centroid() {\n              return Num_1.Geom.centroid(this);\n            }\n          }, {\n            key: \"boundingBox\",\n            value: function boundingBox() {\n              return Num_1.Geom.boundingBox(this);\n            }\n          }, {\n            key: \"anchorTo\",\n            value: function anchorTo() {\n              var ptOrIndex = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;\n              Num_1.Geom.anchor(this, ptOrIndex, \"to\");\n            }\n          }, {\n            key: \"anchorFrom\",\n            value: function anchorFrom() {\n              var ptOrIndex = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;\n              Num_1.Geom.anchor(this, ptOrIndex, \"from\");\n            }\n          }, {\n            key: \"op\",\n            value: function op(fn) {\n              var self = this;\n              return function () {\n                for (var _len15 = arguments.length, params = Array(_len15), _key15 = 0; _key15 < _len15; _key15++) {\n                  params[_key15] = arguments[_key15];\n                }\n\n                return fn.apply(undefined, [self].concat(params));\n              };\n            }\n          }, {\n            key: \"ops\",\n            value: function ops(fns) {\n              var _ops = [];\n\n              for (var i = 0, len = fns.length; i < len; i++) {\n                _ops.push(this.op(fns[i]));\n              }\n\n              return _ops;\n            }\n          }, {\n            key: \"interpolate\",\n            value: function interpolate(t) {\n              t = Num_1.Num.clamp(t, 0, 1);\n              var chunk = this.length - 1;\n              var tc = 1 / (this.length - 1);\n              var idx = Math.floor(t / tc);\n              return Num_1.Geom.interpolate(this[idx], this[Math.min(this.length - 1, idx + 1)], (t - idx * tc) * chunk);\n            }\n          }, {\n            key: \"moveBy\",\n            value: function moveBy() {\n              return this.add.apply(this, arguments);\n            }\n          }, {\n            key: \"moveTo\",\n            value: function moveTo() {\n              for (var _len16 = arguments.length, args = Array(_len16), _key16 = 0; _key16 < _len16; _key16++) {\n                args[_key16] = arguments[_key16];\n              }\n\n              var d = new Pt(Util_1.Util.getArgs(args)).subtract(this[0]);\n              this.moveBy(d);\n              return this;\n            }\n          }, {\n            key: \"scale\",\n            value: function scale(_scale2, anchor) {\n              for (var i = 0, len = this.length; i < len; i++) {\n                Num_1.Geom.scale(this[i], _scale2, anchor || this[0]);\n              }\n\n              return this;\n            }\n          }, {\n            key: \"rotate2D\",\n            value: function rotate2D(angle, anchor, axis) {\n              for (var i = 0, len = this.length; i < len; i++) {\n                Num_1.Geom.rotate2D(this[i], angle, anchor || this[0], axis);\n              }\n\n              return this;\n            }\n          }, {\n            key: \"shear2D\",\n            value: function shear2D(scale, anchor, axis) {\n              for (var i = 0, len = this.length; i < len; i++) {\n                Num_1.Geom.shear2D(this[i], scale, anchor || this[0], axis);\n              }\n\n              return this;\n            }\n          }, {\n            key: \"reflect2D\",\n            value: function reflect2D(line, axis) {\n              for (var i = 0, len = this.length; i < len; i++) {\n                Num_1.Geom.reflect2D(this[i], line, axis);\n              }\n\n              return this;\n            }\n          }, {\n            key: \"sortByDimension\",\n            value: function sortByDimension(dim) {\n              var desc = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n              return this.sort(function (a, b) {\n                return desc ? b[dim] - a[dim] : a[dim] - b[dim];\n              });\n            }\n          }, {\n            key: \"forEachPt\",\n            value: function forEachPt(ptFn) {\n              if (!this[0][ptFn]) {\n                Util_1.Util.warn(ptFn + \" is not a function of Pt\");\n                return this;\n              }\n\n              for (var _len17 = arguments.length, args = Array(_len17 > 1 ? _len17 - 1 : 0), _key17 = 1; _key17 < _len17; _key17++) {\n                args[_key17 - 1] = arguments[_key17];\n              }\n\n              for (var i = 0, len = this.length; i < len; i++) {\n                var _i;\n\n                this[i] = (_i = this[i])[ptFn].apply(_i, args);\n              }\n\n              return this;\n            }\n          }, {\n            key: \"add\",\n            value: function add() {\n              for (var _len18 = arguments.length, args = Array(_len18), _key18 = 0; _key18 < _len18; _key18++) {\n                args[_key18] = arguments[_key18];\n              }\n\n              return this.forEachPt.apply(this, [\"add\"].concat(args));\n            }\n          }, {\n            key: \"subtract\",\n            value: function subtract() {\n              for (var _len19 = arguments.length, args = Array(_len19), _key19 = 0; _key19 < _len19; _key19++) {\n                args[_key19] = arguments[_key19];\n              }\n\n              return this.forEachPt.apply(this, [\"subtract\"].concat(args));\n            }\n          }, {\n            key: \"multiply\",\n            value: function multiply() {\n              for (var _len20 = arguments.length, args = Array(_len20), _key20 = 0; _key20 < _len20; _key20++) {\n                args[_key20] = arguments[_key20];\n              }\n\n              return this.forEachPt.apply(this, [\"multiply\"].concat(args));\n            }\n          }, {\n            key: \"divide\",\n            value: function divide() {\n              for (var _len21 = arguments.length, args = Array(_len21), _key21 = 0; _key21 < _len21; _key21++) {\n                args[_key21] = arguments[_key21];\n              }\n\n              return this.forEachPt.apply(this, [\"divide\"].concat(args));\n            }\n          }, {\n            key: \"$matrixAdd\",\n            value: function $matrixAdd(g) {\n              return LinearAlgebra_1.Mat.add(this, g);\n            }\n          }, {\n            key: \"$matrixMultiply\",\n            value: function $matrixMultiply(g) {\n              var transposed = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n              var elementwise = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;\n              return LinearAlgebra_1.Mat.multiply(this, g, transposed, elementwise);\n            }\n          }, {\n            key: \"zipSlice\",\n            value: function zipSlice(index) {\n              var defaultValue = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n              return LinearAlgebra_1.Mat.zipSlice(this, index, defaultValue);\n            }\n          }, {\n            key: \"$zip\",\n            value: function $zip() {\n              var defaultValue = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : undefined;\n              var useLongest = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n              return LinearAlgebra_1.Mat.zip(this, defaultValue, useLongest);\n            }\n          }, {\n            key: \"toString\",\n            value: function toString() {\n              return \"Group[ \" + this.reduce(function (p, c) {\n                return p + c.toString() + \" \";\n              }, \"\") + \" ]\";\n            }\n          }, {\n            key: \"id\",\n            get: function get() {\n              return this._id;\n            },\n            set: function set(s) {\n              this._id = s;\n            }\n          }, {\n            key: \"p1\",\n            get: function get() {\n              return this[0];\n            }\n          }, {\n            key: \"p2\",\n            get: function get() {\n              return this[1];\n            }\n          }, {\n            key: \"p3\",\n            get: function get() {\n              return this[2];\n            }\n          }, {\n            key: \"p4\",\n            get: function get() {\n              return this[3];\n            }\n          }, {\n            key: \"q1\",\n            get: function get() {\n              return this[this.length - 1];\n            }\n          }, {\n            key: \"q2\",\n            get: function get() {\n              return this[this.length - 2];\n            }\n          }, {\n            key: \"q3\",\n            get: function get() {\n              return this[this.length - 3];\n            }\n          }, {\n            key: \"q4\",\n            get: function get() {\n              return this[this.length - 4];\n            }\n          }], [{\n            key: \"fromArray\",\n            value: function fromArray(list) {\n              var g = new Group();\n              var _iteratorNormalCompletion = true;\n              var _didIteratorError = false;\n              var _iteratorError = undefined;\n\n              try {\n                for (var _iterator = list[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n                  var li = _step.value;\n                  var p = li instanceof Pt ? li : new Pt(li);\n                  g.push(p);\n                }\n              } catch (err) {\n                _didIteratorError = true;\n                _iteratorError = err;\n              } finally {\n                try {\n                  if (!_iteratorNormalCompletion && _iterator.return) {\n                    _iterator.return();\n                  }\n                } finally {\n                  if (_didIteratorError) {\n                    throw _iteratorError;\n                  }\n                }\n              }\n\n              return g;\n            }\n          }, {\n            key: \"fromPtArray\",\n            value: function fromPtArray(list) {\n              return Group.from(list);\n            }\n          }]);\n\n          return Group;\n        }(_extendableBuiltin3(Array));\n\n        exports.Group = Group;\n\n        var Bound = function (_Group) {\n          _inherits(Bound, _Group);\n\n          function Bound() {\n            var _ref2;\n\n            _classCallCheck(this, Bound);\n\n            for (var _len22 = arguments.length, args = Array(_len22), _key22 = 0; _key22 < _len22; _key22++) {\n              args[_key22] = arguments[_key22];\n            }\n\n            var _this3 = _possibleConstructorReturn(this, (_ref2 = Bound.__proto__ || Object.getPrototypeOf(Bound)).call.apply(_ref2, [this].concat(args)));\n\n            _this3._center = new Pt();\n            _this3._size = new Pt();\n            _this3._topLeft = new Pt();\n            _this3._bottomRight = new Pt();\n            _this3._inited = false;\n\n            _this3.init();\n\n            return _this3;\n          }\n\n          _createClass(Bound, [{\n            key: \"init\",\n            value: function init() {\n              if (this.p1) {\n                this._size = this.p1.clone();\n                this._inited = true;\n              }\n\n              if (this.p1 && this.p2) {\n                var a = this.p1;\n                var b = this.p2;\n                this.topLeft = a.$min(b);\n                this._bottomRight = a.$max(b);\n\n                this._updateSize();\n\n                this._inited = true;\n              }\n            }\n          }, {\n            key: \"clone\",\n            value: function clone() {\n              return new Bound(this._topLeft.clone(), this._bottomRight.clone());\n            }\n          }, {\n            key: \"_updateSize\",\n            value: function _updateSize() {\n              this._size = this._bottomRight.$subtract(this._topLeft).abs();\n\n              this._updateCenter();\n            }\n          }, {\n            key: \"_updateCenter\",\n            value: function _updateCenter() {\n              this._center = this._size.$multiply(0.5).add(this._topLeft);\n            }\n          }, {\n            key: \"_updatePosFromTop\",\n            value: function _updatePosFromTop() {\n              this._bottomRight = this._topLeft.$add(this._size);\n\n              this._updateCenter();\n            }\n          }, {\n            key: \"_updatePosFromBottom\",\n            value: function _updatePosFromBottom() {\n              this._topLeft = this._bottomRight.$subtract(this._size);\n\n              this._updateCenter();\n            }\n          }, {\n            key: \"_updatePosFromCenter\",\n            value: function _updatePosFromCenter() {\n              var half = this._size.$multiply(0.5);\n\n              this._topLeft = this._center.$subtract(half);\n              this._bottomRight = this._center.$add(half);\n            }\n          }, {\n            key: \"update\",\n            value: function update() {\n              this._topLeft = this[0];\n              this._bottomRight = this[1];\n\n              this._updateSize();\n\n              return this;\n            }\n          }, {\n            key: \"size\",\n            get: function get() {\n              return new Pt(this._size);\n            },\n            set: function set(p) {\n              this._size = new Pt(p);\n\n              this._updatePosFromTop();\n            }\n          }, {\n            key: \"center\",\n            get: function get() {\n              return new Pt(this._center);\n            },\n            set: function set(p) {\n              this._center = new Pt(p);\n\n              this._updatePosFromCenter();\n            }\n          }, {\n            key: \"topLeft\",\n            get: function get() {\n              return new Pt(this._topLeft);\n            },\n            set: function set(p) {\n              this._topLeft = new Pt(p);\n              this[0] = this._topLeft;\n\n              this._updateSize();\n            }\n          }, {\n            key: \"bottomRight\",\n            get: function get() {\n              return new Pt(this._bottomRight);\n            },\n            set: function set(p) {\n              this._bottomRight = new Pt(p);\n              this[1] = this._bottomRight;\n\n              this._updateSize();\n            }\n          }, {\n            key: \"width\",\n            get: function get() {\n              return this._size.length > 0 ? this._size.x : 0;\n            },\n            set: function set(w) {\n              this._size.x = w;\n\n              this._updatePosFromTop();\n            }\n          }, {\n            key: \"height\",\n            get: function get() {\n              return this._size.length > 1 ? this._size.y : 0;\n            },\n            set: function set(h) {\n              this._size.y = h;\n\n              this._updatePosFromTop();\n            }\n          }, {\n            key: \"depth\",\n            get: function get() {\n              return this._size.length > 2 ? this._size.z : 0;\n            },\n            set: function set(d) {\n              this._size.z = d;\n\n              this._updatePosFromTop();\n            }\n          }, {\n            key: \"x\",\n            get: function get() {\n              return this.topLeft.x;\n            }\n          }, {\n            key: \"y\",\n            get: function get() {\n              return this.topLeft.y;\n            }\n          }, {\n            key: \"z\",\n            get: function get() {\n              return this.topLeft.z;\n            }\n          }, {\n            key: \"inited\",\n            get: function get() {\n              return this._inited;\n            }\n          }], [{\n            key: \"fromBoundingRect\",\n            value: function fromBoundingRect(rect) {\n              var b = new Bound(new Pt(rect.left || 0, rect.top || 0), new Pt(rect.right || 0, rect.bottom || 0));\n              if (rect.width && rect.height) b.size = new Pt(rect.width, rect.height);\n              return b;\n            }\n          }, {\n            key: \"fromGroup\",\n            value: function fromGroup(g) {\n              var _g = Util_1.Util.iterToArray(g);\n\n              if (_g.length < 2) throw new Error(\"Cannot create a Bound from a group that has less than 2 Pt\");\n              return new Bound(_g[0], _g[_g.length - 1]);\n            }\n          }]);\n\n          return Bound;\n        }(Group);\n\n        exports.Bound = Bound;\n        /***/\n      },\n\n      /***/\n      \"./src/Space.ts\":\n      /*!**********************!*\\\n        !*** ./src/Space.ts ***!\n        \\**********************/\n\n      /*! no static exports found */\n\n      /***/\n      function srcSpaceTs(module, exports, __webpack_require__) {\n        \"use strict\";\n        /*! Source code licensed under Apache License 2.0. Copyright  2017-current William Ngan and contributors. (https://github.com/williamngan/pts) */\n\n        var _createClass = function () {\n          function defineProperties(target, props) {\n            for (var i = 0; i < props.length; i++) {\n              var descriptor = props[i];\n              descriptor.enumerable = descriptor.enumerable || false;\n              descriptor.configurable = true;\n              if (\"value\" in descriptor) descriptor.writable = true;\n              Object.defineProperty(target, descriptor.key, descriptor);\n            }\n          }\n\n          return function (Constructor, protoProps, staticProps) {\n            if (protoProps) defineProperties(Constructor.prototype, protoProps);\n            if (staticProps) defineProperties(Constructor, staticProps);\n            return Constructor;\n          };\n        }();\n\n        function _possibleConstructorReturn(self, call) {\n          if (!self) {\n            throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n          }\n\n          return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self;\n        }\n\n        function _inherits(subClass, superClass) {\n          if (typeof superClass !== \"function\" && superClass !== null) {\n            throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass);\n          }\n\n          subClass.prototype = Object.create(superClass && superClass.prototype, {\n            constructor: {\n              value: subClass,\n              enumerable: false,\n              writable: true,\n              configurable: true\n            }\n          });\n          if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;\n        }\n\n        function _classCallCheck(instance, Constructor) {\n          if (!(instance instanceof Constructor)) {\n            throw new TypeError(\"Cannot call a class as a function\");\n          }\n        }\n\n        Object.defineProperty(exports, \"__esModule\", {\n          value: true\n        });\n        exports.MultiTouchSpace = exports.Space = void 0;\n\n        var Pt_1 = __webpack_require__(\n        /*! ./Pt */\n        \"./src/Pt.ts\");\n\n        var UI_1 = __webpack_require__(\n        /*! ./UI */\n        \"./src/UI.ts\");\n\n        var Space = function () {\n          function Space() {\n            _classCallCheck(this, Space);\n\n            this.id = \"space\";\n            this.bound = new Pt_1.Bound();\n            this._time = {\n              prev: 0,\n              diff: 0,\n              end: -1\n            };\n            this.players = {};\n            this.playerCount = 0;\n            this._animID = -1;\n            this._pause = false;\n            this._refresh = undefined;\n            this._pointer = new Pt_1.Pt();\n            this._isReady = false;\n            this._playing = false;\n          }\n\n          _createClass(Space, [{\n            key: \"refresh\",\n            value: function refresh(b) {\n              this._refresh = b;\n              return this;\n            }\n          }, {\n            key: \"add\",\n            value: function add(p) {\n              var player = typeof p == \"function\" ? {\n                animate: p\n              } : p;\n              var k = this.playerCount++;\n              var pid = this.id + k;\n              this.players[pid] = player;\n              player.animateID = pid;\n              if (player.resize && this.bound.inited) player.resize(this.bound);\n              if (this._refresh === undefined) this._refresh = true;\n              return this;\n            }\n          }, {\n            key: \"remove\",\n            value: function remove(player) {\n              delete this.players[player.animateID];\n              return this;\n            }\n          }, {\n            key: \"removeAll\",\n            value: function removeAll() {\n              this.players = {};\n              return this;\n            }\n          }, {\n            key: \"play\",\n            value: function play() {\n              var time = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;\n\n              if (time === 0 && this._animID !== -1) {\n                return;\n              }\n\n              this._animID = requestAnimationFrame(this.play.bind(this));\n              if (this._pause) return this;\n              this._time.diff = time - this._time.prev;\n              this._time.prev = time;\n\n              try {\n                this.playItems(time);\n              } catch (err) {\n                cancelAnimationFrame(this._animID);\n                this._animID = -1;\n                this._playing = false;\n                throw err;\n              }\n\n              return this;\n            }\n          }, {\n            key: \"replay\",\n            value: function replay() {\n              this._time.end = -1;\n              this.play();\n            }\n          }, {\n            key: \"playItems\",\n            value: function playItems(time) {\n              this._playing = true;\n              if (this._refresh) this.clear();\n\n              if (this._isReady) {\n                for (var k in this.players) {\n                  if (this.players[k].animate) this.players[k].animate(time, this._time.diff, this);\n                }\n              }\n\n              if (this._time.end >= 0 && time > this._time.end) {\n                cancelAnimationFrame(this._animID);\n                this._animID = -1;\n                this._playing = false;\n              }\n            }\n          }, {\n            key: \"pause\",\n            value: function pause() {\n              var toggle = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;\n              this._pause = toggle ? !this._pause : true;\n              return this;\n            }\n          }, {\n            key: \"resume\",\n            value: function resume() {\n              this._pause = false;\n              return this;\n            }\n          }, {\n            key: \"stop\",\n            value: function stop() {\n              var t = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;\n              this._time.end = t;\n              return this;\n            }\n          }, {\n            key: \"playOnce\",\n            value: function playOnce() {\n              var duration = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 5000;\n              this.play();\n              this.stop(duration);\n              return this;\n            }\n          }, {\n            key: \"render\",\n            value: function render(context) {\n              if (this._renderFunc) this._renderFunc(context, this);\n              return this;\n            }\n          }, {\n            key: \"customRendering\",\n            set: function set(f) {\n              this._renderFunc = f;\n            },\n            get: function get() {\n              return this._renderFunc;\n            }\n          }, {\n            key: \"isPlaying\",\n            get: function get() {\n              return this._playing;\n            }\n          }, {\n            key: \"outerBound\",\n            get: function get() {\n              return this.bound.clone();\n            }\n          }, {\n            key: \"innerBound\",\n            get: function get() {\n              return new Pt_1.Bound(Pt_1.Pt.make(this.size.length, 0), this.size.clone());\n            }\n          }, {\n            key: \"size\",\n            get: function get() {\n              return this.bound.size.clone();\n            }\n          }, {\n            key: \"center\",\n            get: function get() {\n              return this.size.divide(2);\n            }\n          }, {\n            key: \"width\",\n            get: function get() {\n              return this.bound.width;\n            }\n          }, {\n            key: \"height\",\n            get: function get() {\n              return this.bound.height;\n            }\n          }]);\n\n          return Space;\n        }();\n\n        exports.Space = Space;\n\n        var MultiTouchSpace = function (_Space) {\n          _inherits(MultiTouchSpace, _Space);\n\n          function MultiTouchSpace() {\n            _classCallCheck(this, MultiTouchSpace);\n\n            var _this = _possibleConstructorReturn(this, (MultiTouchSpace.__proto__ || Object.getPrototypeOf(MultiTouchSpace)).apply(this, arguments));\n\n            _this._pressed = false;\n            _this._dragged = false;\n            _this._hasMouse = false;\n            _this._hasTouch = false;\n            return _this;\n          }\n\n          _createClass(MultiTouchSpace, [{\n            key: \"bindCanvas\",\n            value: function bindCanvas(evt, callback) {\n              var options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n\n              this._canvas.addEventListener(evt, callback, options);\n            }\n          }, {\n            key: \"unbindCanvas\",\n            value: function unbindCanvas(evt, callback) {\n              this._canvas.removeEventListener(evt, callback);\n            }\n          }, {\n            key: \"bindMouse\",\n            value: function bindMouse() {\n              var _bind = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : true;\n\n              if (_bind) {\n                this.bindCanvas(\"mousedown\", this._mouseDown.bind(this));\n                this.bindCanvas(\"mouseup\", this._mouseUp.bind(this));\n                this.bindCanvas(\"mouseover\", this._mouseOver.bind(this));\n                this.bindCanvas(\"mouseout\", this._mouseOut.bind(this));\n                this.bindCanvas(\"mousemove\", this._mouseMove.bind(this));\n                this.bindCanvas(\"contextmenu\", this._contextMenu.bind(this));\n                this._hasMouse = true;\n              } else {\n                this.unbindCanvas(\"mousedown\", this._mouseDown.bind(this));\n                this.unbindCanvas(\"mouseup\", this._mouseUp.bind(this));\n                this.unbindCanvas(\"mouseover\", this._mouseOver.bind(this));\n                this.unbindCanvas(\"mouseout\", this._mouseOut.bind(this));\n                this.unbindCanvas(\"mousemove\", this._mouseMove.bind(this));\n                this.unbindCanvas(\"contextmenu\", this._contextMenu.bind(this));\n                this._hasMouse = false;\n              }\n\n              return this;\n            }\n          }, {\n            key: \"bindTouch\",\n            value: function bindTouch() {\n              var _bind = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : true;\n\n              if (_bind) {\n                this.bindCanvas(\"touchstart\", this._touchStart.bind(this), {\n                  passive: true\n                });\n                this.bindCanvas(\"touchend\", this._mouseUp.bind(this));\n                this.bindCanvas(\"touchmove\", this._touchMove.bind(this), {\n                  passive: true\n                });\n                this.bindCanvas(\"touchcancel\", this._mouseOut.bind(this));\n                this._hasTouch = true;\n              } else {\n                this.unbindCanvas(\"touchstart\", this._touchStart.bind(this));\n                this.unbindCanvas(\"touchend\", this._mouseUp.bind(this));\n                this.unbindCanvas(\"touchmove\", this._touchMove.bind(this));\n                this.unbindCanvas(\"touchcancel\", this._mouseOut.bind(this));\n                this._hasTouch = false;\n              }\n\n              return this;\n            }\n          }, {\n            key: \"touchesToPoints\",\n            value: function touchesToPoints(evt) {\n              var which = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : \"touches\";\n              if (!evt || !evt[which]) return [];\n              var ts = [];\n\n              for (var i = 0; i < evt[which].length; i++) {\n                var t = evt[which].item(i);\n                ts.push(new Pt_1.Pt(t.pageX - this.bound.topLeft.x, t.pageY - this.bound.topLeft.y));\n              }\n\n              return ts;\n            }\n          }, {\n            key: \"_mouseAction\",\n            value: function _mouseAction(type, evt) {\n              var px = 0,\n                  py = 0;\n\n              if (evt instanceof MouseEvent) {\n                for (var k in this.players) {\n                  if (this.players.hasOwnProperty(k)) {\n                    var v = this.players[k];\n                    px = evt.pageX - this.outerBound.x;\n                    py = evt.pageY - this.outerBound.y;\n                    if (v.action) v.action(type, px, py, evt);\n                  }\n                }\n              } else {\n                for (var _k in this.players) {\n                  if (this.players.hasOwnProperty(_k)) {\n                    var _v = this.players[_k];\n                    var c = evt.changedTouches && evt.changedTouches.length > 0;\n                    var touch = evt.changedTouches.item(0);\n                    px = c ? touch.pageX - this.outerBound.x : 0;\n                    py = c ? touch.pageY - this.outerBound.y : 0;\n                    if (_v.action) _v.action(type, px, py, evt);\n                  }\n                }\n              }\n\n              if (type) {\n                this._pointer.to(px, py);\n\n                this._pointer.id = type;\n              }\n            }\n          }, {\n            key: \"_mouseDown\",\n            value: function _mouseDown(evt) {\n              this._mouseAction(UI_1.UIPointerActions.down, evt);\n\n              this._pressed = true;\n              return false;\n            }\n          }, {\n            key: \"_mouseUp\",\n            value: function _mouseUp(evt) {\n              if (this._dragged) {\n                this._mouseAction(UI_1.UIPointerActions.drop, evt);\n              } else {\n                this._mouseAction(UI_1.UIPointerActions.up, evt);\n              }\n\n              this._pressed = false;\n              this._dragged = false;\n              return false;\n            }\n          }, {\n            key: \"_mouseMove\",\n            value: function _mouseMove(evt) {\n              this._mouseAction(UI_1.UIPointerActions.move, evt);\n\n              if (this._pressed) {\n                this._dragged = true;\n\n                this._mouseAction(UI_1.UIPointerActions.drag, evt);\n              }\n\n              return false;\n            }\n          }, {\n            key: \"_mouseOver\",\n            value: function _mouseOver(evt) {\n              this._mouseAction(UI_1.UIPointerActions.over, evt);\n\n              return false;\n            }\n          }, {\n            key: \"_mouseOut\",\n            value: function _mouseOut(evt) {\n              this._mouseAction(UI_1.UIPointerActions.out, evt);\n\n              if (this._dragged) this._mouseAction(UI_1.UIPointerActions.drop, evt);\n              this._dragged = false;\n              return false;\n            }\n          }, {\n            key: \"_contextMenu\",\n            value: function _contextMenu(evt) {\n              this._mouseAction(UI_1.UIPointerActions.contextmenu, evt);\n\n              return false;\n            }\n          }, {\n            key: \"_touchMove\",\n            value: function _touchMove(evt) {\n              this._mouseMove(evt);\n\n              evt.preventDefault();\n              return false;\n            }\n          }, {\n            key: \"_touchStart\",\n            value: function _touchStart(evt) {\n              this._mouseDown(evt);\n\n              evt.preventDefault();\n              return false;\n            }\n          }, {\n            key: \"pointer\",\n            get: function get() {\n              var p = this._pointer.clone();\n\n              p.id = this._pointer.id;\n              return p;\n            }\n          }]);\n\n          return MultiTouchSpace;\n        }(Space);\n\n        exports.MultiTouchSpace = MultiTouchSpace;\n        /***/\n      },\n\n      /***/\n      \"./src/Svg.ts\":\n      /*!********************!*\\\n        !*** ./src/Svg.ts ***!\n        \\********************/\n\n      /*! no static exports found */\n\n      /***/\n      function srcSvgTs(module, exports, __webpack_require__) {\n        \"use strict\";\n        /*! Source code licensed under Apache License 2.0. Copyright  2017-current William Ngan and contributors. (https://github.com/williamngan/pts) */\n\n        var _createClass = function () {\n          function defineProperties(target, props) {\n            for (var i = 0; i < props.length; i++) {\n              var descriptor = props[i];\n              descriptor.enumerable = descriptor.enumerable || false;\n              descriptor.configurable = true;\n              if (\"value\" in descriptor) descriptor.writable = true;\n              Object.defineProperty(target, descriptor.key, descriptor);\n            }\n          }\n\n          return function (Constructor, protoProps, staticProps) {\n            if (protoProps) defineProperties(Constructor.prototype, protoProps);\n            if (staticProps) defineProperties(Constructor, staticProps);\n            return Constructor;\n          };\n        }();\n\n        var _get = function get(object, property, receiver) {\n          if (object === null) object = Function.prototype;\n          var desc = Object.getOwnPropertyDescriptor(object, property);\n\n          if (desc === undefined) {\n            var parent = Object.getPrototypeOf(object);\n\n            if (parent === null) {\n              return undefined;\n            } else {\n              return get(parent, property, receiver);\n            }\n          } else if (\"value\" in desc) {\n            return desc.value;\n          } else {\n            var getter = desc.get;\n\n            if (getter === undefined) {\n              return undefined;\n            }\n\n            return getter.call(receiver);\n          }\n        };\n\n        function _classCallCheck(instance, Constructor) {\n          if (!(instance instanceof Constructor)) {\n            throw new TypeError(\"Cannot call a class as a function\");\n          }\n        }\n\n        function _possibleConstructorReturn(self, call) {\n          if (!self) {\n            throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n          }\n\n          return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self;\n        }\n\n        function _inherits(subClass, superClass) {\n          if (typeof superClass !== \"function\" && superClass !== null) {\n            throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass);\n          }\n\n          subClass.prototype = Object.create(superClass && superClass.prototype, {\n            constructor: {\n              value: subClass,\n              enumerable: false,\n              writable: true,\n              configurable: true\n            }\n          });\n          if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;\n        }\n\n        Object.defineProperty(exports, \"__esModule\", {\n          value: true\n        });\n        exports.SVGForm = exports.SVGSpace = void 0;\n\n        var Form_1 = __webpack_require__(\n        /*! ./Form */\n        \"./src/Form.ts\");\n\n        var Num_1 = __webpack_require__(\n        /*! ./Num */\n        \"./src/Num.ts\");\n\n        var Util_1 = __webpack_require__(\n        /*! ./Util */\n        \"./src/Util.ts\");\n\n        var Pt_1 = __webpack_require__(\n        /*! ./Pt */\n        \"./src/Pt.ts\");\n\n        var Op_1 = __webpack_require__(\n        /*! ./Op */\n        \"./src/Op.ts\");\n\n        var Dom_1 = __webpack_require__(\n        /*! ./Dom */\n        \"./src/Dom.ts\");\n\n        var SVGSpace = function (_Dom_1$DOMSpace) {\n          _inherits(SVGSpace, _Dom_1$DOMSpace);\n\n          function SVGSpace(elem, callback) {\n            _classCallCheck(this, SVGSpace);\n\n            var _this = _possibleConstructorReturn(this, (SVGSpace.__proto__ || Object.getPrototypeOf(SVGSpace)).call(this, elem, callback));\n\n            _this._bgcolor = \"#999\";\n\n            if (_this._canvas.nodeName.toLowerCase() != \"svg\") {\n              var s = SVGSpace.svgElement(_this._canvas, \"svg\", _this.id + \"_svg\");\n              _this._container = _this._canvas;\n              _this._canvas = s;\n            }\n\n            return _this;\n          }\n\n          _createClass(SVGSpace, [{\n            key: \"getForm\",\n            value: function getForm() {\n              return new SVGForm(this);\n            }\n          }, {\n            key: \"resize\",\n            value: function resize(b, evt) {\n              _get(SVGSpace.prototype.__proto__ || Object.getPrototypeOf(SVGSpace.prototype), \"resize\", this).call(this, b, evt);\n\n              SVGSpace.setAttr(this.element, {\n                \"viewBox\": \"0 0 \" + this.bound.width + \" \" + this.bound.height,\n                \"width\": \"\" + this.bound.width,\n                \"height\": \"\" + this.bound.height,\n                \"xmlns\": \"http://www.w3.org/2000/svg\",\n                \"version\": \"1.1\"\n              });\n              return this;\n            }\n          }, {\n            key: \"remove\",\n            value: function remove(player) {\n              var temp = this._container.querySelectorAll(\".\" + SVGForm.scopeID(player));\n\n              temp.forEach(function (el) {\n                el.parentNode.removeChild(el);\n              });\n              return _get(SVGSpace.prototype.__proto__ || Object.getPrototypeOf(SVGSpace.prototype), \"remove\", this).call(this, player);\n            }\n          }, {\n            key: \"removeAll\",\n            value: function removeAll() {\n              this._container.innerHTML = \"\";\n              return _get(SVGSpace.prototype.__proto__ || Object.getPrototypeOf(SVGSpace.prototype), \"removeAll\", this).call(this);\n            }\n          }, {\n            key: \"element\",\n            get: function get() {\n              return this._canvas;\n            }\n          }], [{\n            key: \"svgElement\",\n            value: function svgElement(parent, name, id) {\n              if (!parent || !parent.appendChild) throw new Error(\"parent is not a valid DOM element\");\n              var elem = document.querySelector(\"#\" + id);\n\n              if (!elem) {\n                elem = document.createElementNS(\"http://www.w3.org/2000/svg\", name);\n                elem.setAttribute(\"id\", id);\n                parent.appendChild(elem);\n              }\n\n              return elem;\n            }\n          }]);\n\n          return SVGSpace;\n        }(Dom_1.DOMSpace);\n\n        exports.SVGSpace = SVGSpace;\n\n        var SVGForm = function (_Form_1$VisualForm) {\n          _inherits(SVGForm, _Form_1$VisualForm);\n\n          function SVGForm(space) {\n            _classCallCheck(this, SVGForm);\n\n            var _this2 = _possibleConstructorReturn(this, (SVGForm.__proto__ || Object.getPrototypeOf(SVGForm)).call(this));\n\n            _this2._style = {\n              \"filled\": true,\n              \"stroked\": true,\n              \"fill\": \"#f03\",\n              \"stroke\": \"#fff\",\n              \"stroke-width\": 1,\n              \"stroke-linejoin\": \"bevel\",\n              \"stroke-linecap\": \"sqaure\",\n              \"opacity\": 1\n            };\n            _this2._ctx = {\n              group: null,\n              groupID: \"pts\",\n              groupCount: 0,\n              currentID: \"pts0\",\n              currentClass: \"\",\n              style: {}\n            };\n            _this2._ready = false;\n            _this2._space = space;\n\n            _this2._space.add({\n              start: function start() {\n                _this2._ctx.group = _this2._space.element;\n                _this2._ctx.groupID = \"pts_svg_\" + SVGForm.groupID++;\n                _this2._ctx.style = Object.assign({}, _this2._style);\n                _this2._ready = true;\n              }\n            });\n\n            return _this2;\n          }\n\n          _createClass(SVGForm, [{\n            key: \"styleTo\",\n            value: function styleTo(k, v) {\n              if (this._ctx.style[k] === undefined) throw new Error(k + \" style property doesn't exist\");\n              this._ctx.style[k] = v;\n            }\n          }, {\n            key: \"alpha\",\n            value: function alpha(a) {\n              this.styleTo(\"opacity\", a);\n              return this;\n            }\n          }, {\n            key: \"fill\",\n            value: function fill(c) {\n              if (typeof c == \"boolean\") {\n                this.styleTo(\"filled\", c);\n              } else {\n                this.styleTo(\"filled\", true);\n                this.styleTo(\"fill\", c);\n              }\n\n              return this;\n            }\n          }, {\n            key: \"stroke\",\n            value: function stroke(c, width, linejoin, linecap) {\n              if (typeof c == \"boolean\") {\n                this.styleTo(\"stroked\", c);\n              } else {\n                this.styleTo(\"stroked\", true);\n                this.styleTo(\"stroke\", c);\n                if (width) this.styleTo(\"stroke-width\", width);\n                if (linejoin) this.styleTo(\"stroke-linejoin\", linejoin);\n                if (linecap) this.styleTo(\"stroke-linecap\", linecap);\n              }\n\n              return this;\n            }\n          }, {\n            key: \"cls\",\n            value: function cls(c) {\n              if (typeof c == \"boolean\") {\n                this._ctx.currentClass = \"\";\n              } else {\n                this._ctx.currentClass = c;\n              }\n\n              return this;\n            }\n          }, {\n            key: \"font\",\n            value: function font(sizeOrFont, weight, style, lineHeight, family) {\n              if (typeof sizeOrFont == \"number\") {\n                this._font.size = sizeOrFont;\n                if (family) this._font.face = family;\n                if (weight) this._font.weight = weight;\n                if (style) this._font.style = style;\n                if (lineHeight) this._font.lineHeight = lineHeight;\n              } else {\n                this._font = sizeOrFont;\n              }\n\n              this._ctx.style['font'] = this._font.value;\n              return this;\n            }\n          }, {\n            key: \"reset\",\n            value: function reset() {\n              this._ctx.style = Object.assign({}, this._style);\n              this._font = new Form_1.Font(10, \"sans-serif\");\n              this._ctx.style['font'] = this._font.value;\n              return this;\n            }\n          }, {\n            key: \"updateScope\",\n            value: function updateScope(group_id, group) {\n              this._ctx.group = group;\n              this._ctx.groupID = group_id;\n              this._ctx.groupCount = 0;\n              this.nextID();\n              return this._ctx;\n            }\n          }, {\n            key: \"scope\",\n            value: function scope(item) {\n              if (!item || item.animateID == null) throw new Error(\"item not defined or not yet added to Space\");\n              return this.updateScope(SVGForm.scopeID(item), this.space.element);\n            }\n          }, {\n            key: \"nextID\",\n            value: function nextID() {\n              this._ctx.groupCount++;\n              this._ctx.currentID = this._ctx.groupID + \"-\" + this._ctx.groupCount;\n              return this._ctx.currentID;\n            }\n          }, {\n            key: \"point\",\n            value: function point(pt) {\n              var radius = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 5;\n              var shape = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : \"square\";\n              this.nextID();\n              SVGForm.point(this._ctx, pt, radius, shape);\n              return this;\n            }\n          }, {\n            key: \"circle\",\n            value: function circle(pts) {\n              this.nextID();\n              var p = Util_1.Util.iterToArray(pts);\n              SVGForm.circle(this._ctx, p[0], p[1][0]);\n              return this;\n            }\n          }, {\n            key: \"arc\",\n            value: function arc(pt, radius, startAngle, endAngle, cc) {\n              this.nextID();\n              SVGForm.arc(this._ctx, pt, radius, startAngle, endAngle, cc);\n              return this;\n            }\n          }, {\n            key: \"square\",\n            value: function square(pt, halfsize) {\n              this.nextID();\n              SVGForm.square(this._ctx, pt, halfsize);\n              return this;\n            }\n          }, {\n            key: \"line\",\n            value: function line(pts) {\n              this.nextID();\n              SVGForm.line(this._ctx, pts);\n              return this;\n            }\n          }, {\n            key: \"polygon\",\n            value: function polygon(pts) {\n              this.nextID();\n              SVGForm.polygon(this._ctx, pts);\n              return this;\n            }\n          }, {\n            key: \"rect\",\n            value: function rect(pts) {\n              this.nextID();\n              SVGForm.rect(this._ctx, pts);\n              return this;\n            }\n          }, {\n            key: \"text\",\n            value: function text(pt, txt) {\n              this.nextID();\n              SVGForm.text(this._ctx, pt, txt);\n              return this;\n            }\n          }, {\n            key: \"log\",\n            value: function log(txt) {\n              this.fill(\"#000\").stroke(\"#fff\", 0.5).text([10, 14], txt);\n              return this;\n            }\n          }, {\n            key: \"space\",\n            get: function get() {\n              return this._space;\n            }\n          }], [{\n            key: \"getID\",\n            value: function getID(ctx) {\n              return ctx.currentID || \"p-\" + SVGForm.domID++;\n            }\n          }, {\n            key: \"scopeID\",\n            value: function scopeID(item) {\n              return \"item-\" + item.animateID;\n            }\n          }, {\n            key: \"style\",\n            value: function style(elem, styles) {\n              var st = [];\n              if (!styles[\"filled\"]) st.push(\"fill: none\");\n              if (!styles[\"stroked\"]) st.push(\"stroke: none\");\n\n              for (var k in styles) {\n                if (styles.hasOwnProperty(k) && k != \"filled\" && k != \"stroked\") {\n                  var v = styles[k];\n\n                  if (v) {\n                    if (!styles[\"filled\"] && k.indexOf('fill') === 0) {\n                      continue;\n                    } else if (!styles[\"stroked\"] && k.indexOf('stroke') === 0) {\n                      continue;\n                    } else {\n                      st.push(k + \": \" + v);\n                    }\n                  }\n                }\n              }\n\n              return Dom_1.DOMSpace.setAttr(elem, {\n                style: st.join(\";\")\n              });\n            }\n          }, {\n            key: \"point\",\n            value: function point(ctx, pt) {\n              var radius = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 5;\n              var shape = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : \"square\";\n\n              if (shape === \"circle\") {\n                return SVGForm.circle(ctx, pt, radius);\n              } else {\n                return SVGForm.square(ctx, pt, radius);\n              }\n            }\n          }, {\n            key: \"circle\",\n            value: function circle(ctx, pt) {\n              var radius = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 10;\n              var elem = SVGSpace.svgElement(ctx.group, \"circle\", SVGForm.getID(ctx));\n              Dom_1.DOMSpace.setAttr(elem, {\n                cx: pt[0],\n                cy: pt[1],\n                r: radius,\n                'class': \"pts-svgform pts-circle \" + ctx.currentClass\n              });\n              SVGForm.style(elem, ctx.style);\n              return elem;\n            }\n          }, {\n            key: \"arc\",\n            value: function arc(ctx, pt, radius, startAngle, endAngle, cc) {\n              var elem = SVGSpace.svgElement(ctx.group, \"path\", SVGForm.getID(ctx));\n              var start = new Pt_1.Pt(pt).toAngle(startAngle, radius, true);\n              var end = new Pt_1.Pt(pt).toAngle(endAngle, radius, true);\n              var diff = Num_1.Geom.boundAngle(endAngle) - Num_1.Geom.boundAngle(startAngle);\n              var largeArc = diff > Util_1.Const.pi ? true : false;\n              if (cc) largeArc = !largeArc;\n              var sweep = cc ? \"0\" : \"1\";\n              var d = \"M \" + start[0] + \" \" + start[1] + \" A \" + radius + \" \" + radius + \" 0 \" + (largeArc ? \"1\" : \"0\") + \" \" + sweep + \" \" + end[0] + \" \" + end[1];\n              Dom_1.DOMSpace.setAttr(elem, {\n                d: d,\n                'class': \"pts-svgform pts-arc \" + ctx.currentClass\n              });\n              SVGForm.style(elem, ctx.style);\n              return elem;\n            }\n          }, {\n            key: \"square\",\n            value: function square(ctx, pt, halfsize) {\n              var elem = SVGSpace.svgElement(ctx.group, \"rect\", SVGForm.getID(ctx));\n              Dom_1.DOMSpace.setAttr(elem, {\n                x: pt[0] - halfsize,\n                y: pt[1] - halfsize,\n                width: halfsize * 2,\n                height: halfsize * 2,\n                'class': \"pts-svgform pts-square \" + ctx.currentClass\n              });\n              SVGForm.style(elem, ctx.style);\n              return elem;\n            }\n          }, {\n            key: \"line\",\n            value: function line(ctx, pts) {\n              var points = SVGForm.pointsString(pts);\n              if (points.count < 2) return;\n              if (points.count > 2) return SVGForm._poly(ctx, points.string, false);\n              var elem = SVGSpace.svgElement(ctx.group, \"line\", SVGForm.getID(ctx));\n              var p = Util_1.Util.iterToArray(pts);\n              Dom_1.DOMSpace.setAttr(elem, {\n                x1: p[0][0],\n                y1: p[0][1],\n                x2: p[1][0],\n                y2: p[1][1],\n                'class': \"pts-svgform pts-line \" + ctx.currentClass\n              });\n              SVGForm.style(elem, ctx.style);\n              return elem;\n            }\n          }, {\n            key: \"_poly\",\n            value: function _poly(ctx, points) {\n              var closePath = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : true;\n              var elem = SVGSpace.svgElement(ctx.group, closePath ? \"polygon\" : \"polyline\", SVGForm.getID(ctx));\n              Dom_1.DOMSpace.setAttr(elem, {\n                points: points,\n                'class': \"pts-svgform pts-polygon \" + ctx.currentClass\n              });\n              SVGForm.style(elem, ctx.style);\n              return elem;\n            }\n          }, {\n            key: \"pointsString\",\n            value: function pointsString(pts) {\n              var points = \"\";\n              var count = 0;\n              var _iteratorNormalCompletion = true;\n              var _didIteratorError = false;\n              var _iteratorError = undefined;\n\n              try {\n                for (var _iterator = pts[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n                  var p = _step.value;\n                  points += p[0] + \",\" + p[1] + \" \";\n                  count++;\n                }\n              } catch (err) {\n                _didIteratorError = true;\n                _iteratorError = err;\n              } finally {\n                try {\n                  if (!_iteratorNormalCompletion && _iterator.return) {\n                    _iterator.return();\n                  }\n                } finally {\n                  if (_didIteratorError) {\n                    throw _iteratorError;\n                  }\n                }\n              }\n\n              return {\n                string: points,\n                count: count\n              };\n            }\n          }, {\n            key: \"polygon\",\n            value: function polygon(ctx, pts) {\n              var points = SVGForm.pointsString(pts);\n              return SVGForm._poly(ctx, points.string, true);\n            }\n          }, {\n            key: \"rect\",\n            value: function rect(ctx, pts) {\n              if (!Util_1.Util.arrayCheck(pts)) return;\n              var elem = SVGSpace.svgElement(ctx.group, \"rect\", SVGForm.getID(ctx));\n              var bound = Pt_1.Group.fromArray(pts).boundingBox();\n              var size = Op_1.Rectangle.size(bound);\n              Dom_1.DOMSpace.setAttr(elem, {\n                x: bound[0][0],\n                y: bound[0][1],\n                width: size[0],\n                height: size[1],\n                'class': \"pts-svgform pts-rect \" + ctx.currentClass\n              });\n              SVGForm.style(elem, ctx.style);\n              return elem;\n            }\n          }, {\n            key: \"text\",\n            value: function text(ctx, pt, txt) {\n              var elem = SVGSpace.svgElement(ctx.group, \"text\", SVGForm.getID(ctx));\n              Dom_1.DOMSpace.setAttr(elem, {\n                \"pointer-events\": \"none\",\n                x: pt[0],\n                y: pt[1],\n                dx: 0,\n                dy: 0,\n                'class': \"pts-svgform pts-text \" + ctx.currentClass\n              });\n              elem.textContent = txt;\n              SVGForm.style(elem, ctx.style);\n              return elem;\n            }\n          }]);\n\n          return SVGForm;\n        }(Form_1.VisualForm);\n\n        exports.SVGForm = SVGForm;\n        SVGForm.groupID = 0;\n        SVGForm.domID = 0;\n        /***/\n      },\n\n      /***/\n      \"./src/Typography.ts\":\n      /*!***************************!*\\\n        !*** ./src/Typography.ts ***!\n        \\***************************/\n\n      /*! no static exports found */\n\n      /***/\n      function srcTypographyTs(module, exports, __webpack_require__) {\n        \"use strict\";\n        /*! Source code licensed under Apache License 2.0. Copyright  2017-current William Ngan and contributors. (https://github.com/williamngan/pts) */\n\n        var _createClass = function () {\n          function defineProperties(target, props) {\n            for (var i = 0; i < props.length; i++) {\n              var descriptor = props[i];\n              descriptor.enumerable = descriptor.enumerable || false;\n              descriptor.configurable = true;\n              if (\"value\" in descriptor) descriptor.writable = true;\n              Object.defineProperty(target, descriptor.key, descriptor);\n            }\n          }\n\n          return function (Constructor, protoProps, staticProps) {\n            if (protoProps) defineProperties(Constructor.prototype, protoProps);\n            if (staticProps) defineProperties(Constructor, staticProps);\n            return Constructor;\n          };\n        }();\n\n        function _classCallCheck(instance, Constructor) {\n          if (!(instance instanceof Constructor)) {\n            throw new TypeError(\"Cannot call a class as a function\");\n          }\n        }\n\n        Object.defineProperty(exports, \"__esModule\", {\n          value: true\n        });\n        exports.Typography = void 0;\n\n        var Pt_1 = __webpack_require__(\n        /*! ./Pt */\n        \"./src/Pt.ts\");\n\n        var Typography = function () {\n          function Typography() {\n            _classCallCheck(this, Typography);\n          }\n\n          _createClass(Typography, null, [{\n            key: \"textWidthEstimator\",\n            value: function textWidthEstimator(fn) {\n              var samples = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : [\"M\", \"n\", \".\"];\n              var distribution = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : [0.06, 0.8, 0.14];\n              var m = samples.map(fn);\n              var avg = new Pt_1.Pt(distribution).dot(m);\n              return function (str) {\n                return str.length * avg;\n              };\n            }\n          }, {\n            key: \"truncate\",\n            value: function truncate(fn, str, width) {\n              var tail = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : \"\";\n              var trim = Math.floor(str.length * Math.min(1, width / fn(str)));\n\n              if (trim < str.length) {\n                trim = Math.max(0, trim - tail.length);\n                return [str.substr(0, trim) + tail, trim];\n              } else {\n                return [str, str.length];\n              }\n            }\n          }, {\n            key: \"fontSizeToBox\",\n            value: function fontSizeToBox(box) {\n              var ratio = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 1;\n              var byHeight = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : true;\n              var bound = Pt_1.Bound.fromGroup(box);\n              var h = byHeight ? bound.height : bound.width;\n              var f = ratio * h;\n              return function (box2) {\n                var bound2 = Pt_1.Bound.fromGroup(box2);\n                var nh = (byHeight ? bound2.height : bound2.width) / h;\n                return f * nh;\n              };\n            }\n          }, {\n            key: \"fontSizeToThreshold\",\n            value: function fontSizeToThreshold(threshold) {\n              var direction = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n              return function (defaultSize, val) {\n                var d = defaultSize * val / threshold;\n                if (direction < 0) return Math.min(d, defaultSize);\n                if (direction > 0) return Math.max(d, defaultSize);\n                return d;\n              };\n            }\n          }]);\n\n          return Typography;\n        }();\n\n        exports.Typography = Typography;\n        /***/\n      },\n\n      /***/\n      \"./src/UI.ts\":\n      /*!*******************!*\\\n        !*** ./src/UI.ts ***!\n        \\*******************/\n\n      /*! no static exports found */\n\n      /***/\n      function srcUITs(module, exports, __webpack_require__) {\n        \"use strict\";\n        /*! Source code licensed under Apache License 2.0. Copyright  2017-current William Ngan and contributors. (https://github.com/williamngan/pts) */\n\n        var _createClass = function () {\n          function defineProperties(target, props) {\n            for (var i = 0; i < props.length; i++) {\n              var descriptor = props[i];\n              descriptor.enumerable = descriptor.enumerable || false;\n              descriptor.configurable = true;\n              if (\"value\" in descriptor) descriptor.writable = true;\n              Object.defineProperty(target, descriptor.key, descriptor);\n            }\n          }\n\n          return function (Constructor, protoProps, staticProps) {\n            if (protoProps) defineProperties(Constructor.prototype, protoProps);\n            if (staticProps) defineProperties(Constructor, staticProps);\n            return Constructor;\n          };\n        }();\n\n        function _possibleConstructorReturn(self, call) {\n          if (!self) {\n            throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n          }\n\n          return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self;\n        }\n\n        function _inherits(subClass, superClass) {\n          if (typeof superClass !== \"function\" && superClass !== null) {\n            throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass);\n          }\n\n          subClass.prototype = Object.create(superClass && superClass.prototype, {\n            constructor: {\n              value: subClass,\n              enumerable: false,\n              writable: true,\n              configurable: true\n            }\n          });\n          if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;\n        }\n\n        function _toConsumableArray(arr) {\n          if (Array.isArray(arr)) {\n            for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) {\n              arr2[i] = arr[i];\n            }\n\n            return arr2;\n          } else {\n            return Array.from(arr);\n          }\n        }\n\n        function _classCallCheck(instance, Constructor) {\n          if (!(instance instanceof Constructor)) {\n            throw new TypeError(\"Cannot call a class as a function\");\n          }\n        }\n\n        Object.defineProperty(exports, \"__esModule\", {\n          value: true\n        });\n        exports.UIDragger = exports.UIButton = exports.UI = exports.UIPointerActions = exports.UIShape = void 0;\n\n        var Pt_1 = __webpack_require__(\n        /*! ./Pt */\n        \"./src/Pt.ts\");\n\n        var Op_1 = __webpack_require__(\n        /*! ./Op */\n        \"./src/Op.ts\");\n\n        exports.UIShape = {\n          rectangle: \"rectangle\",\n          circle: \"circle\",\n          polygon: \"polygon\",\n          polyline: \"polyline\",\n          line: \"line\"\n        };\n        exports.UIPointerActions = {\n          up: \"up\",\n          down: \"down\",\n          move: \"move\",\n          drag: \"drag\",\n          uidrag: \"uidrag\",\n          drop: \"drop\",\n          uidrop: \"uidrop\",\n          over: \"over\",\n          out: \"out\",\n          enter: \"enter\",\n          leave: \"leave\",\n          contextmenu: \"contextmenu\",\n          all: \"all\"\n        };\n\n        var UI = function () {\n          function UI(group, shape) {\n            var states = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n            var id = arguments[3];\n\n            _classCallCheck(this, UI);\n\n            this._holds = new Map();\n            this._group = Pt_1.Group.fromArray(group);\n            this._shape = shape;\n            this._id = id === undefined ? \"ui_\" + UI._counter++ : id;\n            this._states = states;\n            this._actions = {};\n          }\n\n          _createClass(UI, [{\n            key: \"state\",\n            value: function state(key, value) {\n              if (!key) return null;\n\n              if (value !== undefined) {\n                this._states[key] = value;\n                return this;\n              }\n\n              return this._states[key];\n            }\n          }, {\n            key: \"on\",\n            value: function on(type, fn) {\n              if (!this._actions[type]) this._actions[type] = [];\n              return UI._addHandler(this._actions[type], fn);\n            }\n          }, {\n            key: \"off\",\n            value: function off(type, which) {\n              if (!this._actions[type]) return false;\n\n              if (which === undefined) {\n                delete this._actions[type];\n                return true;\n              } else {\n                return UI._removeHandler(this._actions[type], which);\n              }\n            }\n          }, {\n            key: \"listen\",\n            value: function listen(type, p, evt) {\n              if (this._actions[type] !== undefined) {\n                if (this._within(p) || Array.from(this._holds.values()).indexOf(type) >= 0) {\n                  UI._trigger(this._actions[type], this, p, type, evt);\n\n                  return true;\n                } else if (this._actions['all']) {\n                  UI._trigger(this._actions['all'], this, p, type, evt);\n\n                  return true;\n                }\n              }\n\n              return false;\n            }\n          }, {\n            key: \"hold\",\n            value: function hold(type) {\n              var newKey = Math.max.apply(Math, [0].concat(_toConsumableArray(Array.from(this._holds.keys())))) + 1;\n\n              this._holds.set(newKey, type);\n\n              return newKey;\n            }\n          }, {\n            key: \"unhold\",\n            value: function unhold(key) {\n              if (key !== undefined) {\n                this._holds.delete(key);\n              } else {\n                this._holds.clear();\n              }\n            }\n          }, {\n            key: \"render\",\n            value: function render(fn) {\n              fn(this._group, this._states);\n            }\n          }, {\n            key: \"toString\",\n            value: function toString() {\n              return \"UI \" + this.group.toString;\n            }\n          }, {\n            key: \"_within\",\n            value: function _within(p) {\n              var fn = null;\n\n              if (this._shape === exports.UIShape.rectangle) {\n                fn = Op_1.Rectangle.withinBound;\n              } else if (this._shape === exports.UIShape.circle) {\n                fn = Op_1.Circle.withinBound;\n              } else if (this._shape === exports.UIShape.polygon) {\n                fn = Op_1.Polygon.hasIntersectPoint;\n              } else {\n                return false;\n              }\n\n              return fn(this._group, p);\n            }\n          }, {\n            key: \"id\",\n            get: function get() {\n              return this._id;\n            },\n            set: function set(d) {\n              this._id = d;\n            }\n          }, {\n            key: \"group\",\n            get: function get() {\n              return this._group;\n            },\n            set: function set(d) {\n              this._group = d;\n            }\n          }, {\n            key: \"shape\",\n            get: function get() {\n              return this._shape;\n            },\n            set: function set(d) {\n              this._shape = d;\n            }\n          }], [{\n            key: \"fromRectangle\",\n            value: function fromRectangle(group, states, id) {\n              return new this(group, exports.UIShape.rectangle, states, id);\n            }\n          }, {\n            key: \"fromCircle\",\n            value: function fromCircle(group, states, id) {\n              return new this(group, exports.UIShape.circle, states, id);\n            }\n          }, {\n            key: \"fromPolygon\",\n            value: function fromPolygon(group, states, id) {\n              return new this(group, exports.UIShape.polygon, states, id);\n            }\n          }, {\n            key: \"fromUI\",\n            value: function fromUI(ui, states, id) {\n              return new this(ui.group, ui.shape, states || ui._states, id);\n            }\n          }, {\n            key: \"track\",\n            value: function track(uis, type, p, evt) {\n              for (var i = 0, len = uis.length; i < len; i++) {\n                uis[i].listen(type, p, evt);\n              }\n            }\n          }, {\n            key: \"_trigger\",\n            value: function _trigger(fns, target, pt, type, evt) {\n              if (fns) {\n                for (var i = 0, len = fns.length; i < len; i++) {\n                  if (fns[i]) fns[i](target, pt, type, evt);\n                }\n              }\n            }\n          }, {\n            key: \"_addHandler\",\n            value: function _addHandler(fns, fn) {\n              if (fn) {\n                fns.push(fn);\n                return fns.length - 1;\n              } else {\n                return -1;\n              }\n            }\n          }, {\n            key: \"_removeHandler\",\n            value: function _removeHandler(fns, index) {\n              if (index >= 0 && index < fns.length) {\n                var temp = fns.length;\n                fns.splice(index, 1);\n                return temp > fns.length;\n              } else {\n                return false;\n              }\n            }\n          }]);\n\n          return UI;\n        }();\n\n        exports.UI = UI;\n        UI._counter = 0;\n\n        var UIButton = function (_UI) {\n          _inherits(UIButton, _UI);\n\n          function UIButton(group, shape) {\n            var states = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n            var id = arguments[3];\n\n            _classCallCheck(this, UIButton);\n\n            var _this = _possibleConstructorReturn(this, (UIButton.__proto__ || Object.getPrototypeOf(UIButton)).call(this, group, shape, states, id));\n\n            _this._hoverID = -1;\n            if (states.hover === undefined) _this._states['hover'] = false;\n            if (states.clicks === undefined) _this._states['clicks'] = 0;\n            var UA = exports.UIPointerActions;\n\n            _this.on(UA.up, function (target, pt, type, evt) {\n              _this.state('clicks', _this._states.clicks + 1);\n            });\n\n            _this.on(UA.move, function (target, pt, type, evt) {\n              var hover = _this._within(pt);\n\n              if (hover && !_this._states.hover) {\n                _this.state('hover', true);\n\n                UI._trigger(_this._actions[UA.enter], _this, pt, UA.enter, evt);\n\n                var _capID = _this.hold(UA.move);\n\n                _this._hoverID = _this.on(UA.move, function (t, p) {\n                  if (!_this._within(p) && !_this.state('dragging')) {\n                    _this.state('hover', false);\n\n                    UI._trigger(_this._actions[UA.leave], _this, pt, UA.leave, evt);\n\n                    _this.off(UA.move, _this._hoverID);\n\n                    _this.unhold(_capID);\n                  }\n                });\n              }\n            });\n\n            return _this;\n          }\n\n          _createClass(UIButton, [{\n            key: \"onClick\",\n            value: function onClick(fn) {\n              return this.on(exports.UIPointerActions.up, fn);\n            }\n          }, {\n            key: \"offClick\",\n            value: function offClick(id) {\n              return this.off(exports.UIPointerActions.up, id);\n            }\n          }, {\n            key: \"onContextMenu\",\n            value: function onContextMenu(fn) {\n              return this.on(exports.UIPointerActions.contextmenu, fn);\n            }\n          }, {\n            key: \"offContextMenu\",\n            value: function offContextMenu(id) {\n              return this.off(exports.UIPointerActions.contextmenu, id);\n            }\n          }, {\n            key: \"onHover\",\n            value: function onHover(enter, leave) {\n              var ids = [undefined, undefined];\n              if (enter) ids[0] = this.on(exports.UIPointerActions.enter, enter);\n              if (leave) ids[1] = this.on(exports.UIPointerActions.leave, leave);\n              return ids;\n            }\n          }, {\n            key: \"offHover\",\n            value: function offHover(enterID, leaveID) {\n              var s = [false, false];\n              if (enterID === undefined || enterID >= 0) s[0] = this.off(exports.UIPointerActions.enter, enterID);\n              if (leaveID === undefined || leaveID >= 0) s[1] = this.off(exports.UIPointerActions.leave, leaveID);\n              return s;\n            }\n          }]);\n\n          return UIButton;\n        }(UI);\n\n        exports.UIButton = UIButton;\n\n        var UIDragger = function (_UIButton) {\n          _inherits(UIDragger, _UIButton);\n\n          function UIDragger(group, shape) {\n            var states = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n            var id = arguments[3];\n\n            _classCallCheck(this, UIDragger);\n\n            var _this2 = _possibleConstructorReturn(this, (UIDragger.__proto__ || Object.getPrototypeOf(UIDragger)).call(this, group, shape, states, id));\n\n            _this2._draggingID = -1;\n            _this2._moveHoldID = -1;\n            _this2._dropHoldID = -1;\n            _this2._upHoldID = -1;\n            if (states.dragging === undefined) _this2._states['dragging'] = false;\n            if (states.moved === undefined) _this2._states['moved'] = false;\n            if (states.offset === undefined) _this2._states['offset'] = new Pt_1.Pt();\n            var UA = exports.UIPointerActions;\n\n            _this2.on(UA.down, function (target, pt, type, evt) {\n              if (_this2._moveHoldID === -1) {\n                _this2.state('dragging', true);\n\n                _this2.state('offset', new Pt_1.Pt(pt).subtract(target.group[0]));\n\n                _this2._moveHoldID = _this2.hold(UA.move);\n              }\n\n              if (_this2._dropHoldID === -1) {\n                _this2._dropHoldID = _this2.hold(UA.drop);\n              }\n\n              if (_this2._upHoldID === -1) {\n                _this2._upHoldID = _this2.hold(UA.up);\n              }\n\n              if (_this2._draggingID === -1) {\n                _this2._draggingID = _this2.on(UA.move, function (t, p) {\n                  if (_this2.state('dragging')) {\n                    UI._trigger(_this2._actions[UA.uidrag], t, p, UA.uidrag, evt);\n\n                    _this2.state('moved', true);\n                  }\n                });\n              }\n            });\n\n            var endDrag = function endDrag(target, pt, type, evt) {\n              _this2.state('dragging', false);\n\n              _this2.off(UA.move, _this2._draggingID);\n\n              _this2._draggingID = -1;\n\n              _this2.unhold(_this2._moveHoldID);\n\n              _this2._moveHoldID = -1;\n\n              _this2.unhold(_this2._dropHoldID);\n\n              _this2._dropHoldID = -1;\n\n              _this2.unhold(_this2._upHoldID);\n\n              _this2._upHoldID = -1;\n\n              if (_this2.state('moved')) {\n                UI._trigger(_this2._actions[UA.uidrop], target, pt, UA.uidrop, evt);\n\n                _this2.state('moved', false);\n              }\n            };\n\n            _this2.on(UA.drop, endDrag);\n\n            _this2.on(UA.up, endDrag);\n\n            _this2.on(UA.out, endDrag);\n\n            return _this2;\n          }\n\n          _createClass(UIDragger, [{\n            key: \"onDrag\",\n            value: function onDrag(fn) {\n              return this.on(exports.UIPointerActions.uidrag, fn);\n            }\n          }, {\n            key: \"offDrag\",\n            value: function offDrag(id) {\n              return this.off(exports.UIPointerActions.uidrag, id);\n            }\n          }, {\n            key: \"onDrop\",\n            value: function onDrop(fn) {\n              return this.on(exports.UIPointerActions.uidrop, fn);\n            }\n          }, {\n            key: \"offDrop\",\n            value: function offDrop(id) {\n              return this.off(exports.UIPointerActions.uidrop, id);\n            }\n          }]);\n\n          return UIDragger;\n        }(UIButton);\n\n        exports.UIDragger = UIDragger;\n        /***/\n      },\n\n      /***/\n      \"./src/Util.ts\":\n      /*!*********************!*\\\n        !*** ./src/Util.ts ***!\n        \\*********************/\n\n      /*! no static exports found */\n\n      /***/\n      function srcUtilTs(module, exports, __webpack_require__) {\n        \"use strict\";\n        /*! Source code licensed under Apache License 2.0. Copyright  2017-current William Ngan and contributors. (https://github.com/williamngan/pts) */\n\n        var _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) {\n          return typeof obj;\n        } : function (obj) {\n          return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n        };\n\n        var _createClass = function () {\n          function defineProperties(target, props) {\n            for (var i = 0; i < props.length; i++) {\n              var descriptor = props[i];\n              descriptor.enumerable = descriptor.enumerable || false;\n              descriptor.configurable = true;\n              if (\"value\" in descriptor) descriptor.writable = true;\n              Object.defineProperty(target, descriptor.key, descriptor);\n            }\n          }\n\n          return function (Constructor, protoProps, staticProps) {\n            if (protoProps) defineProperties(Constructor.prototype, protoProps);\n            if (staticProps) defineProperties(Constructor, staticProps);\n            return Constructor;\n          };\n        }();\n\n        function _toConsumableArray(arr) {\n          if (Array.isArray(arr)) {\n            for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) {\n              arr2[i] = arr[i];\n            }\n\n            return arr2;\n          } else {\n            return Array.from(arr);\n          }\n        }\n\n        function _classCallCheck(instance, Constructor) {\n          if (!(instance instanceof Constructor)) {\n            throw new TypeError(\"Cannot call a class as a function\");\n          }\n        }\n\n        Object.defineProperty(exports, \"__esModule\", {\n          value: true\n        });\n        exports.Util = exports.Const = void 0;\n\n        var Pt_1 = __webpack_require__(\n        /*! ./Pt */\n        \"./src/Pt.ts\");\n\n        exports.Const = {\n          xy: \"xy\",\n          yz: \"yz\",\n          xz: \"xz\",\n          xyz: \"xyz\",\n          horizontal: 0,\n          vertical: 1,\n          identical: 0,\n          right: 4,\n          bottom_right: 5,\n          bottom: 6,\n          bottom_left: 7,\n          left: 8,\n          top_left: 1,\n          top: 2,\n          top_right: 3,\n          epsilon: 0.0001,\n          max: Number.MAX_VALUE,\n          min: Number.MIN_VALUE,\n          pi: Math.PI,\n          two_pi: 6.283185307179586,\n          half_pi: 1.5707963267948966,\n          quarter_pi: 0.7853981633974483,\n          one_degree: 0.017453292519943295,\n          rad_to_deg: 57.29577951308232,\n          deg_to_rad: 0.017453292519943295,\n          gravity: 9.81,\n          newton: 0.10197,\n          gaussian: 0.3989422804014327\n        };\n\n        var Util = function () {\n          function Util() {\n            _classCallCheck(this, Util);\n          }\n\n          _createClass(Util, null, [{\n            key: \"warnLevel\",\n            value: function warnLevel(lv) {\n              if (lv) {\n                Util._warnLevel = lv;\n              }\n\n              return Util._warnLevel;\n            }\n          }, {\n            key: \"getArgs\",\n            value: function getArgs(args) {\n              if (args.length < 1) return [];\n              var pos = [];\n              var isArray = Array.isArray(args[0]) || ArrayBuffer.isView(args[0]);\n\n              if (typeof args[0] === 'number') {\n                pos = Array.prototype.slice.call(args);\n              } else if (_typeof(args[0]) === 'object' && !isArray) {\n                var a = [\"x\", \"y\", \"z\", \"w\"];\n                var p = args[0];\n\n                for (var i = 0; i < a.length; i++) {\n                  if (p.length && i >= p.length || !(a[i] in p)) break;\n                  pos.push(p[a[i]]);\n                }\n              } else if (isArray) {\n                pos = [].slice.call(args[0]);\n              }\n\n              return pos;\n            }\n          }, {\n            key: \"warn\",\n            value: function warn() {\n              var message = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : \"error\";\n              var defaultReturn = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : undefined;\n\n              if (Util.warnLevel() == \"error\") {\n                throw new Error(message);\n              } else if (Util.warnLevel() == \"warn\") {\n                console.warn(message);\n              }\n\n              return defaultReturn;\n            }\n          }, {\n            key: \"randomInt\",\n            value: function randomInt(range) {\n              var start = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n              Util.warn(\"Util.randomInt is deprecated. Please use `Num.randomRange`\");\n              return Math.floor(Math.random() * range) + start;\n            }\n          }, {\n            key: \"split\",\n            value: function split(pts, size, stride) {\n              var loopBack = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : false;\n              var matchSize = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : true;\n              var chunks = [];\n              var part = [];\n              var st = stride || size;\n              var index = 0;\n              if (pts.length <= 0 || st <= 0) return [];\n\n              while (index < pts.length) {\n                part = [];\n\n                for (var k = 0; k < size; k++) {\n                  if (loopBack) {\n                    part.push(pts[(index + k) % pts.length]);\n                  } else {\n                    if (index + k >= pts.length) break;\n                    part.push(pts[index + k]);\n                  }\n                }\n\n                index += st;\n                if (!matchSize || matchSize && part.length === size) chunks.push(part);\n              }\n\n              return chunks;\n            }\n          }, {\n            key: \"flatten\",\n            value: function flatten(pts) {\n              var flattenAsGroup = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : true;\n              var arr = flattenAsGroup ? new Pt_1.Group() : new Array();\n              return arr.concat.apply(arr, pts);\n            }\n          }, {\n            key: \"combine\",\n            value: function combine(a, b, op) {\n              var result = [];\n\n              for (var i = 0, len = a.length; i < len; i++) {\n                for (var k = 0, lenB = b.length; k < lenB; k++) {\n                  result.push(op(a[i], b[k]));\n                }\n              }\n\n              return result;\n            }\n          }, {\n            key: \"zip\",\n            value: function zip(arrays) {\n              var z = [];\n\n              for (var i = 0, len = arrays[0].length; i < len; i++) {\n                var p = [];\n\n                for (var k = 0; k < arrays.length; k++) {\n                  p.push(arrays[k][i]);\n                }\n\n                z.push(p);\n              }\n\n              return z;\n            }\n          }, {\n            key: \"stepper\",\n            value: function stepper(max) {\n              var min = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n              var stride = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 1;\n              var callback = arguments[3];\n              var c = min;\n              return function () {\n                c += stride;\n\n                if (c >= max) {\n                  c = min + (c - max);\n                }\n\n                if (callback) callback(c);\n                return c;\n              };\n            }\n          }, {\n            key: \"forRange\",\n            value: function forRange(fn, range) {\n              var start = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 0;\n              var step = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : 1;\n              var temp = [];\n\n              for (var i = start, len = range; i < len; i += step) {\n                temp[i] = fn(i);\n              }\n\n              return temp;\n            }\n          }, {\n            key: \"load\",\n            value: function load(url, callback) {\n              var request = new XMLHttpRequest();\n              request.open('GET', url, true);\n\n              request.onload = function () {\n                if (request.status >= 200 && request.status < 400) {\n                  callback(request.responseText, true);\n                } else {\n                  callback(\"Server error (\" + request.status + \") when loading \\\"\" + url + \"\\\"\", false);\n                }\n              };\n\n              request.onerror = function () {\n                callback(\"Unknown network error\", false);\n              };\n\n              request.send();\n            }\n          }, {\n            key: \"performance\",\n            value: function performance() {\n              var avgFrames = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 10;\n              var last = Date.now();\n              var avg = [];\n              return function () {\n                var now = Date.now();\n                avg.push(now - last);\n                if (avg.length >= avgFrames) avg.shift();\n                last = now;\n                return Math.floor(avg.reduce(function (a, b) {\n                  return a + b;\n                }, 0) / avg.length);\n              };\n            }\n          }, {\n            key: \"arrayCheck\",\n            value: function arrayCheck(pts) {\n              var minRequired = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 2;\n\n              if (Array.isArray(pts) && pts.length < minRequired) {\n                Util.warn(\"Requires \" + minRequired + \" or more Pts in this Group.\");\n                return false;\n              }\n\n              return true;\n            }\n          }, {\n            key: \"iterToArray\",\n            value: function iterToArray(it) {\n              return !Array.isArray(it) ? [].concat(_toConsumableArray(it)) : it;\n            }\n          }]);\n\n          return Util;\n        }();\n\n        exports.Util = Util;\n        Util._warnLevel = \"mute\";\n        /***/\n      },\n\n      /***/\n      \"./src/_module.ts\":\n      /*!************************!*\\\n        !*** ./src/_module.ts ***!\n        \\************************/\n\n      /*! no static exports found */\n\n      /***/\n      function src_moduleTs(module, exports, __webpack_require__) {\n        \"use strict\";\n\n        var __createBinding = undefined && undefined.__createBinding || (Object.create ? function (o, m, k, k2) {\n          if (k2 === undefined) k2 = k;\n          Object.defineProperty(o, k2, {\n            enumerable: true,\n            get: function get() {\n              return m[k];\n            }\n          });\n        } : function (o, m, k, k2) {\n          if (k2 === undefined) k2 = k;\n          o[k2] = m[k];\n        });\n\n        var __exportStar = undefined && undefined.__exportStar || function (m, exports) {\n          for (var p in m) {\n            if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(exports, p)) __createBinding(exports, m, p);\n          }\n        };\n\n        Object.defineProperty(exports, \"__esModule\", {\n          value: true\n        });\n\n        __exportStar(__webpack_require__(\n        /*! ./Canvas */\n        \"./src/Canvas.ts\"), exports);\n\n        __exportStar(__webpack_require__(\n        /*! ./Create */\n        \"./src/Create.ts\"), exports);\n\n        __exportStar(__webpack_require__(\n        /*! ./Form */\n        \"./src/Form.ts\"), exports);\n\n        __exportStar(__webpack_require__(\n        /*! ./LinearAlgebra */\n        \"./src/LinearAlgebra.ts\"), exports);\n\n        __exportStar(__webpack_require__(\n        /*! ./Num */\n        \"./src/Num.ts\"), exports);\n\n        __exportStar(__webpack_require__(\n        /*! ./Op */\n        \"./src/Op.ts\"), exports);\n\n        __exportStar(__webpack_require__(\n        /*! ./Pt */\n        \"./src/Pt.ts\"), exports);\n\n        __exportStar(__webpack_require__(\n        /*! ./Space */\n        \"./src/Space.ts\"), exports);\n\n        __exportStar(__webpack_require__(\n        /*! ./Color */\n        \"./src/Color.ts\"), exports);\n\n        __exportStar(__webpack_require__(\n        /*! ./Util */\n        \"./src/Util.ts\"), exports);\n\n        __exportStar(__webpack_require__(\n        /*! ./Dom */\n        \"./src/Dom.ts\"), exports);\n\n        __exportStar(__webpack_require__(\n        /*! ./Svg */\n        \"./src/Svg.ts\"), exports);\n\n        __exportStar(__webpack_require__(\n        /*! ./Typography */\n        \"./src/Typography.ts\"), exports);\n\n        __exportStar(__webpack_require__(\n        /*! ./Physics */\n        \"./src/Physics.ts\"), exports);\n\n        __exportStar(__webpack_require__(\n        /*! ./Play */\n        \"./src/Play.ts\"), exports);\n\n        __exportStar(__webpack_require__(\n        /*! ./UI */\n        \"./src/UI.ts\"), exports);\n        /***/\n\n      }\n      /******/\n\n    })\n  );\n});"],"sourceRoot":""}